<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Blazing Thunder - V1.1.8 (Elite Battles & New Gyms)</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script> <!-- Anime.js CDN -->
    <style>
        @font-face {
            font-family: 'Pokemon Pixel';
            src: url('https://fonts.gstatic.com/s/pressstart2p/v15/e3t4euO8T-267oIAQAu6jDQyK3nVivM.woff2') format('woff2');
            font-weight: normal; font-style: normal;
        }
        :root {
            --hp-high-color: #32CD32; --hp-medium-color: #FFD700; --hp-low-color: #DC143C;
            --bg-main-menu: linear-gradient(135deg, #4F89B2, #67B2D4); 
            --bg-trainer-display: rgba(255, 255, 255, 0.15); 
            --bg-trainer-frame: #79A8C2; 
            --border-trainer-frame: #FFD700; 
            --shadow-trainer-frame: #DAA520;
            --text-color-default: #FFF; --text-color-dark: #222;
            --bg-dialog: #2c3e50; --border-dialog: #34495e;
            --button-subtle-bg: #526476; --button-subtle-border: #3e4c5a; --button-subtle-shadow: #2a333c; --button-subtle-hover: #607488;
            --bg-options-menu: #2d3436; 
            --battle-ui-bg: rgba(25, 25, 30, 0.88);
            --battle-ui-border: #4a4a52;
            --battle-info-box-bg: rgba(35, 35, 40, 0.85);
            --battle-info-box-border: #5c5c66;
            --battle-text-color: #f0f0f0;
            --battle-button-bg: #4a5568;
            --battle-button-hover-bg: #5a677d;
            --battle-button-border: #6a7588;
            --status-brn-color: #FF4500; 
            --status-psn-color: #A040A0;
            --status-par-color: #FFDB58; 
            --status-slp-color: #A8A8A8; 
            --status-frz-color: #ADD8E6; 
            
            /* Updated item icons using direct URLs */
            --item-icon-pokeball: url('https://static.wikia.nocookie.net/pokemon/images/8/87/Pok%C3%A9_Ball.png/revision/latest?cb=20240922024755');
            --item-icon-greatball: url('https://static.wikia.nocookie.net/pokemon/images/4/45/Great_Ball.png/revision/latest?cb=20240611003335');
            --item-icon-evolutionstone: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIj48cGF0aCBmaWxsPSIjRkZBRjAwIiBkPSJNMTIgMi42NWwtMi4wOTEgNC4yMDkgNC42NjcgMi4xODItMi41NzYgNi4zOTIgNi4xODQgMS4wMzktMy41NzkgNS40MDctNC45NTUtNC4wNjUtNC45NTUgNC4wNjUtMy41NzktNS40MDcgNi4xODQtMS4wMzktMi41NzYtNi4zOTIgNC42NjctMi4xODJ6Ii8+PHBhdGggZmlsbD0iI0ZGRDg4MiIgZD0iTTEyIDRsLTEuNSA0IDQgMi0yIDUtNSAyLTEuNS01IDEuNS01LTUgMi0yLTQtMS41LTQgMS41IDIgMyA0IDMtNC0zLTQtMyAyIDUgMiA1eiIvPjwvc3ZnPg==');
            --pokeball-svg-battle: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij48Y2lyY2xlIGN4PSIxMCIgY3k9IjEwIiByPSI5IiBmaWxsPSJ3aGl0ZSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxIi8+PHBhdGggZD0iTTEsMTAgYTksOSAwIDAsMSAxOCwwIiBmaWxsPSJyZWQiLz48cGF0aCBkPSJNMSwxMCBoMTgiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMiIvPjxjaXJjbGUgY3g9IjEwIiBjeT0iMTAiIHI9IjMiIGZpbGw9IndoaXRlIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEiLz48Y2lyY2xlIGN4PSIxMCIgY3k9IjEwIiByPSIxLjUiIGZpbGw9IndoaXRlIi8+PC9zdmc+'); /* For team status balls */
        }
        body.dark-mode {
            --bg-main-menu: linear-gradient(to bottom, #1A2E3C, #2C3E50); 
            --bg-trainer-display: rgba(0, 0, 0, 0.3); 
            --bg-trainer-frame: #3A506B; 
            --border-trainer-frame: #feca57; 
            --shadow-trainer-frame: #e1b12c;
            --text-color-default: #e0e0e0; --text-color-dark: #d0d0d0;
            --bg-dialog: #1e2a38; --border-dialog: #2a3b4e;
            --button-subtle-bg: #485768; --button-subtle-border: #35414d; --button-subtle-shadow: #1e252c; --button-subtle-hover: #586a7e;
            --bg-options-menu: #1e272e;
            --battle-ui-bg: rgba(10, 10, 15, 0.9);
            --battle-ui-border: #33333a;
            --battle-info-box-bg: rgba(20, 20, 25, 0.88);
            --battle-info-box-border: #42424b;
            --battle-text-color: #f5f5f5;
            --battle-button-bg: #3a4558;
            --battle-button-hover-bg: #4a576d;
            --battle-button-border: #5a6578;
        }
        body, html { height: 100%; margin: 0; padding: 0; background-color: #000; font-family: 'Pokemon Pixel', sans-serif; overflow: hidden; display: flex; align-items: center; justify-content: center; }
        .game-container { 
            aspect-ratio: 16 / 10; 
            width: 100vw; 
            height: calc(100vw * 10 / 16); 
            max-width: 100vw; 
            max-height: 100vh; 
            @media (max-aspect-ratio: 16/10) {
                height: 100vh; 
                width: calc(100vh * 16 / 10); 
            } 
            display: flex; flex-direction: column; background-color: #000; position: relative; 
            image-rendering: pixelated; image-rendering: -moz-crisp-edges; image-rendering: crisp-edges; 
            overflow: hidden; border: 2px solid #333; box-sizing: border-box; 
            margin: auto; 
            box-shadow: 0 0 15px rgba(0,0,0,0.5); 
        }
        body.dark-mode .game-container { border-color: #555; box-shadow: 0 0 15px rgba(100,100,100,0.3); }
        .screen { width: 100%; height: 100%; display: flex; flex-direction: column; color: var(--text-color-default); box-sizing: border-box; overflow: hidden; }
        
        #introScreen .top-bar { flex-shrink: 0; height: 10%; background-color: #E85828; border-bottom: 2px solid #000; } #introScreen .main-content { flex-grow: 1; background-color: #003366; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 2% 3%; position: relative; overflow: hidden; } #introScreen .title-area { z-index: 1; flex-shrink: 0; max-width: 90%; text-align: center; margin-bottom: 2vmin; } #introScreen .game-title { font-size: clamp(1.8em, 7vmin, 3em); color: #FFF; background-color: #000; padding: 0.2em 0.4em; margin-bottom: 0.3em; transform: skewX(-10deg); text-shadow: 1px 1px #555; line-height: 1.1; display: inline-block; } #introScreen .game-title .line1, #introScreen .game-title .line2 { display: block; } #introScreen .pokemon-image-container { width: clamp(200px, 60vmin, 350px); height: auto; aspect-ratio: 16/9; display: flex; align-items: center; justify-content: center; position: relative; margin-top: 2vmin; } #introScreen .pokemon-image { width: 100%; height: 100%; background-image: url('https://www.pokemonunited.nl/wp-content/uploads/pokemon-legendary-2018-entei-raikou.jpg'); background-repeat: no-repeat; background-position: center center; background-size: contain; } #introScreen .press-start-area { flex-shrink: 0; height: 15%; background-color: #000; display: flex; align-items: center; justify-content: center; border-top: 3px solid #000; width: 100%; } #introScreen .start-button { font-size: clamp(1.2em, 5vmin, 2em); color: #DDD; background-color: transparent; border: none; padding: 0.8em 1.2em; cursor: pointer; text-transform: uppercase; animation: blink-animation 1.5s steps(2, start) infinite; } @keyframes blink-animation { to { visibility: hidden; } } #introScreen .start-button:hover { color: #FFF; } #introScreen .bottom-bar { flex-shrink: 0; height: 10%; background-color: #A02010; border-top: 2px solid #000; display: flex; align-items: center; justify-content: center; color: #FFF; font-size: clamp(0.7em, 2.8vmin, 1em); text-align: center; padding: 0 5px; }
        #characterSelectScreen, #starterSelectScreen { background-color: #111; padding: 3vmin; align-items: center; justify-content: flex-start; overflow-y: auto; } 
        #characterSelectScreen h2, #starterSelectScreen h2 { font-size: clamp(1.5em, 5vmin, 2em); margin-top: 1vmin; margin-bottom: 3vmin; text-align: center; flex-shrink: 0; } 
        .trainers-grid, .starters-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(clamp(120px, 30vw, 180px), 1fr)); width: 100%; max-width: 800px; gap: 3vmin; padding: 1vmin; } 
        .trainer-card, .starter-card { display: flex; flex-direction: column; align-items: center; justify-content: space-between; padding: 1.5vmin; border: 3px solid #666; border-radius: 10px; cursor: pointer; transition: border-color 0.3s, transform 0.2s; background-color: #2a2a2a; box-sizing: border-box; box-shadow: 0 2px 5px rgba(0,0,0,0.3); } 
        .trainer-card:hover, .starter-card:hover { border-color: #FFF; transform: scale(1.05); } 
        .trainer-card img, .starter-card img { max-width: 100%; height: auto; max-height: 30vh; object-fit: contain; margin-bottom: 1.5vmin; border-radius: 6px; } 
        .trainer-card p, .starter-card p { margin: 0; font-size: clamp(0.8em, 3vmin, 1.1em); text-align: center; flex-shrink: 0; margin-top: auto; }
        
        .dialog-overlay { position: absolute; inset: 0; background-color: rgba(0,0,0,0.8); display: none; flex-direction: column; align-items: center; justify-content: center; z-index: 100; padding: 15px; box-sizing: border-box;} .dialog-content { background-color: var(--bg-dialog); padding: clamp(20px, 5vmin, 35px); border-radius: 12px; border: 3px solid var(--border-dialog); text-align: center; box-shadow: 0 0 20px rgba(0,0,0,0.6); color: var(--text-color-default); max-width: 90%; width: auto; min-width: clamp(280px, 70vw, 450px); } .dialog-content p { margin-top: 0; margin-bottom: clamp(15px, 4vmin, 30px); font-size: clamp(1em, 4vmin, 1.5em); } .dialog-buttons button { font-family: 'Pokemon Pixel', sans-serif; font-size: clamp(0.9em, 3.5vmin, 1.3em); padding: clamp(10px, 2.5vmin, 18px) clamp(18px, 3.5vmin, 30px); margin: 0.5vmin 1.5vmin; border: 2px solid #777; background-color: #444; color: #FFF; cursor: pointer; border-radius: 8px; transition: background-color 0.2s, border-color 0.2s, transform 0.1s; } .dialog-buttons button:hover { background-color: #555; border-color: #999; transform: translateY(-1px); } #confirmYes:hover, #resetConfirmYes:hover, #confirmStarterYes:hover { background-color: #28a745; border-color: #1e7e34; } #confirmNo:hover, #resetConfirmNo:hover, #confirmStarterNo:hover { background-color: #dc3545; border-color: #c82333; } #resetConfirmDialog .reset-warning { color: #ffc107; font-weight: bold; } 

        #mainMenuScreen { 
            background: var(--bg-main-menu); 
            flex-direction: column; padding: 2vmin; 
            align-items: center; 
            justify-content: space-between; 
            gap: 1.5vmin; 
            height: 100%;
            @media (min-width: 768px) { 
                flex-direction: row; align-items: stretch; 
                justify-content: space-between; padding: 3vmin; gap: 3vmin; 
            } 
        } 
        .menu-options { 
            display: flex; flex-direction: column; gap: 1.5vmin; 
            width: 100%; max-width: 400px; 
            justify-content: center; 
            flex-shrink: 0; 
            @media (min-width: 768px) { width: 50%; max-width: none; gap: 2vmin; } 
        } 
        .menu-options button { 
            font-family: 'Pokemon Pixel', sans-serif; font-size: clamp(1em, 3.2vmin, 1.3em); 
            padding: clamp(10px, 1.8vmin, 18px) 1vmin; 
            border-radius: 12px; color: #FFF; text-shadow: 1px 1px #222; 
            cursor: pointer; transition: transform 0.1s, box-shadow 0.2s; 
            text-align: center; border-style: solid; border-width: 2px 3px 4px 2px; 
        } 
        .menu-options button:active { transform: translateY(2px); border-bottom-width: 2px; box-shadow: none; } 
        #btnPlay { background-color: #2ecc71; border-color: #27ae60; } 
        #btnOptions { background-color: #3498db; border-color: #2980b9; }
        
        .trainer-display-area { 
            width: 100%; max-width: 400px; 
            flex-grow: 1; 
            min-height: 0; 
            display: flex; flex-direction: column; align-items: center; justify-content: flex-start; 
            background-color: var(--bg-trainer-display); padding: 1.5vmin; 
            border-radius: 15px; box-sizing: border-box; box-shadow: 0 4px 10px rgba(0,0,0,0.2); 
            overflow-y: auto; 
            @media (min-width: 768px) { 
                width: 45%; max-width: none; height: 100%; flex-grow: 0; overflow-y: hidden;
            } 
        } 
        .trainer-card-frame { 
            width: 100%; 
            height: 55%; 
            max-height: 280px; 
            min-height: clamp(100px, 20vh, 180px); 
            flex-shrink: 0; 
            position:relative; border: 6px solid var(--border-trainer-frame); 
            background-color: var(--bg-trainer-frame); border-radius: 10px; 
            box-shadow: inset 0 0 0 4px var(--shadow-trainer-frame), 0 2px 4px rgba(0,0,0,0.3); 
            display: flex; align-items: center; justify-content: center; 
            margin-bottom: 1vmin; 
            box-sizing:border-box; overflow: hidden;
        } 
        #chosenTrainerImageMainMenu { max-width: 95%; max-height: 95%; object-fit: contain; border-radius: 4px; } 
        #playerCoinsDisplayMainMenu { 
            font-size: clamp(0.8em, 2.5vmin, 1em); 
            color: var(--text-color-default); text-shadow: 1px 1px #222; 
            padding: 0.6vmin 1.2vmin; background-color: rgba(0,0,0,0.25); 
            border-radius: 6px; margin: 1vmin 0; 
            text-align: center; width: fit-content; align-self: center;
            flex-shrink: 0; 
        }
        .submenu-tabs-container { 
            width: 100%; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            gap: 1vmin; 
            flex-shrink: 0; 
            margin-top: 1vmin; 
            padding-bottom: 0.5vmin; 
            overflow-y: auto; 
        } 
        .submenu-tab { 
            font-family: 'Pokemon Pixel', sans-serif; 
            font-size: clamp(0.8em, 2.8vmin, 1.1em); 
            background-color: var(--button-subtle-bg); color: var(--text-color-default); 
            padding: clamp(8px, 1.2vmin, 12px) 1vmin; 
            border: 2px solid var(--button-subtle-border);
            border-bottom: 4px solid var(--button-subtle-shadow); 
            border-radius: 10px; 
            text-align: center; cursor: pointer;
            width: 90%; 
            max-width: 320px; 
            transition: background-color 0.2s, transform 0.1s; 
            box-shadow: 0 2px 3px rgba(0,0,0,0.2);
            flex-shrink: 0; 
        } 
        .submenu-tab:hover { background-color: var(--button-subtle-hover); } 
        .submenu-tab:active { transform: translateY(1px); border-bottom-width: 2px; box-shadow: none; }

        #optionsMenuScreen, #playMenuScreen, #marketScreen, #inventoryScreen, #teamScreen, #teamSelectScreen, #gymLeaderSelectScreen, #gymLeaderDetailScreen, #myCardsScreen, #starterSelectScreen { background-color: var(--bg-options-menu); padding: 4vmin; align-items: center; justify-content: center; gap: 2.5vmin; overflow-y: auto; }
        #optionsMenuScreen h2, #playMenuScreen h2, #marketScreen h2, #inventoryScreen h2, #teamScreen h2, #teamSelectScreen h2, #gymLeaderSelectScreen h2, #gymLeaderDetailScreen h2, #myCardsScreen h2, #starterSelectScreen h2 { font-size: clamp(1.6em, 6vmin, 2.5em); margin-bottom: 3vmin; text-align: center; flex-shrink: 0; }
        #optionsMenuScreen .options-button, #playMenuScreen .play-mode-button, #marketScreen .market-back-button, #inventoryScreen .inventory-back-button, #teamScreen .team-back-button, #teamSelectScreen .team-select-button, #gymLeaderSelectScreen .gym-leader-button, #gymLeaderDetailScreen .gym-detail-button, #myCardsScreen .my-cards-back-button { font-family: 'Pokemon Pixel', sans-serif; font-size: clamp(1em, 4vmin, 1.5em); padding: 2vmin 3.5vmin; width: 80%; max-width: 400px; border-radius: 12px; color: #FFF; text-shadow: 1px 1px #222; cursor: pointer; transition: transform 0.1s, box-shadow 0.2s; text-align: center; border-style: solid; border-width: 2px 3px 4px 2px; margin-bottom: 2vmin; }
        #optionsMenuScreen #btnSaveGameOpt { background-color: #95a5a6; border-color: #7f8c8d; color: #2c3e50;} 
        #optionsMenuScreen #btnResetGameOpt, #playMenuScreen #btnQuickBattlePlay { background-color: #e74c3c; border-color: #c0392b;} 
        #optionsMenuScreen #btnDarkModeOpt { background-color: #34495e; border-color: #2c3e50;} 
        #optionsMenuScreen #btnBackToMainOpts, #playMenuScreen #btnBackToMainFromPlay, #marketScreen .market-back-button, #inventoryScreen .inventory-back-button, #teamScreen .team-back-button, #teamSelectScreen .team-select-button, #gymLeaderSelectScreen .gym-leader-button.back, #gymLeaderDetailScreen .gym-detail-button.back, #myCardsScreen .my-cards-back-button { background-color: #3498db; border-color: #2980b9;} 
        #playMenuScreen #btnGymBattlePlay { background-color: #f39c12; border-color: #e67e22; } 
        #playMenuScreen #btnWildModePlay { background-color: #2ecc71; border-color: #27ae60; }
        #playMenuScreen #btnEliteBattlesPlay { background-color: #bf00ff; border-color: #a000d4; } /* New Elite Battles Button */
        #optionsMenuScreen .options-button:active, #playMenuScreen .play-mode-button:active, #marketScreen .market-back-button:active, #inventoryScreen .inventory-back-button:active, #teamScreen .team-back-button:active, #teamSelectScreen .team-select-button:active, #gymLeaderSelectScreen .gym-leader-button:active, #gymLeaderDetailScreen .gym-detail-button:active, #myCardsScreen .my-cards-back-button:active { transform: translateY(1px); border-bottom-width: 2px; box-shadow: none; }
        
        #gymLeaderSelectScreen .gym-leader-button { background-color: #8e44ad; border-color: #732d91; }
        #gymLeaderDetailScreen #gymLeaderCardImage { max-width: 80%; max-height: 50vh; object-fit: contain; margin-bottom: 2vmin; border: 3px solid var(--border-trainer-frame); border-radius: 10px; }
        #gymLeaderDetailScreen #btnStartGymBattle { background-color: #e67e22; border-color: #d35400; }
        
        #myCardsScreen .cards-collection-grid, #myCardsScreen .badges-collection-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(clamp(120px, 25vw, 180px), 1fr)); gap: 2vmin; width: 100%; max-width: 700px; margin-bottom: 3vmin; padding: 1vmin; background-color: rgba(0,0,0,0.15); border-radius: 8px; }
        #myCardsScreen .collected-card-item img { width: 100%; height: auto; object-fit: contain; border-radius: 6px; border: 2px solid var(--button-subtle-border); }
        #myCardsScreen .collected-badge-item { display: flex; flex-direction: column; align-items: center; text-align: center; }
        #myCardsScreen .collected-badge-item img { width: clamp(50px, 12vmin, 80px); height: clamp(50px, 12vmin, 80px); object-fit: contain; margin-bottom: 0.5vmin; animation: badge-float 3s ease-in-out infinite; }
        #myCardsScreen .collected-badge-item p { font-size: clamp(0.7em, 2.5vmin, 0.9em); margin: 0; }
        @keyframes badge-float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }
        #myCardsScreen .no-collected-items { text-align: center; font-style: italic; opacity: 0.7; width: 100%; padding: 2vmin; }


        #teamSelectGrid { display: grid; grid-template-columns: repeat(auto-fit, minmax(clamp(180px, 40vw, 240px), 1fr)); gap: 20px; width: 95%; max-width: 700px; overflow-y: auto; max-height: 60vh; padding: 10px; margin-bottom: 2vmin; }
        .team-select-option { background-color: #3a3a3a; color: #f0f0f0; border: 3px solid #555; border-radius: 10px; padding: 12px; display: flex; align-items: center; gap: 12px; cursor: pointer; transition: background-color 0.2s, border-color 0.2s; }
        .team-select-option.selected { background-color: #5cb85c; border-color: #4cae4c; }
        .team-select-option.disabled { opacity: 0.5; cursor: not-allowed; }
        .team-select-option img { width: clamp(40px, 10vmin, 50px); height: clamp(40px, 10vmin, 50px); object-fit: contain; background-color: #555; border-radius: 6px; border: 1px solid #777; flex-shrink: 0; }
        .team-select-info .name { font-size: 1.1em; margin-bottom: 5px; display: block; }
        .team-select-info .hp-bar-container { height: clamp(8px, 1.5vmin, 10px); margin-bottom: 3px; } 
        .team-select-info .hp-numbers { font-size: 0.9em; text-align: left;}


        #marketCoinDisplay { font-size: clamp(1em, 3.5vmin, 1.3em); margin-bottom: 3vmin; padding: 1vmin 2vmin; background-color: rgba(0,0,0,0.3); border-radius: 5px; }
        .market-items-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(clamp(150px, 35vw, 220px), 1fr)); gap: 3vmin; width: 100%; max-width: 700px; }
        .market-item { background-color: var(--button-subtle-bg); border: 2px solid var(--button-subtle-border); border-radius: 10px; padding: 2vmin; text-align: center; display: flex; flex-direction: column; align-items: center; gap: 1vmin; box-shadow: 0 2px 4px var(--button-subtle-shadow); }
        .market-item img.item-icon { 
            width: clamp(40px, 10vmin, 60px); height: clamp(40px, 10vmin, 60px); 
            background-color: rgba(255,255,255,0.1); border-radius: 5px; 
            padding: 0.5vmin; object-fit: contain; margin-bottom: 1vmin; 
            /* Ensure background image is used if src is placeholder */
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }
        /* Specific classes for market icons to use CSS variables */
        .market-item img.item-icon.pokeball-icon { background-image: var(--item-icon-pokeball); }
        .market-item img.item-icon.greatball-icon { background-image: var(--item-icon-greatball); }
        .market-item img.item-icon.evolutionstone-icon { background-image: var(--item-icon-evolutionstone); }

        .market-item .item-name { font-size: clamp(0.9em, 3vmin, 1.1em); font-weight: bold; }
        .market-item .item-price { font-size: clamp(0.8em, 2.8vmin, 1em); }
        .market-item .buy-button { background-color: #2ecc71; border-color: #27ae60; color: #fff; font-size: clamp(0.8em, 3vmin, 1em); padding: 1vmin 1.5vmin; border-radius: 6px; cursor: pointer; transition: background-color 0.2s, transform 0.1s; width: 80%; }
        .market-item .buy-button:hover { background-color: #25a25a; transform: translateY(-1px); }
        .market-item .buy-button:disabled { background-color: #7f8c8d; border-color: #6c7a7b; cursor: not-allowed; opacity: 0.7; }
        
        .inventory-grid, .team-grid { display: flex; flex-direction: column; gap: 2vmin; width: 100%; max-width: 500px; padding: 1vmin; background-color: rgba(0,0,0,0.2); border-radius: 8px; min-height: 100px; max-height: 60vh; overflow-y: auto;}
        .inventory-item { display: flex; align-items: center; gap: 2vmin; background-color: var(--button-subtle-bg); padding: 1.5vmin; border-radius: 6px; border: 1px solid var(--button-subtle-border); }
        .team-pokemon-card { 
            display: flex; align-items: center; gap: 1.5vmin; 
            background-color: var(--button-subtle-bg); 
            padding: 1.5vmin; border-radius: 6px; 
            border: 1px solid var(--button-subtle-border); 
        }
        .team-pokemon-card .pokemon-order-controls { display: flex; flex-direction: column; gap: 0.5vmin; margin-right: 1vmin; }
        .team-pokemon-card .order-btn { 
            font-family: 'Pokemon Pixel', sans-serif; font-size: clamp(0.7em, 2vmin, 0.9em); 
            padding: 0.5vmin; width: 25px; height: 25px; line-height: 1;
            background-color: var(--battle-button-bg); color: var(--battle-text-color); 
            border: 1px solid var(--battle-button-border); border-radius: 4px; cursor: pointer;
        }
        .team-pokemon-card .order-btn:hover:not(:disabled) { background-color: var(--battle-button-hover-bg); }
        .team-pokemon-card .order-btn:disabled { opacity: 0.5; cursor: not-allowed; }

        .inventory-item img.item-icon, .team-pokemon-card img.pokemon-list-sprite { width: clamp(30px, 8vmin, 40px); height: clamp(30px, 8vmin, 40px); background-color: rgba(255,255,255,0.1); border-radius: 4px; padding: 0.5vmin; object-fit: contain; flex-shrink: 0; }
        /* Ensure inventory icons also use CSS vars if src is placeholder */
        .inventory-item img.item-icon { background-size: contain; background-repeat: no-repeat; background-position: center; }

        .inventory-item .item-details, .team-pokemon-card .pokemon-details { font-size: clamp(0.9em, 3vmin, 1.1em); flex-grow: 1; }
        .inventory-item .item-name, .team-pokemon-card .pokemon-name { font-weight: bold; }
        .inventory-grid .no-items, .team-grid .no-pokemon { text-align: center; padding: 2vmin; font-style: italic; opacity: 0.7; }
        
        #battleScreen { position: relative; background-image: url('https://pokemonrevolution.net/forum/uploads/monthly_2021_03/DVMT-6OXcAE2rZY.jpg.afab972f972bd7fbd4253bc7aa1cf27f.jpg') !important; background-size: cover; background-position: center bottom; display: flex; flex-direction: column; }
        .battle-arena { flex-grow: 1; position: relative; min-height: 55%; } 
        #attackAnimationLayer { position: absolute; inset: 0; pointer-events: none; overflow: hidden; z-index: 50; }
        .attack-animation { 
            position: absolute;
        }

        .pokemon-sprite { position: absolute; image-rendering: pixelated; width: clamp(110px, 33vmin, 220px); height: clamp(110px, 33vmin, 220px); transition: transform 0.3s ease-in-out; transform-origin: bottom center; z-index: 10; }
        .opponent-sprite { top: 14%; right: 8%; transform: scale(1.4); } 
        .player-sprite { bottom: 5vmin; left: 8%; transform: scale(2.1); }
        .opponent-sprite img, .player-sprite img { width: 100%; height: 100%; object-fit: contain; }
        .battle-info-box { position: absolute; background-color: var(--battle-info-box-bg); border: 3px solid var(--battle-info-box-border); border-radius: 10px; padding: clamp(8px, 1.5vmin, 12px) clamp(10px, 2vmin, 15px); width: clamp(170px, 42%, 280px); box-shadow: 0 3px 8px rgba(0,0,0,0.5); color: var(--battle-text-color); font-size: clamp(0.75em, 2.2vmin, 1em); z-index: 60; display: flex; flex-direction: column; }
        .opponent-info { top: 3%; left: 2%; } 
        .player-info { bottom: calc(28% + 2vmin); right: 2%; } 
        .info-line { display: flex; justify-content: space-between; margin-bottom: 0.6vmin; align-items: center;} 
        .info-line .name { font-weight: bold; font-size: 1.15em; } 
        .info-line .status-tag { font-size: 0.85em; padding: 0.2em 0.5em; border-radius: 4px; color: white; margin-left: 0.5em; font-weight: bold; text-shadow: 1px 1px 1px rgba(0,0,0,0.5); }
        .status-tag.BRN { background-color: var(--status-brn-color); }
        .status-tag.PSN { background-color: var(--status-psn-color); }
        .status-tag.PAR { background-color: var(--status-par-color); color: #4a3b00; } 
        .status-tag.SLP { background-color: var(--status-slp-color); }
        .status-tag.FRZ { background-color: var(--status-frz-color); color: #005566; } 
        .hp-bar-container { width: 100%; height: clamp(12px, 2vmin, 18px); background-color: #555; border: 1px solid #333; border-radius: 6px; overflow: hidden; margin: 0.6vmin 0; display: flex; align-items: center; }
        .hp-bar-container span { font-size: clamp(0.7em, 1.8vmin, 0.9em); font-weight: bold; color: white; background-color: rgba(0,0,0,0.6); padding: 0.1vmin 0.6vmin; margin-left: 0.4vmin; border-radius: 4px; }
        .hp-bar-fill { height: 100%; background-color: var(--hp-high-color); border-radius: 4px 0 0 4px; transition: width 0.5s ease-in-out, background-color 0.5s ease-in-out; }
        .player-info .hp-numbers, .opponent-info .hp-numbers { text-align: right; font-size: clamp(0.85em, 2.2vmin, 1.05em); margin-top: 0.6vmin; color: var(--battle-text-color); opacity: 0.9; font-weight: bold; }
        .team-status { display: flex; gap: 1.2vmin; margin-top: 1.2vmin; justify-content: flex-start; padding-left: 3px; } 
        .status-ball { width: clamp(12px, 2.8vmin, 18px); height: clamp(12px, 2.8vmin, 18px); display: inline-block; background-image: var(--pokeball-svg-battle); background-size: contain; background-repeat: no-repeat; background-position: center; transition: filter 0.3s, opacity 0.3s; }
        .status-ball.fainted { filter: grayscale(100%) contrast(0.5); opacity: 0.5; } 
        .battle-ui-bottom { flex-shrink: 0; height: 28%; display: flex; border-top: 4px solid var(--battle-ui-border); background-color: var(--battle-ui-bg); border-radius: 12px 12px 0 0; z-index: 70; box-shadow: 0 -3px 10px rgba(0,0,0,0.4); }
        .battle-textbox { flex-grow: 1; height: 100%; border: none; padding: clamp(10px, 2vmin, 16px); box-sizing: border-box; color: var(--battle-text-color); font-size: clamp(0.9em, 2.5vmin, 1.2em); line-height: 1.35; position: relative; overflow-y: auto; }
        #battleMessage { margin: 0; text-shadow: 1px 1px 2px rgba(0,0,0,0.7); }
        .battle-menu { background-color: transparent; padding: clamp(0.8vmin, 1.2vmin, 1.8vmin); box-sizing: border-box; }
        .battle-action-menu { 
            position: relative; flex-shrink: 0; 
            width: clamp(130px, 30%, 180px); height: 100%; 
            display: grid; grid-template-columns: 1fr; 
            gap: clamp(0.6vmin, 1vmin, 1.2vmin); 
            align-content: center; 
            padding: clamp(1vmin, 1.5vmin, 2vmin); 
            border-left: 3px solid var(--battle-ui-border); 
        }
        .battle-action-menu.extended { 
            grid-template-rows: repeat(4, 1fr); 
            align-content: stretch; 
        }
        .battle-move-menu, .battle-item-menu { width: 100%; height: 100%; display: grid; grid-template-columns: 1fr 1fr; gap: clamp(1vmin, 1.3vmin, 1.8vmin); padding: clamp(1vmin, 1.5vmin, 2vmin); align-items: stretch; align-content: center; }
        .battle-menu button { font-family: 'Pokemon Pixel', sans-serif; font-size: clamp(0.8em, 2.3vmin, 1em); color: var(--battle-text-color); background-color: var(--battle-button-bg); border: 2px solid var(--battle-button-border); border-radius: 8px; padding: clamp(0.6vmin, 1.2vmin, 1.5vmin) clamp(0.3vmin, 0.5vmin, 0.7vmin); cursor: pointer; text-align: center; transition: background-color 0.2s, border-color 0.2s, transform 0.1s; box-shadow: 0 2px 3px rgba(0,0,0,0.3); overflow: hidden; text-overflow: ellipsis;}
        .battle-menu button:hover:not(:disabled) { background-color: var(--battle-button-hover-bg); border-color: lighten(var(--battle-button-border), 10%); transform: translateY(-1px); }
        .battle-menu button:disabled { opacity: 0.6; cursor: not-allowed; background-color: desaturate(var(--battle-button-bg), 30%); }
        .battle-move-menu button, .battle-item-menu button { display: flex; flex-direction: column; align-items: center; justify-content: center; line-height: 1.3; min-height: clamp(38px, 8.5vmin, 58px); }
        .move-name, .item-name-battle { display: block; margin-bottom: 0.4vmin; word-break: break-word; font-size: clamp(0.75em, 2.1vmin, 0.95em); }
        .move-pp, .item-count-battle { font-size: clamp(0.65em, 1.7vmin, 0.8em); color: var(--battle-text-color); opacity: 0.85; }
        .item-icon-battle { width: clamp(16px, 3vmin, 20px); height: clamp(16px, 3vmin, 20px); margin-right: 5px; vertical-align: middle; background-size: contain; background-repeat: no-repeat; background-position: center; display: inline-block; }
        .item-icon-battle.pokeball { background-image: var(--item-icon-pokeball); } /* For battle menu, might need specific styling if different from market */
        .item-icon-battle.greatball { background-image: var(--item-icon-greatball); }
        .item-icon-battle.evolutionstone { background-image: var(--item-icon-evolutionstone); }
        @keyframes shake { 0%, 100% { transform: translateX(0) scale(var(--sprite-scale, 1)); } 10%, 30%, 50%, 70%, 90% { transform: translateX(-5px) scale(var(--sprite-scale, 1)); } 20%, 40%, 60%, 80% { transform: translateX(5px) scale(var(--sprite-scale, 1)); } } 
        .shake-anim { animation: shake 0.5s linear; }
        .opponent-sprite.shake-anim { --sprite-scale: 1.4; }
        .player-sprite.shake-anim { --sprite-scale: 2.1; }
        @keyframes flash { 0%, 100% { filter: brightness(1); } 50% { filter: brightness(2.5); } } 
        .flash-anim > img { animation: flash 0.15s linear 2; }
        #switchPokemonScreen, #teamSelectScreen { background-color: rgba(0,0,0,0.9); position: absolute; inset: 0; z-index: 90; align-items: center; justify-content: center; padding: 20px; display: none; flex-direction: column; }
        #switchPokemonScreen h2, #teamSelectScreen h2 { margin-bottom: 25px; font-size: clamp(1.4em, 4.5vmin, 1.8em); }
        .switch-grid, #teamSelectGrid { display: grid; grid-template-columns: repeat(auto-fit, minmax(clamp(180px, 40vw, 240px), 1fr)); gap: 20px; width: 95%; max-width: 700px; overflow-y: auto; max-height: 65vh; padding: 10px; }
        .switch-option, .team-select-option { background-color: #3a3a3a; color: #f0f0f0; border: 3px solid #555; border-radius: 10px; padding: 12px; display: flex; align-items: center; gap: 12px; cursor: pointer; transition: background-color 0.2s, border-color 0.2s, transform 0.1s; box-shadow: 0 2px 4px rgba(0,0,0,0.4); }
        .switch-option.fainted, .team-select-option.fainted { background-color: #2a2a2a; border-color: #444; cursor: not-allowed; opacity: 0.5; } 
        .switch-option.active, .team-select-option.active { background-color: #505050; cursor: default; border-color: #777; }
        .switch-option:not(.fainted):not(.active):hover, .team-select-option:not(.fainted):not(.active):hover { background-color: #484848; border-color: #888; transform: translateY(-2px); }
        .team-select-option.selected { background-color: #28a745; border-color: #1e7e34;} 
        .switch-option img, .team-select-option img { width: clamp(40px, 10vmin, 50px); height: clamp(40px, 10vmin, 50px); object-fit: contain; background-color: #555; border-radius: 6px; border: 1px solid #777; flex-shrink: 0; }
        .switch-info, .team-select-info { font-size: clamp(0.75em, 2.2vmin, 0.9em); flex-grow: 1; } 
        .switch-info .name, .team-select-info .name { font-size: 1.1em; margin-bottom: 5px; display: block; }
        .switch-info .hp-bar-container, .team-select-info .hp-bar-container { height: clamp(8px, 1.5vmin, 10px); margin-bottom: 3px; } 
        .switch-info .hp-numbers, .team-select-info .hp-numbers { font-size: 0.9em; text-align: left;}
        #switchCancelButton, #teamSelectConfirmButton { margin-top: 25px; font-family: 'Pokemon Pixel', sans-serif; font-size: clamp(1em, 3.8vmin, 1.3em); padding: 12px 25px; border: 2px solid #c0392b; background-color: #e74c3c; color: #FFF; cursor: pointer; border-radius: 8px; transition: background-color 0.2s, border-color 0.2s, transform 0.1s; }
        #switchCancelButton:hover, #teamSelectConfirmButton:hover:not(:disabled) { background-color: #c0392b; border-color: #a03020; transform: translateY(-1px); }
        #teamSelectConfirmButton { background-color: #28a745; border-color: #1e7e34; }
        #teamSelectConfirmButton:disabled { background-color: #7f8c8d; border-color: #6c7a7b; cursor: not-allowed; opacity: 0.7; }

        .pokeball-throw-animation { position: absolute; width: clamp(20px, 5vmin, 30px); height: clamp(20px, 5vmin, 30px); background-image: var(--item-icon-pokeball); background-size: contain; background-repeat: no-repeat; z-index: 100; animation: throwAndWiggle 3.5s forwards; transform-origin: center bottom; }
        @keyframes throwAndWiggle { 0% { transform: translate(0,0) scale(1) rotate(0deg); opacity: 1;} 15% { transform: translate(calc(var(--target-x) / 2), calc(var(--target-y) / 2 - 50px)) scale(1.2) rotate(-180deg); opacity: 1;} /* Arc */ 30% { transform: translate(var(--target-x), var(--target-y)) scale(1.5) rotate(-360deg); opacity: 1;} /* Hit target */ 32% { transform: translate(var(--target-x), var(--target-y)) scale(1.5) rotate(-360deg); opacity: 1;} 40% { transform: translate(var(--target-x), var(--target-y)) scale(1.5) rotate(-375deg); opacity: 1;} 50% { transform: translate(var(--target-x), var(--target-y)) scale(1.5) rotate(-345deg); opacity: 1;} 60% { transform: translate(var(--target-x), var(--target-y)) scale(1.5) rotate(-370deg); opacity: 1;} 70% { transform: translate(var(--target-x), var(--target-y)) scale(1.5) rotate(-350deg); opacity: 1;} 80% { transform: translate(var(--target-x), var(--target-y)) scale(1.5) rotate(-365deg); opacity: 1;} 90% { transform: translate(var(--target-x), var(--target-y)) scale(1.5) rotate(-355deg); opacity: 1;} 95% { transform: translate(var(--target-x), var(--target-y)) scale(1.5) rotate(-360deg); opacity: 1;} 100% { transform: translate(var(--target-x), var(--target-y)) scale(1.5) rotate(-360deg); opacity: 1;} }
        .pokemon-caught-flash > img { animation: flash 0.15s linear 3; }
    </style>
</head>
<body id="gameBody">

    <div class="game-container">

        <div id="introScreen" class="screen">
             <div class="top-bar"></div><div class="main-content"><div class="title-area"><h1 class="game-title"><span class="line1">BLAZING</span><span class="line2">THUNDER</span></h1></div><div class="pokemon-image-container"><div class="pokemon-image"></div></div></div><div class="press-start-area"><button class="start-button" id="gameStartButton">Start Game</button></div><div class="bottom-bar">© <span id="currentYear"></span> Blazing Thunder Team</div>
        </div>

        <div id="characterSelectScreen" class="screen" style="display: none;">
             <h2>Kies een trainer</h2><div class="trainers-grid">
                 <div class="trainer-card" data-trainer="Bea"><img src="https://www.pokemonkaart.nl/wp-content/uploads/Bea-TG25-Astral-Radiance.png" alt="Trainer Bea"><p>Bea</p></div>
                 <div class="trainer-card" data-trainer="Brock"><img src="https://www.pokemonkaart.nl/wp-content/uploads/brocks-scouting-179-sv9-eng.png" alt="Trainer Brock"><p>Brock</p></div>
                 <div class="trainer-card" data-trainer="Giovanni"><img src="https://www.pokemonkaart.nl/wp-content/uploads/Giovannis-Charisma-204-151.jpg" alt="Trainer Giovanni"><p>Giovanni</p></div>
             </div>
        </div>
        
        <div id="starterSelectScreen" class="screen" style="display: none;">
            <h2>Kies je Starter Pokémon</h2>
            <div class="starters-grid">
                <!-- Starter Pokémon cards will be populated here -->
            </div>
        </div>
        
        <div id="confirmStarterDialog" class="dialog-overlay" style="display: none;">
            <div class="dialog-content">
                <p>Weet je zeker dat je <span id="chosenStarterNameDialog">deze Pokémon</span> als je starter wilt?</p>
                <div class="dialog-buttons">
                    <button id="confirmStarterYes">Ja</button>
                    <button id="confirmStarterNo">Nee</button>
                </div>
            </div>
        </div>


        <div id="confirmDialog" class="dialog-overlay" style="display: none;">
             <div class="dialog-content"><p>Weet je zeker dat je <span id="chosenTrainerName">deze trainer</span> wilt kiezen?</p><div class="dialog-buttons"><button id="confirmYes">Ja</button><button id="confirmNo">Nee</button></div></div>
        </div>
        
        <div id="resetConfirmDialog" class="dialog-overlay" style="display: none;">
             <div class="dialog-content">
                 <p class="reset-warning">Weet je zeker dat je de game wilt resetten? Alle voortgang gaat verloren!</p>
                 <div class="dialog-buttons"><button id="resetConfirmYes">Ja, Reset</button><button id="resetConfirmNo">Nee</button></div>
             </div>
        </div>

        <div id="mainMenuScreen" class="screen" style="display: none;">
             <div class="menu-options">
                 <button id="btnPlay">PLAY</button>
                 <button id="btnOptions">OPTIONS</button>
             </div>
             <div class="trainer-display-area">
                 <div class="trainer-card-frame"><img id="chosenTrainerImageMainMenu" src="" alt="Gekozen Trainer"></div>
                 <div id="playerCoinsDisplayMainMenu" class="player-coins">Coins: 0</div>
                 <div class="submenu-tabs-container">
                     <button class="submenu-tab" id="tabMarket">MARKET</button>
                     <button class="submenu-tab" id="tabInventory">INVENTORY</button>
                     <button class="submenu-tab" id="tabTeam">TEAM</button>
                     <button class="submenu-tab" id="tabMyCards">MY CARDS</button> 
                 </div>
             </div>
        </div>

        <div id="playMenuScreen" class="screen" style="display: none;">
            <h2>PLAY MODES</h2>
            <button class="play-mode-button" id="btnQuickBattlePlay">QUICK BATTLE</button>
            <button class="play-mode-button" id="btnGymBattlePlay">GYM BATTLE</button>
            <button class="play-mode-button" id="btnEliteBattlesPlay">ELITE BATTLES</button> <!-- New Button -->
            <button class="play-mode-button" id="btnWildModePlay">WILD MODE</button>
            <button class="play-mode-button" id="btnBackToMainFromPlay">BACK</button>
        </div>
        
        <div id="optionsMenuScreen" class="screen" style="display: none;">
            <h2>OPTIONS</h2>
            <button class="options-button" id="btnSaveGameOpt">SAVE GAME</button>
            <button class="options-button" id="btnResetGameOpt">RESET GAME</button>
            <button class="options-button" id="btnDarkModeOpt">DARK MODE</button>
            <button class="options-button" id="btnBackToMainOpts">BACK</button> 
        </div>

        <div id="marketScreen" class="screen" style="display: none;">
            <h2>MARKET</h2>
            <div id="marketCoinDisplay">Coins: 0</div>
            <div class="market-items-grid">
                <div class="market-item" data-item-id="pokeball">
                    <img class="item-icon pokeball-icon" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="Poké Ball"> <!-- Placeholder, styled by CSS var -->
                    <p class="item-name">Poké Ball</p>
                    <p class="item-price">Price: 5 Coins</p>
                    <button class="buy-button" data-item-name="Poke Ball" data-price="5">BUY</button>
                </div>
                <div class="market-item" data-item-id="greatball">
                    <img class="item-icon greatball-icon" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="Great Ball"> <!-- Placeholder -->
                    <p class="item-name">Great Ball</p>
                    <p class="item-price">Price: 10 Coins</p>
                    <button class="buy-button" data-item-name="Great Ball" data-price="10">BUY</button>
                </div>
                <div class="market-item" data-item-id="evolutionstone">
                    <img class="item-icon evolutionstone-icon" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="Evolution Stone"> 
                    <p class="item-name">Evolution Stone</p>
                    <p class="item-price">Price: 10 Coins</p>
                    <button class="buy-button" data-item-name="Evolution Stone" data-price="10">BUY</button>
                </div>
                 <div class="market-item" data-item-id="permaevolutionstone">
                    <img class="item-icon evolutionstone-icon" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="Perma Evolution Stone"> 
                    <p class="item-name">Perma Evolution Stone</p>
                    <p class="item-price">Price: 100 Coins</p>
                    <button class="buy-button" data-item-name="Perma Evolution Stone" data-price="100">BUY</button>
                </div>
            </div>
            <button id="btnBackToMainFromMarket" class="market-back-button">BACK TO MAIN MENU</button>
        </div>

        <div id="inventoryScreen" class="screen" style="display: none;">
            <h2>INVENTORY</h2>
            <div id="inventoryGrid" class="inventory-grid">
                 <p class="no-items" style="display:none;">Your inventory is empty.</p>
            </div>
            <button id="btnBackToMainFromInventory" class="inventory-back-button">BACK TO MAIN MENU</button>
        </div>
        
        <div id="teamScreen" class="screen" style="display: none;">
            <h2>YOUR TEAM</h2>
            <div id="teamGrid" class="team-grid">
                 <p class="no-pokemon" style="display:none;">You have no Pokémon in your team.</p>
            </div>
            <button id="btnBackToMainFromTeam" class="team-back-button">BACK TO MAIN MENU</button>
        </div>

        <div id="teamSelectScreen" class="screen" style="display: none;">
            <h2>SELECT YOUR BATTLE TEAM (CHOOSE 3)</h2>
            <div id="teamSelectGrid">
                <!-- Pokémon options will be populated here by JavaScript -->
            </div>
            <button id="teamSelectConfirmButton" class="team-select-button" disabled>CONFIRM TEAM</button>
        </div>

        <div id="gymLeaderSelectScreen" class="screen" style="display: none;">
            <h2>CHOOSE A GYM LEADER</h2>
            <div id="gymLeaderGrid" class="trainers-grid"> 
                <!-- Gym Leaders will be populated here -->
            </div>
            <button id="btnBackToPlayMenuFromGymSelect" class="gym-leader-button back">BACK TO PLAY MODES</button>
        </div>

        <div id="gymLeaderDetailScreen" class="screen" style="display: none;">
            <h2 id="gymLeaderDetailName">Gym Leader</h2>
            <img id="gymLeaderCardImage" src="" alt="Gym Leader Card">
            <p id="gymLeaderDialog"></p>
            <button id="btnStartGymBattle" class="gym-detail-button">START BATTLE</button>
            <button id="btnBackToGymSelectFromDetail" class="gym-detail-button back">BACK TO GYM LEADERS</button>
        </div>

        <div id="myCardsScreen" class="screen" style="display: none;">
            <h2>MY CARDS & BADGES</h2>
            <h3>Collected Cards</h3>
            <div id="collectedCardsGrid" class="cards-collection-grid">
                <p class="no-collected-items" id="noCollectedCardsMsg" style="display:none;">No cards collected yet.</p>
            </div>
            <h3>Collected Badges</h3>
            <div id="collectedBadgesGrid" class="badges-collection-grid">
                 <p class="no-collected-items" id="noCollectedBadgesMsg" style="display:none;">No badges earned yet.</p>
            </div>
            <button id="btnBackToMainFromMyCards" class="my-cards-back-button">BACK TO MAIN MENU</button>
        </div>


        <div id="battleScreen" class="screen" style="display: none;">
            <div class="battle-arena">
                 <div id="attackAnimationLayer"></div>
                 <div class="pokemon-sprite opponent-sprite"><img id="opponentPokemonSprite" src="" alt="Opponent"></div>
                 <div class="pokemon-sprite player-sprite"><img id="playerPokemonSprite" src="" alt="Player"></div>
            </div>
            <div class="battle-info-box opponent-info">
                 <div class="info-line"><span class="name" id="opponentPokemonName"></span><span id="opponentStatusTag" class="status-tag" style="display:none;"></span></div>
                 <div class="hp-bar-container"><span>HP</span><div class="hp-bar-fill" id="opponentHpFill"></div></div>
                 <div class="hp-numbers" id="opponentHpNumbers"></div>
                 <div class="team-status" id="opponentTeamStatus"></div>
            </div>
            <div class="battle-info-box player-info">
                <div class="info-line"><span class="name" id="playerPokemonName"></span><span id="playerStatusTag" class="status-tag" style="display:none;"></span></div>
                 <div class="hp-bar-container"><span>HP</span><div class="hp-bar-fill" id="playerHpFill"></div></div>
                 <div class="hp-numbers" id="playerHpNumbers"></div>
                 <div class="team-status" id="playerTeamStatus"></div>
            </div>
            <div class="battle-ui-bottom">
                <div class="battle-textbox" id="battleTextbox"><p id="battleMessage"></p></div>
                <div class="battle-menu battle-action-menu" id="actionMenu" style="display: none;">
                    <button data-action="fight">FIGHT</button>
                    <button data-action="item">ITEM</button>
                    <button data-action="pokemon">POKéMON</button>
                    <button data-action="run">RUN</button>
                </div>
                <div class="battle-menu battle-move-menu" id="moveMenu" style="display: none;">
                    <button data-move-index="0"><span class="move-name"></span><span class="move-pp"></span></button>
                    <button data-move-index="1"><span class="move-name"></span><span class="move-pp"></span></button>
                    <button data-move-index="2"><span class="move-name"></span><span class="move-pp"></span></button>
                    <button data-move-index="3"><span class="move-name"></span><span class="move-pp"></span></button>
                </div>
                 <div class="battle-menu battle-item-menu" id="itemMenu" style="display: none;">
                     <!-- Items will be populated here by JavaScript -->
                 </div>
            </div>
        </div>

        <div id="switchPokemonScreen" class="screen" style="display: none;">
            <h2>Choose a Pokémon</h2>
            <div class="switch-grid" id="switchGrid"></div>
            <button id="switchCancelButton">CANCEL</button>
        </div>

    </div>

    <script>
        // --- Globale Variabelen & Constanten ---
        let currentScreen = 'intro';
        let selectedTrainerData = null; 
        let tempSelectedStarter = null; 
        let isNewGameSetup = false; 

        let battleState = { 
            playerTeam: [], 
            opponentTeam: [], 
            playerActiveIndex: 0, opponentActiveIndex: 0, 
            playerTurn: true, 
            currentActingPokemonIsPlayer: true, 
            attackerUsedMoveFirstThisTurn: false, 
            messageQueue: [], isProcessingMessage: false, onMessageComplete: null, 
            switchingAfterFaint: false,
            isWildBattle: false,
            isGymBattle: false, 
            currentGymLeaderKey: null, 
            pendingBattleStartFunction: null, 
            selectedBattleTeamIndexes: [] 
        };
        
        const GAME_LEVEL = 50; 
        const SHINY_CHANCE = 0.1; 
        const CRITICAL_HIT_CHANCE_BASE = 1 / 24; 
        const CRITICAL_HIT_MULTIPLIER = 1.5;
        const PARALYSIS_CHANCE_NO_MOVE = 0.25;
        const FREEZE_THAW_CHANCE = 0.2;
        const MAX_TEAM_SIZE = 6;


        const gameBody = document.getElementById('gameBody');
        const screens = { 
            intro: document.getElementById('introScreen'), 
            characterSelect: document.getElementById('characterSelectScreen'), 
            starterSelect: document.getElementById('starterSelectScreen'), 
            confirmStarterDialog: document.getElementById('confirmStarterDialog'), 
            confirmDialog: document.getElementById('confirmDialog'), 
            resetConfirmDialog: document.getElementById('resetConfirmDialog'), 
            mainMenu: document.getElementById('mainMenuScreen'), 
            playMenu: document.getElementById('playMenuScreen'), 
            optionsMenu: document.getElementById('optionsMenuScreen'), 
            market: document.getElementById('marketScreen'),
            inventory: document.getElementById('inventoryScreen'),
            team: document.getElementById('teamScreen'), 
            teamSelect: document.getElementById('teamSelectScreen'), 
            gymLeaderSelect: document.getElementById('gymLeaderSelectScreen'), 
            gymLeaderDetail: document.getElementById('gymLeaderDetailScreen'), 
            myCards: document.getElementById('myCardsScreen'), 
            battle: document.getElementById('battleScreen'), 
            switchPokemon: document.getElementById('switchPokemonScreen') 
        };
        const chosenTrainerNameSpan = document.getElementById('chosenTrainerName'); const confirmYesButton = document.getElementById('confirmYes'); const confirmNoButton = document.getElementById('confirmNo'); const trainerCards = document.querySelectorAll('.trainer-card'); const chosenTrainerImageMainMenu = document.getElementById('chosenTrainerImageMainMenu'); const playerCoinsDisplayMainMenuEl = document.getElementById('playerCoinsDisplayMainMenu'); 
        const btnPlay = document.getElementById('btnPlay'); 
        const btnQuickBattlePlay = document.getElementById('btnQuickBattlePlay'); 
        const btnGymBattlePlay = document.getElementById('btnGymBattlePlay'); 
        const btnEliteBattlesPlay = document.getElementById('btnEliteBattlesPlay'); // New
        const btnWildModePlay = document.getElementById('btnWildModePlay'); 
        const btnBackToMainFromPlay = document.getElementById('btnBackToMainFromPlay');
        const btnOptions = document.getElementById('btnOptions'); const btnSaveGameOpt = document.getElementById('btnSaveGameOpt'); const btnResetGameOpt = document.getElementById('btnResetGameOpt'); const btnDarkModeOpt = document.getElementById('btnDarkModeOpt'); const btnBackToMainOpts = document.getElementById('btnBackToMainOpts'); const resetConfirmYesButton = document.getElementById('resetConfirmYes'); const resetConfirmNoButton = document.getElementById('resetConfirmNo'); const opponentPokemonNameEl = document.getElementById('opponentPokemonName'); const opponentHpFillEl = document.getElementById('opponentHpFill'); const opponentHpNumbersEl = document.getElementById('opponentHpNumbers'); const opponentTeamStatusEl = document.getElementById('opponentTeamStatus'); const opponentPokemonSpriteEl = document.getElementById('opponentPokemonSprite'); const opponentStatusTagEl = document.getElementById('opponentStatusTag'); const playerPokemonNameEl = document.getElementById('playerPokemonName'); const playerHpFillEl = document.getElementById('playerHpFill'); const playerHpNumbersEl = document.getElementById('playerHpNumbers'); const playerTeamStatusEl = document.getElementById('playerTeamStatus'); const playerPokemonSpriteEl = document.getElementById('playerPokemonSprite'); const playerStatusTagEl = document.getElementById('playerStatusTag'); const battleTextboxEl = document.getElementById('battleTextbox'); const battleMessageEl = document.getElementById('battleMessage'); const actionMenuEl = document.getElementById('actionMenu'); const moveMenuEl = document.getElementById('moveMenu'); const itemMenuEl = document.getElementById('itemMenu'); const attackAnimationLayer = document.getElementById('attackAnimationLayer'); const switchGridEl = document.getElementById('switchGrid'); const switchCancelButton = document.getElementById('switchCancelButton');
        const tabMarket = document.getElementById('tabMarket'); const tabInventory = document.getElementById('tabInventory'); const tabTeam = document.getElementById('tabTeam'); const tabMyCards = document.getElementById('tabMyCards'); const marketCoinDisplayEl = document.getElementById('marketCoinDisplay'); const marketItemsGridEl = document.querySelector('#marketScreen .market-items-grid'); const btnBackToMainFromMarket = document.getElementById('btnBackToMainFromMarket'); const inventoryGridEl = document.getElementById('inventoryGrid'); const btnBackToMainFromInventory = document.getElementById('btnBackToMainFromInventory'); const teamGridEl = document.getElementById('teamGrid'); const btnBackToMainFromTeam = document.getElementById('btnBackToMainFromTeam');
        const noInventoryItemsMsg = document.querySelector('#inventoryGrid .no-items');
        const noTeamPokemonMsg = document.querySelector('#teamGrid .no-pokemon');
        const teamSelectGridEl = document.getElementById('teamSelectGrid');
        const teamSelectConfirmButton = document.getElementById('teamSelectConfirmButton');
        const gymLeaderGridEl = document.getElementById('gymLeaderGrid');
        const btnBackToPlayMenuFromGymSelect = document.getElementById('btnBackToPlayMenuFromGymSelect');
        const gymLeaderDetailNameEl = document.getElementById('gymLeaderDetailName');
        const gymLeaderCardImageEl = document.getElementById('gymLeaderCardImage');
        const gymLeaderDialogEl = document.getElementById('gymLeaderDialog');
        const btnStartGymBattle = document.getElementById('btnStartGymBattle');
        const btnBackToGymSelectFromDetail = document.getElementById('btnBackToGymSelectFromDetail');
        const collectedCardsGridEl = document.getElementById('collectedCardsGrid');
        const noCollectedCardsMsgEl = document.getElementById('noCollectedCardsMsg');
        const collectedBadgesGridEl = document.getElementById('collectedBadgesGrid');
        const noCollectedBadgesMsgEl = document.getElementById('noCollectedBadgesMsg');
        const btnBackToMainFromMyCards = document.getElementById('btnBackToMainFromMyCards');
        const startersGridEl = document.querySelector('#starterSelectScreen .starters-grid');
        const chosenStarterNameDialogSpan = document.getElementById('chosenStarterNameDialog'); 
        const confirmStarterYesButton = document.getElementById('confirmStarterYes');
        const confirmStarterNoButton = document.getElementById('confirmStarterNo');


        document.addEventListener('DOMContentLoaded', () => {
            const marketPokeballIcon = document.querySelector('.market-item[data-item-id="pokeball"] .item-icon');
            if (marketPokeballIcon) marketPokeballIcon.style.backgroundImage = 'var(--item-icon-pokeball)';
            
            const marketGreatballIcon = document.querySelector('.market-item[data-item-id="greatball"] .item-icon');
            if (marketGreatballIcon) marketGreatballIcon.style.backgroundImage = 'var(--item-icon-greatball)';

            const marketEvoStoneIcon = document.querySelector('.market-item[data-item-id="evolutionstone"] .item-icon');
            if (marketEvoStoneIcon) marketEvoStoneIcon.style.backgroundImage = 'var(--item-icon-evolutionstone)';
            
            const marketPermaEvoStoneIcon = document.querySelector('.market-item[data-item-id="permaevolutionstone"] .item-icon');
            if (marketPermaEvoStoneIcon) marketPermaEvoStoneIcon.style.backgroundImage = 'var(--item-icon-evolutionstone)';
        });
        
        const trainersData = { "Bea": { name: "Bea", imageUrl: "https://www.pokemonkaart.nl/wp-content/uploads/Bea-TG25-Astral-Radiance.png" }, "Brock": { name: "Brock", imageUrl: "https://www.pokemonkaart.nl/wp-content/uploads/brocks-scouting-179-sv9-eng.png" }, "Giovanni": { name: "Giovanni", imageUrl: "https://www.pokemonkaart.nl/wp-content/uploads/Giovannis-Charisma-204-151.jpg" } };
        const SAVE_KEY = 'blazingThunder_savedData_v1_1_8_elite_gyms'; 

        const typeChart = { "Normal": {"Rock": 0.5, "Ghost": 0, "Steel": 0.5}, "Fire": {"Fire": 0.5, "Water": 0.5, "Grass": 2, "Ice": 2, "Bug": 2, "Rock": 0.5, "Dragon": 0.5, "Steel": 2}, "Water": {"Fire": 2, "Water": 0.5, "Grass": 0.5, "Ground": 2, "Rock": 2, "Dragon": 0.5}, "Electric": {"Water": 2, "Electric": 0.5, "Grass": 0.5, "Ground": 0, "Flying": 2, "Dragon": 0.5}, "Grass": {"Fire": 0.5, "Water": 2, "Grass": 0.5, "Poison": 0.5, "Ground": 2, "Flying": 0.5, "Bug": 0.5, "Rock": 2, "Dragon": 0.5, "Steel": 0.5}, "Ice": {"Fire": 0.5, "Water": 0.5, "Grass": 2, "Ice": 0.5, "Ground": 2, "Flying": 2, "Dragon": 2, "Steel": 0.5}, "Fighting": {"Normal": 2, "Ice": 2, "Poison": 0.5, "Flying": 0.5, "Psychic": 0.5, "Bug": 0.5, "Rock": 2, "Ghost": 0, "Dark": 2, "Steel": 2, "Fairy": 0.5}, "Poison": {"Grass": 2, "Poison": 0.5, "Ground": 0.5, "Rock": 0.5, "Ghost": 0.5, "Steel": 0, "Fairy": 2}, "Ground": {"Fire": 2, "Electric": 2, "Grass": 0.5, "Poison": 2, "Flying": 0, "Bug": 0.5, "Rock": 2, "Steel": 2}, "Flying": {"Electric": 0.5, "Grass": 2, "Fighting": 2, "Bug": 2, "Rock": 0.5, "Steel": 0.5}, "Psychic": {"Fighting": 2, "Poison": 2, "Psychic": 0.5, "Dark": 0, "Steel": 0.5}, "Bug": {"Fire": 0.5, "Grass": 2, "Fighting": 0.5, "Poison": 0.5, "Flying": 0.5, "Psychic": 2, "Ghost": 0.5, "Dark": 2, "Steel": 0.5, "Fairy": 0.5}, "Rock": {"Fire": 2, "Ice": 2, "Fighting": 0.5, "Ground": 0.5, "Flying": 2, "Bug": 2, "Steel": 0.5}, "Ghost": {"Normal": 0, "Psychic": 2, "Ghost": 2, "Dark": 0.5}, "Dragon": {"Dragon": 2, "Steel": 0.5, "Fairy": 0}, "Steel": {"Fire": 0.5, "Water": 0.5, "Electric": 0.5, "Ice": 2, "Rock": 2, "Steel": 0.5, "Fairy": 2}, "Dark": {"Fighting": 0.5, "Psychic": 2, "Ghost": 2, "Dark": 0.5, "Fairy": 0.5}, "Fairy": {"Fire": 0.5, "Fighting": 2, "Poison": 0.5, "Dragon": 2, "Dark": 2, "Steel": 0.5} };
        const statStageMultipliers = [1/4, 2/7, 1/3, 2/5, 1/2, 2/3, 1, 1.5, 2, 2.5, 3, 3.5, 4]; 
        const accuracyStageMultipliers = [1/3, 3/8, 3/7, 1/2, 3/5, 3/4, 1, 4/3, 5/3, 2, 7/3, 8/3, 3]; 

        const pokemonPool = [ 
            // First 3 Kanto Starters
            {
                pokedexId: 1, name: "BULBASAUR", types: ["Grass", "Poison"], hp: 120, baseStats: { attack: 49, defense: 49, speed: 45 },
                moves: [ { name: "Tackle", type: "Normal", accuracy: 100, maxPp: 35, power: 40 }, { name: "Vine Whip", type: "Grass", accuracy: 100, maxPp: 25, power: 45 }, { name: "Poison Powder", type: "Poison", accuracy: 75, maxPp: 35, power: 0, effect: { type: "status", condition: "PSN", chance: 1 } }, { name: "Growth", type: "Normal", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: ["attack"], target: "self", stages: 1 }, alwaysHits: true } ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/1.png", spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/1.png", evolvesToPokedexId: 2 
            },
            {
                pokedexId: 2, name: "IVYSAUR", types: ["Grass", "Poison"], hp: 135, baseStats: { attack: 62, defense: 63, speed: 60 },
                moves: [ { name: "Razor Leaf", type: "Grass", accuracy: 95, maxPp: 25, power: 55, highCritRatio: true }, { name: "Poison Powder", type: "Poison", accuracy: 75, maxPp: 35, power: 0, effect: { type: "status", condition: "PSN", chance: 1 } }, { name: "Sleep Powder", type: "Grass", accuracy: 75, maxPp: 15, power: 0, effect: { type: "status", condition: "SLP", chance: 1 } }, { name: "Take Down", type: "Normal", accuracy: 85, maxPp: 20, power: 90 } ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/2.png", spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/2.png", evolvesToPokedexId: 3 
            },
            {
                pokedexId: 3, name: "VENUSAUR", types: ["Grass", "Poison"], hp: 155, baseStats: { attack: 82, defense: 83, speed: 80 },
                moves: [ { name: "Solar Beam", type: "Grass", accuracy: 100, maxPp: 10, power: 120 }, { name: "Sludge Bomb", type: "Poison", accuracy: 100, maxPp: 10, power: 90, effect: { type: "status", condition: "PSN", chance: 0.3 } }, { name: "Earthquake", type: "Ground", accuracy: 100, maxPp: 10, power: 100 }, { name: "Growth", type: "Normal", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "attack", target: "self", stages: 1 }, alwaysHits: true } ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/3.png", spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/3.png", evolvesToPokedexId: null 
            },
        {
                pokedexId: 4,
                name: "CHARMANDER",
                types: ["Fire"],
                hp: 115,
                baseStats: { attack: 52, defense: 43, speed: 65 },
                moves: [
                    { name: "Scratch", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Ember", type: "Fire", accuracy: 100, maxPp: 25, power: 40, effect: { type: "status", condition: "BRN", chance: 0.1 } },
                    { name: "Growl", type: "Normal", accuracy: 100, maxPp: 40, power: 0, effect: { type: "stat", stat: "attack", target: "opponent", stages: -1 }, alwaysHits: true },
                    { name: "Smokescreen", type: "Normal", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "accuracy", target: "opponent", stages: -1 }, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/4.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/4.png",
                evolvesToPokedexId: 5
            },
            {
                pokedexId: 5,
                name: "CHARMELEON",
                types: ["Fire"],
                hp: 130,
                baseStats: { attack: 64, defense: 58, speed: 80 },
                moves: [
                    { name: "Slash", type: "Normal", accuracy: 100, maxPp: 20, power: 70, highCritRatio: true },
                    { name: "Flamethrower", type: "Fire", accuracy: 100, maxPp: 15, power: 90, effect: { type: "status", condition: "BRN", chance: 0.1 } },
                    { name: "Scary Face", type: "Normal", accuracy: 100, maxPp: 10, power: 0, effect: { type: "stat", stat: "speed", target: "opponent", stages: -2 }, alwaysHits: true },
                    { name: "Fire Fang", type: "Fire", accuracy: 95, maxPp: 15, power: 65, effect: { type: "flinch_or_status", condition: "BRN", chance: 0.1, flinchChance: 0.1 } } // Aangepast effect
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/5.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/5.png",
                evolvesToPokedexId: 6
            },
            {
                pokedexId: 6,
                name: "CHARIZARD",
                types: ["Fire", "Flying"],
                hp: 150,
                baseStats: { attack: 84, defense: 78, speed: 100 },
                moves: [
                    { name: "Air Slash", type: "Flying", accuracy: 95, maxPp: 15, power: 75, effect: { type: "flinch", chance: 0.3 } },
                    { name: "Flamethrower", type: "Fire", accuracy: 100, maxPp: 15, power: 90, effect: { type: "status", condition: "BRN", chance: 0.1 } },
                    { name: "Dragon Claw", type: "Dragon", accuracy: 100, maxPp: 15, power: 80 },
                    { name: "Heat Wave", type: "Fire", accuracy: 90, maxPp: 10, power: 95, effect: { type: "status", condition: "BRN", chance: 0.1 } } // Target: all opponents (niet geïmplementeerd in huidige engine)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/6.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/6.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 7,
                name: "SQUIRTLE",
                types: ["Water"],
                hp: 120,
                baseStats: { attack: 48, defense: 65, speed: 43 },
                moves: [
                    { name: "Tackle", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Water Gun", type: "Water", accuracy: 100, maxPp: 25, power: 40 },
                    { name: "Tail Whip", type: "Normal", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "defense", target: "opponent", stages: -1 }, alwaysHits: true },
                    { name: "Withdraw", type: "Water", accuracy: 100, maxPp: 40, power: 0, effect: { type: "stat", stat: "defense", target: "self", stages: 1 }, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/7.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/7.png",
                evolvesToPokedexId: 8
            },
            {
                pokedexId: 8,
                name: "WARTORTLE",
                types: ["Water"],
                hp: 135,
                baseStats: { attack: 63, defense: 80, speed: 58 },
                moves: [
                    { name: "Water Pulse", type: "Water", accuracy: 100, maxPp: 20, power: 60, effect: { type: "confusion", chance: 0.2 } }, // Confusion niet geïmplementeerd
                    { name: "Bite", type: "Dark", accuracy: 100, maxPp: 25, power: 60, effect: { type: "flinch", chance: 0.3 } },
                    { name: "Rapid Spin", type: "Normal", accuracy: 100, maxPp: 40, power: 50 }, // Effect: removes hazards (niet geïmplementeerd)
                    { name: "Protect", type: "Normal", accuracy: 100, maxPp: 10, power: 0, effect: { type: "protect" }, priority: 4, alwaysHits: true } // Protect niet geïmplementeerd
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/8.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/8.png",
                evolvesToPokedexId: 9
            },
            {
                pokedexId: 9,
                name: "BLASTOISE",
                types: ["Water"],
                hp: 155,
                baseStats: { attack: 83, defense: 100, speed: 78 },
                moves: [
                    { name: "Hydro Pump", type: "Water", accuracy: 80, maxPp: 5, power: 110 },
                    { name: "Ice Beam", type: "Ice", accuracy: 100, maxPp: 10, power: 90, effect: { type: "status", condition: "FRZ", chance: 0.1 } },
                    { name: "Flash Cannon", type: "Steel", accuracy: 100, maxPp: 10, power: 80, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } }, // Special Defense
                    { name: "Skull Bash", type: "Normal", accuracy: 100, maxPp: 10, power: 130 } // 2-turn move (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/9.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/9.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 10,
                name: "CATERPIE",
                types: ["Bug"],
                hp: 100,
                baseStats: { attack: 30, defense: 35, speed: 45 },
                moves: [
                    { name: "Tackle", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "String Shot", type: "Bug", accuracy: 95, maxPp: 40, power: 0, effect: { type: "stat", stat: "speed", target: "opponent", stages: -2 }, alwaysHits: true },
                    { name: "Bug Bite", type: "Bug", accuracy: 100, maxPp: 20, power: 60 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/10.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/10.png",
                evolvesToPokedexId: 11
            },
            {
                pokedexId: 11,
                name: "METAPOD",
                types: ["Bug"],
                hp: 110,
                baseStats: { attack: 20, defense: 55, speed: 30 },
                moves: [
                    { name: "Harden", type: "Normal", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "defense", target: "self", stages: 1 }, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/11.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/11.png",
                evolvesToPokedexId: 12
            },
            {
                pokedexId: 12,
                name: "BUTTERFREE",
                types: ["Bug", "Flying"],
                hp: 130,
                baseStats: { attack: 45, defense: 50, speed: 70 }, // Sp. Atk is 90, Sp. Def is 80
                moves: [
                    { name: "Gust", type: "Flying", accuracy: 100, maxPp: 35, power: 40 }, // Special
                    { name: "Sleep Powder", type: "Grass", accuracy: 75, maxPp: 15, power: 0, effect: { type: "status", condition: "SLP", chance: 1 } },
                    { name: "Psybeam", type: "Psychic", accuracy: 100, maxPp: 20, power: 65, effect: { type: "confusion", chance: 0.1 } }, // Special, Confusion niet geïmplementeerd
                    { name: "Bug Buzz", type: "Bug", accuracy: 100, maxPp: 10, power: 90, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } } // Special, Sp. Def
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/12.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/12.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 13,
                name: "WEEDLE",
                types: ["Bug", "Poison"],
                hp: 100,
                baseStats: { attack: 35, defense: 30, speed: 50 },
                moves: [
                    { name: "Poison Sting", type: "Poison", accuracy: 100, maxPp: 35, power: 15, effect: { type: "status", condition: "PSN", chance: 0.3 } },
                    { name: "String Shot", type: "Bug", accuracy: 95, maxPp: 40, power: 0, effect: { type: "stat", stat: "speed", target: "opponent", stages: -2 }, alwaysHits: true },
                    { name: "Bug Bite", type: "Bug", accuracy: 100, maxPp: 20, power: 60 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/13.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/13.png",
                evolvesToPokedexId: 14
            },
            {
                pokedexId: 14,
                name: "KAKUNA",
                types: ["Bug", "Poison"],
                hp: 110,
                baseStats: { attack: 25, defense: 50, speed: 35 },
                moves: [
                    { name: "Harden", type: "Normal", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "defense", target: "self", stages: 1 }, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/14.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/14.png",
                evolvesToPokedexId: 15
            },
            {
                pokedexId: 15,
                name: "BEEDRILL",
                types: ["Bug", "Poison"],
                hp: 135,
                baseStats: { attack: 90, defense: 40, speed: 75 }, // Sp. Def is 80
                moves: [
                    { name: "Twineedle", type: "Bug", accuracy: 100, maxPp: 20, power: 25 }, // Hits twice, poison chance (niet geïmplementeerd)
                    { name: "Poison Jab", type: "Poison", accuracy: 100, maxPp: 20, power: 80, effect: { type: "status", condition: "PSN", chance: 0.3 } },
                    { name: "Agility", type: "Psychic", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "speed", target: "self", stages: 2 }, alwaysHits: true },
                    { name: "Pin Missile", type: "Bug", accuracy: 95, maxPp: 20, power: 25 } // Hits 2-5 times (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/15.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/15.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 16,
                name: "PIDGEY",
                types: ["Normal", "Flying"],
                hp: 110,
                baseStats: { attack: 45, defense: 40, speed: 56 },
                moves: [
                    { name: "Tackle", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Gust", type: "Flying", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Sand Attack", type: "Ground", accuracy: 100, maxPp: 15, power: 0, effect: { type: "stat", stat: "accuracy", target: "opponent", stages: -1 }, alwaysHits: true },
                    { name: "Quick Attack", type: "Normal", accuracy: 100, maxPp: 30, power: 40, priority: 1 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/16.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/16.png",
                evolvesToPokedexId: 17
            },
            {
                pokedexId: 17,
                name: "PIDGEOTTO",
                types: ["Normal", "Flying"],
                hp: 130,
                baseStats: { attack: 60, defense: 55, speed: 71 },
                moves: [
                    { name: "Wing Attack", type: "Flying", accuracy: 100, maxPp: 35, power: 60 },
                    { name: "Twister", type: "Dragon", accuracy: 100, maxPp: 20, power: 40, effect: { type: "flinch", chance: 0.2 } }, // Special
                    { name: "Feather Dance", type: "Flying", accuracy: 100, maxPp: 15, power: 0, effect: { type: "stat", stat: "attack", target: "opponent", stages: -2 }, alwaysHits: true },
                    { name: "Agility", type: "Psychic", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "speed", target: "self", stages: 2 }, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/17.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/17.png",
                evolvesToPokedexId: 18
            },
            {
                pokedexId: 18,
                name: "PIDGEOT",
                types: ["Normal", "Flying"],
                hp: 150,
                baseStats: { attack: 80, defense: 75, speed: 101 }, // Sp. Def is 70
                moves: [
                    { name: "Hurricane", type: "Flying", accuracy: 70, maxPp: 10, power: 110, effect: { type: "confusion", chance: 0.3 } }, // Special, Confusion niet geïmplementeerd
                    { name: "Air Slash", type: "Flying", accuracy: 95, maxPp: 15, power: 75, effect: { type: "flinch", chance: 0.3 } }, // Special
                    { name: "Heat Wave", type: "Fire", accuracy: 90, maxPp: 10, power: 95, effect: { type: "status", condition: "BRN", chance: 0.1 } }, // Special
                    { name: "Roost", type: "Flying", accuracy: 100, maxPp: 10, power: 0, effect: { type: "heal", percentage: 0.5, target: "self" }, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/18.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/18.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 19,
                name: "RATTATA",
                types: ["Normal"],
                hp: 100,
                baseStats: { attack: 56, defense: 35, speed: 72 },
                moves: [
                    { name: "Tackle", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Quick Attack", type: "Normal", accuracy: 100, maxPp: 30, power: 40, priority: 1 },
                    { name: "Focus Energy", type: "Normal", accuracy: 100, maxPp: 30, power: 0, effect: { type: "focus_energy" }, alwaysHits: true }, // Verhoogt crit kans (niet volledig geïmplementeerd)
                    { name: "Bite", type: "Dark", accuracy: 100, maxPp: 25, power: 60, effect: { type: "flinch", chance: 0.3 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/19.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/19.png",
                evolvesToPokedexId: 20
            },
            {
                pokedexId: 20,
                name: "RATICATE",
                types: ["Normal"],
                hp: 125,
                baseStats: { attack: 81, defense: 60, speed: 97 },
                moves: [
                    { name: "Hyper Fang", type: "Normal", accuracy: 90, maxPp: 15, power: 80, effect: { type: "flinch", chance: 0.1 } },
                    { name: "Sucker Punch", type: "Dark", accuracy: 100, maxPp: 5, power: 70, priority: 1 }, // Werkt alleen als target aanvalt (niet geïmplementeerd)
                    { name: "Crunch", type: "Dark", accuracy: 100, maxPp: 15, power: 80, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.2 } },
                    { name: "Scary Face", type: "Normal", accuracy: 100, maxPp: 10, power: 0, effect: { type: "stat", stat: "speed", target: "opponent", stages: -2 }, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/20.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/20.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 21,
                name: "SPEAROW",
                types: ["Normal", "Flying"],
                hp: 110,
                baseStats: { attack: 60, defense: 30, speed: 70 },
                moves: [
                    { name: "Peck", type: "Flying", accuracy: 100, maxPp: 35, power: 35 },
                    { name: "Growl", type: "Normal", accuracy: 100, maxPp: 40, power: 0, effect: { type: "stat", stat: "attack", target: "opponent", stages: -1 }, alwaysHits: true },
                    { name: "Leer", type: "Normal", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "defense", target: "opponent", stages: -1 }, alwaysHits: true },
                    { name: "Fury Attack", type: "Normal", accuracy: 85, maxPp: 20, power: 15 } // Hits 2-5 times (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/21.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/21.png",
                evolvesToPokedexId: 22
            },
            {
                pokedexId: 22,
                name: "FEAROW",
                types: ["Normal", "Flying"],
                hp: 135,
                baseStats: { attack: 90, defense: 65, speed: 100 },
                moves: [
                    { name: "Drill Peck", type: "Flying", accuracy: 100, maxPp: 20, power: 80 },
                    { name: "Aerial Ace", type: "Flying", accuracy: 100, maxPp: 20, power: 60, alwaysHits: true }, // Kan niet missen
                    { name: "Roost", type: "Flying", accuracy: 100, maxPp: 10, power: 0, effect: { type: "heal", percentage: 0.5, target: "self" }, alwaysHits: true },
                    { name: "Assurance", type: "Dark", accuracy: 100, maxPp: 10, power: 60 } // Power doubles if target took damage this turn (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/22.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/22.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 23,
                name: "EKANS",
                types: ["Poison"],
                hp: 110,
                baseStats: { attack: 60, defense: 44, speed: 55 },
                moves: [
                    { name: "Wrap", type: "Normal", accuracy: 90, maxPp: 20, power: 15 }, // Traps target (niet geïmplementeerd)
                    { name: "Poison Sting", type: "Poison", accuracy: 100, maxPp: 35, power: 15, effect: { type: "status", condition: "PSN", chance: 0.3 } },
                    { name: "Bite", type: "Dark", accuracy: 100, maxPp: 25, power: 60, effect: { type: "flinch", chance: 0.3 } },
                    { name: "Glare", type: "Normal", accuracy: 100, maxPp: 30, power: 0, effect: { type: "status", condition: "PAR", chance: 1 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/23.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/23.png",
                evolvesToPokedexId: 24
            },
            {
                pokedexId: 24,
                name: "ARBOK",
                types: ["Poison"],
                hp: 130,
                baseStats: { attack: 95, defense: 69, speed: 80 },
                moves: [
                    { name: "Poison Jab", type: "Poison", accuracy: 100, maxPp: 20, power: 80, effect: { type: "status", condition: "PSN", chance: 0.3 } },
                    { name: "Crunch", type: "Dark", accuracy: 100, maxPp: 15, power: 80, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.2 } },
                    { name: "Glare", type: "Normal", accuracy: 100, maxPp: 30, power: 0, effect: { type: "status", condition: "PAR", chance: 1 } },
                    { name: "Acid Spray", type: "Poison", accuracy: 100, maxPp: 20, power: 40, effect: {type: "stat", stat: "defense", target: "opponent", stages: -2 } } // Sp. Def
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/24.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/24.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 25,
                name: "PIKACHU",
                types: ["Electric"],
                hp: 110,
                baseStats: { attack: 55, defense: 40, speed: 90 },
                moves: [
                    { name: "Thunder Shock", type: "Electric", accuracy: 100, maxPp: 30, power: 40, effect: { type: "status", condition: "PAR", chance: 0.1 } },
                    { name: "Quick Attack", type: "Normal", accuracy: 100, maxPp: 30, power: 40, priority: 1 },
                    { name: "Tail Whip", type: "Normal", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "defense", target: "opponent", stages: -1 }, alwaysHits: true },
                    { name: "Nuzzle", type: "Electric", accuracy: 100, maxPp: 20, power: 20, effect: { type: "status", condition: "PAR", chance: 1 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/25.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/25.png",
                evolvesToPokedexId: 26 // Evolueert met Thunder Stone (niet direct via level in dit spel)
            },
            {
                pokedexId: 26,
                name: "RAICHU",
                types: ["Electric"],
                hp: 130,
                baseStats: { attack: 90, defense: 55, speed: 110 },
                moves: [
                    { name: "Thunderbolt", type: "Electric", accuracy: 100, maxPp: 15, power: 90, effect: { type: "status", condition: "PAR", chance: 0.1 } },
                    { name: "Volt Switch", type: "Electric", accuracy: 100, maxPp: 20, power: 70 }, // Switches out (niet geïmplementeerd)
                    { name: "Focus Blast", type: "Fighting", accuracy: 70, maxPp: 5, power: 120, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } }, // Sp. Def
                    { name: "Nasty Plot", type: "Dark", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "attack", target: "self", stages: 2 }, alwaysHits: true } // Sp. Atk
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/26.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/26.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 27,
                name: "SANDSHREW",
                types: ["Ground"],
                hp: 120,
                baseStats: { attack: 75, defense: 85, speed: 40 },
                moves: [
                    { name: "Scratch", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Sand Attack", type: "Ground", accuracy: 100, maxPp: 15, power: 0, effect: { type: "stat", stat: "accuracy", target: "opponent", stages: -1 }, alwaysHits: true },
                    { name: "Poison Sting", type: "Poison", accuracy: 100, maxPp: 35, power: 15, effect: { type: "status", condition: "PSN", chance: 0.3 } },
                    { name: "Rollout", type: "Rock", accuracy: 90, maxPp: 20, power: 30 } // Power increases (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/27.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/27.png",
                evolvesToPokedexId: 28
            },
            {
                pokedexId: 28,
                name: "SANDSLASH",
                types: ["Ground"],
                hp: 145,
                baseStats: { attack: 100, defense: 110, speed: 65 },
                moves: [
                    { name: "Earthquake", type: "Ground", accuracy: 100, maxPp: 10, power: 100 },
                    { name: "Stone Edge", type: "Rock", accuracy: 80, maxPp: 5, power: 100, highCritRatio: true },
                    { name: "Swords Dance", type: "Normal", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "attack", target: "self", stages: 2 }, alwaysHits: true },
                    { name: "Crush Claw", type: "Normal", accuracy: 95, maxPp: 10, power: 75, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.5 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/28.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/28.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 29,
                name: "NIDORAN♀",
                types: ["Poison"],
                hp: 125,
                baseStats: { attack: 47, defense: 52, speed: 41 },
                moves: [
                    { name: "Scratch", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Growl", type: "Normal", accuracy: 100, maxPp: 40, power: 0, effect: { type: "stat", stat: "attack", target: "opponent", stages: -1 }, alwaysHits: true },
                    { name: "Poison Sting", type: "Poison", accuracy: 100, maxPp: 35, power: 15, effect: { type: "status", condition: "PSN", chance: 0.3 } },
                    { name: "Tail Whip", type: "Normal", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "defense", target: "opponent", stages: -1 }, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/29.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/29.png",
                evolvesToPokedexId: 30
            },
            {
                pokedexId: 30,
                name: "NIDORINA",
                types: ["Poison"],
                hp: 140,
                baseStats: { attack: 62, defense: 67, speed: 56 },
                moves: [
                    { name: "Poison Fang", type: "Poison", accuracy: 100, maxPp: 15, power: 50, effect: { type: "status", condition: "PSN", chance: 0.5 } }, // Badly poisons
                    { name: "Bite", type: "Dark", accuracy: 100, maxPp: 25, power: 60, effect: { type: "flinch", chance: 0.3 } },
                    { name: "Toxic Spikes", type: "Poison", accuracy: 100, maxPp: 20, power: 0 }, // Entry hazard (niet geïmplementeerd)
                    { name: "Crunch", type: "Dark", accuracy: 100, maxPp: 15, power: 80, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.2 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/30.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/30.png",
                evolvesToPokedexId: 31 // Evolueert met Moon Stone
            },
            {
                pokedexId: 31,
                name: "NIDOQUEEN",
                types: ["Poison", "Ground"],
                hp: 160,
                baseStats: { attack: 92, defense: 87, speed: 76 },
                moves: [
                    { name: "Earth Power", type: "Ground", accuracy: 100, maxPp: 10, power: 90, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } }, // Sp. Def, Special
                    { name: "Sludge Wave", type: "Poison", accuracy: 100, maxPp: 10, power: 95, effect: { type: "status", condition: "PSN", chance: 0.1 } }, // Special
                    { name: "Superpower", type: "Fighting", accuracy: 100, maxPp: 5, power: 120, effect: { type: "stat", stat: ["attack", "defense"], target: "self", stages: -1 } },
                    { name: "Ice Beam", type: "Ice", accuracy: 100, maxPp: 10, power: 90, effect: { type: "status", condition: "FRZ", chance: 0.1 } } // Special
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/31.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/31.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 32,
                name: "NIDORAN♂",
                types: ["Poison"],
                hp: 115,
                baseStats: { attack: 57, defense: 40, speed: 50 },
                moves: [
                    { name: "Peck", type: "Flying", accuracy: 100, maxPp: 35, power: 35 },
                    { name: "Focus Energy", type: "Normal", accuracy: 100, maxPp: 30, power: 0, effect: { type: "focus_energy" }, alwaysHits: true },
                    { name: "Poison Sting", type: "Poison", accuracy: 100, maxPp: 35, power: 15, effect: { type: "status", condition: "PSN", chance: 0.3 } },
                    { name: "Leer", type: "Normal", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "defense", target: "opponent", stages: -1 }, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/32.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/32.png",
                evolvesToPokedexId: 33
            },
            {
                pokedexId: 33,
                name: "NIDORINO",
                types: ["Poison"],
                hp: 130,
                baseStats: { attack: 72, defense: 57, speed: 65 },
                moves: [
                    { name: "Poison Jab", type: "Poison", accuracy: 100, maxPp: 20, power: 80, effect: { type: "status", condition: "PSN", chance: 0.3 } },
                    { name: "Horn Attack", type: "Normal", accuracy: 100, maxPp: 25, power: 65 },
                    { name: "Fury Attack", type: "Normal", accuracy: 85, maxPp: 20, power: 15 }, // Hits 2-5 times
                    { name: "Toxic Spikes", type: "Poison", accuracy: 100, maxPp: 20, power: 0 } // Entry hazard
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/33.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/33.png",
                evolvesToPokedexId: 34 // Evolueert met Moon Stone
            },
            {
                pokedexId: 34,
                name: "NIDOKING",
                types: ["Poison", "Ground"],
                hp: 150,
                baseStats: { attack: 102, defense: 77, speed: 85 },
                moves: [
                    { name: "Earthquake", type: "Ground", accuracy: 100, maxPp: 10, power: 100 },
                    { name: "Poison Jab", type: "Poison", accuracy: 100, maxPp: 20, power: 80, effect: { type: "status", condition: "PSN", chance: 0.3 } },
                    { name: "Megahorn", type: "Bug", accuracy: 85, maxPp: 10, power: 120 },
                    { name: "Thrash", type: "Normal", accuracy: 100, maxPp: 10, power: 120 } // Locks user, confuses (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/34.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/34.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 35,
                name: "CLEFAIRY",
                types: ["Fairy"],
                hp: 140,
                baseStats: { attack: 45, defense: 48, speed: 35 },
                moves: [
                    { name: "Pound", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Growl", type: "Normal", accuracy: 100, maxPp: 40, power: 0, effect: { type: "stat", stat: "attack", target: "opponent", stages: -1 }, alwaysHits: true },
                    { name: "Sing", type: "Normal", accuracy: 55, maxPp: 15, power: 0, effect: { type: "status", condition: "SLP", chance: 1 } },
                    { name: "Moonlight", type: "Fairy", accuracy: 100, maxPp: 5, power: 0, effect: { type: "heal", percentage: 0.5, target: "self" }, alwaysHits: true } // Heals more in sun (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/35.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/35.png",
                evolvesToPokedexId: 36 // Evolueert met Moon Stone
            },
            {
                pokedexId: 36,
                name: "CLEFABLE",
                types: ["Fairy"],
                hp: 165,
                baseStats: { attack: 70, defense: 73, speed: 60 },
                moves: [
                    { name: "Moonblast", type: "Fairy", accuracy: 100, maxPp: 15, power: 95, effect: {type: "stat", stat: "attack", target: "opponent", stages: -1, chance: 0.3 } }, // Sp. Atk
                    { name: "Flamethrower", type: "Fire", accuracy: 100, maxPp: 15, power: 90, effect: { type: "status", condition: "BRN", chance: 0.1 } }, // Special
                    { name: "Calm Mind", type: "Psychic", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: ["attack", "defense"], target: "self", stages: 1 }, alwaysHits: true }, // Sp. Atk & Sp. Def
                    { name: "Soft-Boiled", type: "Normal", accuracy: 100, maxPp: 10, power: 0, effect: { type: "heal", percentage: 0.5, target: "self" }, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/36.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/36.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 37,
                name: "VULPIX",
                types: ["Fire"],
                hp: 110,
                baseStats: { attack: 41, defense: 40, speed: 65 },
                moves: [
                    { name: "Ember", type: "Fire", accuracy: 100, maxPp: 25, power: 40, effect: { type: "status", condition: "BRN", chance: 0.1 } },
                    { name: "Tail Whip", type: "Normal", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "defense", target: "opponent", stages: -1 }, alwaysHits: true },
                    { name: "Quick Attack", type: "Normal", accuracy: 100, maxPp: 30, power: 40, priority: 1 },
                    { name: "Will-O-Wisp", type: "Fire", accuracy: 85, maxPp: 15, power: 0, effect: { type: "status", condition: "BRN", chance: 1 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/37.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/37.png",
                evolvesToPokedexId: 38 // Evolueert met Fire Stone
            },
            {
                pokedexId: 38,
                name: "NINETALES",
                types: ["Fire"],
                hp: 145,
                baseStats: { attack: 76, defense: 75, speed: 100 },
                moves: [
                    { name: "Flamethrower", type: "Fire", accuracy: 100, maxPp: 15, power: 90, effect: { type: "status", condition: "BRN", chance: 0.1 } },
                    { name: "Solar Beam", type: "Grass", accuracy: 100, maxPp: 10, power: 120 }, // Special
                    { name: "Nasty Plot", type: "Dark", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "attack", target: "self", stages: 2 }, alwaysHits: true }, // Sp. Atk
                    { name: "Extrasensory", type: "Psychic", accuracy: 100, maxPp: 20, power: 80, effect: { type: "flinch", chance: 0.1 } } // Special
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/38.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/38.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 39,
                name: "JIGGLYPUFF",
                types: ["Normal", "Fairy"],
                hp: 185, // Hoogste HP van de basisvormen
                baseStats: { attack: 45, defense: 20, speed: 20 },
                moves: [
                    { name: "Sing", type: "Normal", accuracy: 55, maxPp: 15, power: 0, effect: { type: "status", condition: "SLP", chance: 1 } },
                    { name: "Pound", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Defense Curl", type: "Normal", accuracy: 100, maxPp: 40, power: 0, effect: { type: "stat", stat: "defense", target: "self", stages: 1 }, alwaysHits: true },
                    { name: "Disarming Voice", type: "Fairy", accuracy: 100, maxPp: 15, power: 40, alwaysHits: true } // Special, kan niet missen
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/39.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/39.png",
                evolvesToPokedexId: 40 // Evolueert met Moon Stone
            },
            {
                pokedexId: 40,
                name: "WIGGLYTUFF",
                types: ["Normal", "Fairy"],
                hp: 210, // Zeer hoge HP
                baseStats: { attack: 70, defense: 45, speed: 45 },
                moves: [
                    { name: "Hyper Voice", type: "Normal", accuracy: 100, maxPp: 10, power: 90 }, // Special
                    { name: "Dazzling Gleam", type: "Fairy", accuracy: 100, maxPp: 10, power: 80 }, // Special
                    { name: "Body Slam", type: "Normal", accuracy: 100, maxPp: 15, power: 85, effect: { type: "status", condition: "PAR", chance: 0.3 } },
                    { name: "Wish", type: "Normal", accuracy: 100, maxPp: 10, power: 0 } // Heals next turn (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/40.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/40.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 41,
                name: "ZUBAT",
                types: ["Poison", "Flying"],
                hp: 110,
                baseStats: { attack: 45, defense: 35, speed: 55 },
                moves: [
                    { name: "Leech Life", type: "Bug", accuracy: 100, maxPp: 10, power: 80, effect: { type: "heal", percentage: 0.5, target: "self"} }, // Was zwakker, nu sterk
                    { name: "Astonish", type: "Ghost", accuracy: 100, maxPp: 15, power: 30, effect: { type: "flinch", chance: 0.3 } },
                    { name: "Wing Attack", type: "Flying", accuracy: 100, maxPp: 35, power: 60 },
                    { name: "Confuse Ray", type: "Ghost", accuracy: 100, maxPp: 10, power: 0 } // Confuses (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/41.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/41.png",
                evolvesToPokedexId: 42
            },
            {
                pokedexId: 42,
                name: "GOLBAT",
                types: ["Poison", "Flying"],
                hp: 145,
                baseStats: { attack: 80, defense: 70, speed: 90 },
                moves: [
                    { name: "Air Cutter", type: "Flying", accuracy: 95, maxPp: 25, power: 60, highCritRatio: true }, // Special
                    { name: "Poison Fang", type: "Poison", accuracy: 100, maxPp: 15, power: 50, effect: { type: "status", condition: "PSN", chance: 0.5 } }, // Badly poisons
                    { name: "Bite", type: "Dark", accuracy: 100, maxPp: 25, power: 60, effect: { type: "flinch", chance: 0.3 } },
                    { name: "Haze", type: "Ice", accuracy: 100, maxPp: 30, power: 0 } // Resets stats (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/42.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/42.png",
                evolvesToPokedexId: 169 // Crobat (Gen 2, evolueert via friendship) - voor nu null
            },
            {
                pokedexId: 43,
                name: "ODDISH",
                types: ["Grass", "Poison"],
                hp: 115,
                baseStats: { attack: 50, defense: 55, speed: 30 },
                moves: [
                    { name: "Absorb", type: "Grass", accuracy: 100, maxPp: 25, power: 20, effect: { type: "heal", percentage: 0.5, target: "self"} }, // Special
                    { name: "Poison Powder", type: "Poison", accuracy: 75, maxPp: 35, power: 0, effect: { type: "status", condition: "PSN", chance: 1 } },
                    { name: "Sleep Powder", type: "Grass", accuracy: 75, maxPp: 15, power: 0, effect: { type: "status", condition: "SLP", chance: 1 } },
                    { name: "Acid", type: "Poison", accuracy: 100, maxPp: 30, power: 40, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } } // Special, Sp. Def
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/43.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/43.png",
                evolvesToPokedexId: 44
            },
            {
                pokedexId: 44,
                name: "GLOOM",
                types: ["Grass", "Poison"],
                hp: 130,
                baseStats: { attack: 65, defense: 70, speed: 40 },
                moves: [
                    { name: "Mega Drain", type: "Grass", accuracy: 100, maxPp: 15, power: 40, effect: { type: "heal", percentage: 0.5, target: "self"} }, // Special
                    { name: "Stun Spore", type: "Grass", accuracy: 75, maxPp: 30, power: 0, effect: { type: "status", condition: "PAR", chance: 1 } },
                    { name: "Sludge", type: "Poison", accuracy: 100, maxPp: 20, power: 65, effect: { type: "status", condition: "PSN", chance: 0.3 } }, // Special
                    { name: "Petal Dance", type: "Grass", accuracy: 100, maxPp: 10, power: 120 } // Special, locks user, confuses (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/44.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/44.png",
                evolvesToPokedexId: 45 // Kan ook naar Bellossom (182) met Sun Stone
            },
            {
                pokedexId: 45,
                name: "VILEPLUME",
                types: ["Grass", "Poison"],
                hp: 145,
                baseStats: { attack: 80, defense: 85, speed: 50 }, // Sp. Atk 110
                moves: [
                    { name: "Petal Blizzard", type: "Grass", accuracy: 100, maxPp: 15, power: 90 },
                    { name: "Sludge Bomb", type: "Poison", accuracy: 100, maxPp: 10, power: 90, effect: { type: "status", condition: "PSN", chance: 0.3 } }, // Special
                    { name: "Aromatherapy", type: "Grass", accuracy: 100, maxPp: 5, power: 0 }, // Heals status (niet geïmplementeerd)
                    { name: "Moonblast", type: "Fairy", accuracy: 100, maxPp: 15, power: 95, effect: {type: "stat", stat: "attack", target: "opponent", stages: -1, chance: 0.3 } } // Special, Sp. Atk
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/45.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/45.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 46,
                name: "PARAS",
                types: ["Bug", "Grass"],
                hp: 110,
                baseStats: { attack: 70, defense: 55, speed: 25 },
                moves: [
                    { name: "Scratch", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Stun Spore", type: "Grass", accuracy: 75, maxPp: 30, power: 0, effect: { type: "status", condition: "PAR", chance: 1 } },
                    { name: "Leech Life", type: "Bug", accuracy: 100, maxPp: 10, power: 80, effect: { type: "heal", percentage: 0.5, target: "self"} },
                    { name: "Spore", type: "Grass", accuracy: 100, maxPp: 15, power: 0, effect: { type: "status", condition: "SLP", chance: 1 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/46.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/46.png",
                evolvesToPokedexId: 47
            },
            {
                pokedexId: 47,
                name: "PARASECT",
                types: ["Bug", "Grass"],
                hp: 130,
                baseStats: { attack: 95, defense: 80, speed: 30 },
                moves: [
                    { name: "X-Scissor", type: "Bug", accuracy: 100, maxPp: 15, power: 80 },
                    { name: "Seed Bomb", type: "Grass", accuracy: 100, maxPp: 15, power: 80 },
                    { name: "Spore", type: "Grass", accuracy: 100, maxPp: 15, power: 0, effect: { type: "status", condition: "SLP", chance: 1 } },
                    { name: "Slash", type: "Normal", accuracy: 100, maxPp: 20, power: 70, highCritRatio: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/47.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/47.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 48,
                name: "VENONAT",
                types: ["Bug", "Poison"],
                hp: 130,
                baseStats: { attack: 55, defense: 50, speed: 45 }, // Sp. Atk 40
                moves: [
                    { name: "Tackle", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Poison Powder", type: "Poison", accuracy: 75, maxPp: 35, power: 0, effect: { type: "status", condition: "PSN", chance: 1 } },
                    { name: "Psybeam", type: "Psychic", accuracy: 100, maxPp: 20, power: 65, effect: { type: "confusion", chance: 0.1 } }, // Special
                    { name: "Signal Beam", type: "Bug", accuracy: 100, maxPp: 15, power: 75, effect: { type: "confusion", chance: 0.1 } } // Special
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/48.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/48.png",
                evolvesToPokedexId: 49
            },
            {
                pokedexId: 49,
                name: "VENOMOTH",
                types: ["Bug", "Poison"],
                hp: 140,
                baseStats: { attack: 65, defense: 60, speed: 90 }, // Sp. Atk 90
                moves: [
                    { name: "Psychic", type: "Psychic", accuracy: 100, maxPp: 10, power: 90, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } }, // Special, Sp. Def
                    { name: "Bug Buzz", type: "Bug", accuracy: 100, maxPp: 10, power: 90, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } }, // Special, Sp. Def
                    { name: "Sleep Powder", type: "Grass", accuracy: 75, maxPp: 15, power: 0, effect: { type: "status", condition: "SLP", chance: 1 } },
                    { name: "Quiver Dance", type: "Bug", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: ["attack", "defense", "speed"], target: "self", stages: 1 }, alwaysHits: true } // Sp.Atk, Sp.Def, Speed
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/49.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/49.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 50,
                name: "DIGLETT",
                types: ["Ground"],
                hp: 80, // Erg lage HP
                baseStats: { attack: 55, defense: 25, speed: 95 },
                moves: [
                    { name: "Scratch", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Sand Attack", type: "Ground", accuracy: 100, maxPp: 15, power: 0, effect: { type: "stat", stat: "accuracy", target: "opponent", stages: -1 }, alwaysHits: true },
                    { name: "Magnitude", type: "Ground", accuracy: 100, maxPp: 30, power: 70 }, // Power varieert (niet geïmplementeerd)
                    { name: "Dig", type: "Ground", accuracy: 100, maxPp: 10, power: 80 } // 2-turn (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/50.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/50.png",
                evolvesToPokedexId: 51
            },
    {
                pokedexId: 51,
                name: "DUGTRIO",
                types: ["Ground"],
                hp: 105, // Nog steeds vrij laag HP
                baseStats: { attack: 100, defense: 50, speed: 120 },
                moves: [
                    { name: "Earthquake", type: "Ground", accuracy: 100, maxPp: 10, power: 100 },
                    { name: "Sucker Punch", type: "Dark", accuracy: 100, maxPp: 5, power: 70, priority: 1 },
                    { name: "Slash", type: "Normal", accuracy: 100, maxPp: 20, power: 70, highCritRatio: true },
                    { name: "Rock Slide", type: "Rock", accuracy: 90, maxPp: 10, power: 75, effect: { type: "flinch", chance: 0.3 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/51.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/51.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 52,
                name: "MEOWTH",
                types: ["Normal"],
                hp: 110,
                baseStats: { attack: 45, defense: 35, speed: 90 },
                moves: [
                    { name: "Scratch", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Growl", type: "Normal", accuracy: 100, maxPp: 40, power: 0, effect: { type: "stat", stat: "attack", target: "opponent", stages: -1 }, alwaysHits: true },
                    { name: "Bite", type: "Dark", accuracy: 100, maxPp: 25, power: 60, effect: { type: "flinch", chance: 0.3 } },
                    { name: "Pay Day", type: "Normal", accuracy: 100, maxPp: 20, power: 40 } // Effect: scatters coins (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/52.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/52.png",
                evolvesToPokedexId: 53
            },
            {
                pokedexId: 53,
                name: "PERSIAN",
                types: ["Normal"],
                hp: 135,
                baseStats: { attack: 70, defense: 60, speed: 115 },
                moves: [
                    { name: "Slash", type: "Normal", accuracy: 100, maxPp: 20, power: 70, highCritRatio: true },
                    { name: "Power Gem", type: "Rock", accuracy: 100, maxPp: 20, power: 80 }, // Special
                    { name: "Nasty Plot", type: "Dark", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "attack", target: "self", stages: 2 }, alwaysHits: true }, // Sp. Atk
                    { name: "Fake Out", type: "Normal", accuracy: 100, maxPp: 10, power: 40, priority: 3, effect: { type: "flinch", chance: 1 } } // Only on first turn (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/53.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/53.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 54,
                name: "PSYDUCK",
                types: ["Water"],
                hp: 120,
                baseStats: { attack: 52, defense: 48, speed: 55 }, // Sp. Atk 65
                moves: [
                    { name: "Scratch", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Water Gun", type: "Water", accuracy: 100, maxPp: 25, power: 40 }, // Special
                    { name: "Confusion", type: "Psychic", accuracy: 100, maxPp: 25, power: 50, effect: { type: "confusion", chance: 0.1 } }, // Special
                    { name: "Disable", type: "Normal", accuracy: 100, maxPp: 20, power: 0 } // Disables opponent's last move (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/54.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/54.png",
                evolvesToPokedexId: 55
            },
            {
                pokedexId: 55,
                name: "GOLDUCK",
                types: ["Water"],
                hp: 150,
                baseStats: { attack: 82, defense: 78, speed: 85 }, // Sp. Atk 95
                moves: [
                    { name: "Hydro Pump", type: "Water", accuracy: 80, maxPp: 5, power: 110 }, // Special
                    { name: "Psychic", type: "Psychic", accuracy: 100, maxPp: 10, power: 90, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } }, // Special, Sp. Def
                    { name: "Ice Beam", type: "Ice", accuracy: 100, maxPp: 10, power: 90, effect: { type: "status", condition: "FRZ", chance: 0.1 } }, // Special
                    { name: "Calm Mind", type: "Psychic", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: ["attack", "defense"], target: "self", stages: 1 }, alwaysHits: true } // Sp. Atk & Sp. Def
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/55.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/55.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 56,
                name: "MANKEY",
                types: ["Fighting"],
                hp: 110,
                baseStats: { attack: 80, defense: 35, speed: 70 },
                moves: [
                    { name: "Scratch", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Low Kick", type: "Fighting", accuracy: 100, maxPp: 20, power: 60 }, // Power varies by weight (niet geïmplementeerd)
                    { name: "Leer", type: "Normal", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "defense", target: "opponent", stages: -1 }, alwaysHits: true },
                    { name: "Karate Chop", type: "Fighting", accuracy: 100, maxPp: 25, power: 50, highCritRatio: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/56.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/56.png",
                evolvesToPokedexId: 57
            },
            {
                pokedexId: 57,
                name: "PRIMEAPE",
                types: ["Fighting"],
                hp: 135,
                baseStats: { attack: 105, defense: 60, speed: 95 },
                moves: [
                    { name: "Cross Chop", type: "Fighting", accuracy: 80, maxPp: 5, power: 100, highCritRatio: true },
                    { name: "Thrash", type: "Normal", accuracy: 100, maxPp: 10, power: 120 }, // Locks user, confuses
                    { name: "Close Combat", type: "Fighting", accuracy: 100, maxPp: 5, power: 120, effect: { type: "stat", stat: ["defense", "defense"], target: "self", stages: -1 } }, // Sp. Def
                    { name: "Rage", type: "Normal", accuracy: 100, maxPp: 20, power: 20 } // Attack raises if hit (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/57.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/57.png",
                evolvesToPokedexId: null // Annihilape is Gen 9
            },
            {
                pokedexId: 58,
                name: "GROWLITHE",
                types: ["Fire"],
                hp: 125,
                baseStats: { attack: 70, defense: 45, speed: 60 },
                moves: [
                    { name: "Bite", type: "Dark", accuracy: 100, maxPp: 25, power: 60, effect: { type: "flinch", chance: 0.3 } },
                    { name: "Ember", type: "Fire", accuracy: 100, maxPp: 25, power: 40, effect: { type: "status", condition: "BRN", chance: 0.1 } },
                    { name: "Roar", type: "Normal", accuracy: 100, maxPp: 20, power: 0 }, // Forces switch (niet geïmplementeerd)
                    { name: "Flame Wheel", type: "Fire", accuracy: 100, maxPp: 25, power: 60, effect: { type: "status", condition: "BRN", chance: 0.1 } } // Thaw user
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/58.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/58.png",
                evolvesToPokedexId: 59 // Evolueert met Fire Stone
            },
            {
                pokedexId: 59,
                name: "ARCANINE",
                types: ["Fire"],
                hp: 160,
                baseStats: { attack: 110, defense: 80, speed: 95 },
                moves: [
                    { name: "Flare Blitz", type: "Fire", accuracy: 100, maxPp: 15, power: 120, effect: { type: "status", condition: "BRN", chance: 0.1 } }, // Recoil (niet geïmplementeerd)
                    { name: "Extreme Speed", type: "Normal", accuracy: 100, maxPp: 5, power: 80, priority: 2 },
                    { name: "Wild Charge", type: "Electric", accuracy: 100, maxPp: 15, power: 90 }, // Recoil
                    { name: "Crunch", type: "Dark", accuracy: 100, maxPp: 15, power: 80, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.2 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/59.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/59.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 60,
                name: "POLIWAG",
                types: ["Water"],
                hp: 110,
                baseStats: { attack: 50, defense: 40, speed: 90 },
                moves: [
                    { name: "Bubble", type: "Water", accuracy: 100, maxPp: 30, power: 40, effect: { type: "stat", stat: "speed", target: "opponent", stages: -1, chance: 0.1 } }, // Special
                    { name: "Hypnosis", type: "Psychic", accuracy: 60, maxPp: 20, power: 0, effect: { type: "status", condition: "SLP", chance: 1 } },
                    { name: "Water Gun", type: "Water", accuracy: 100, maxPp: 25, power: 40 }, // Special
                    { name: "Body Slam", type: "Normal", accuracy: 100, maxPp: 15, power: 85, effect: { type: "status", condition: "PAR", chance: 0.3 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/60.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/60.png",
                evolvesToPokedexId: 61
            },
            {
                pokedexId: 61,
                name: "POLIWHIRL",
                types: ["Water"],
                hp: 135,
                baseStats: { attack: 65, defense: 65, speed: 90 },
                moves: [
                    { name: "Water Pulse", type: "Water", accuracy: 100, maxPp: 20, power: 60, effect: { type: "confusion", chance: 0.2 } }, // Special
                    { name: "Mud Shot", type: "Ground", accuracy: 95, maxPp: 15, power: 55, effect: { type: "stat", stat: "speed", target: "opponent", stages: -1 } }, // Special
                    { name: "Body Slam", type: "Normal", accuracy: 100, maxPp: 15, power: 85, effect: { type: "status", condition: "PAR", chance: 0.3 } },
                    { name: "Bubble Beam", type: "Water", accuracy: 100, maxPp: 20, power: 65, effect: { type: "stat", stat: "speed", target: "opponent", stages: -1, chance: 0.1 } } // Special
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/61.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/61.png",
                evolvesToPokedexId: 62 // Evolueert naar Poliwrath met Water Stone, of Politoed (186) met King's Rock + trade
            },
            {
                pokedexId: 62,
                name: "POLIWRATH",
                types: ["Water", "Fighting"],
                hp: 160,
                baseStats: { attack: 95, defense: 95, speed: 70 },
                moves: [
                    { name: "Dynamic Punch", type: "Fighting", accuracy: 50, maxPp: 5, power: 100, effect: { type: "confusion", chance: 1 } },
                    { name: "Waterfall", type: "Water", accuracy: 100, maxPp: 15, power: 80, effect: { type: "flinch", chance: 0.2 } },
                    { name: "Bulk Up", type: "Fighting", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: ["attack", "defense"], target: "self", stages: 1 }, alwaysHits: true },
                    { name: "Submission", type: "Fighting", accuracy: 80, maxPp: 20, power: 80 } // Recoil (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/62.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/62.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 63,
                name: "ABRA",
                types: ["Psychic"],
                hp: 95,
                baseStats: { attack: 20, defense: 15, speed: 90 }, // Sp. Atk 105
                moves: [
                    { name: "Teleport", type: "Psychic", accuracy: 100, maxPp: 20, power: 0 } // Flees (niet geïmplementeerd voor battle)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/63.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/63.png",
                evolvesToPokedexId: 64
            },
            {
                pokedexId: 64,
                name: "KADABRA",
                types: ["Psychic"],
                hp: 110,
                baseStats: { attack: 35, defense: 30, speed: 105 }, // Sp. Atk 120
                moves: [
                    { name: "Psybeam", type: "Psychic", accuracy: 100, maxPp: 20, power: 65, effect: { type: "confusion", chance: 0.1 } }, // Special
                    { name: "Recover", type: "Normal", accuracy: 100, maxPp: 10, power: 0, effect: { type: "heal", percentage: 0.5, target: "self" }, alwaysHits: true },
                    { name: "Confusion", type: "Psychic", accuracy: 100, maxPp: 25, power: 50, effect: { type: "confusion", chance: 0.1 } }, // Special
                    { name: "Disable", type: "Normal", accuracy: 100, maxPp: 20, power: 0 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/64.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/64.png",
                evolvesToPokedexId: 65 // Evolueert via trade
            },
            {
                pokedexId: 65,
                name: "ALAKAZAM",
                types: ["Psychic"],
                hp: 125,
                baseStats: { attack: 50, defense: 45, speed: 120 }, // Sp. Atk 135
                moves: [
                    { name: "Psychic", type: "Psychic", accuracy: 100, maxPp: 10, power: 90, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } }, // Special, Sp. Def
                    { name: "Focus Blast", type: "Fighting", accuracy: 70, maxPp: 5, power: 120, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } }, // Special, Sp. Def
                    { name: "Shadow Ball", type: "Ghost", accuracy: 100, maxPp: 15, power: 80, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.2 } }, // Special, Sp. Def
                    { name: "Calm Mind", type: "Psychic", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: ["attack", "defense"], target: "self", stages: 1 }, alwaysHits: true } // Sp. Atk & Sp. Def
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/65.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/65.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 66,
                name: "MACHOP",
                types: ["Fighting"],
                hp: 140,
                baseStats: { attack: 80, defense: 50, speed: 35 },
                moves: [
                    { name: "Low Kick", type: "Fighting", accuracy: 100, maxPp: 20, power: 60 },
                    { name: "Leer", type: "Normal", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "defense", target: "opponent", stages: -1 }, alwaysHits: true },
                    { name: "Karate Chop", type: "Fighting", accuracy: 100, maxPp: 25, power: 50, highCritRatio: true },
                    { name: "Focus Energy", type: "Normal", accuracy: 100, maxPp: 30, power: 0, effect: { type: "focus_energy" }, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/66.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/66.png",
                evolvesToPokedexId: 67
            },
            {
                pokedexId: 67,
                name: "MACHOKE",
                types: ["Fighting"],
                hp: 150,
                baseStats: { attack: 100, defense: 70, speed: 45 },
                moves: [
                    { name: "Submission", type: "Fighting", accuracy: 80, maxPp: 20, power: 80 }, // Recoil
                    { name: "Bulk Up", type: "Fighting", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: ["attack", "defense"], target: "self", stages: 1 }, alwaysHits: true },
                    { name: "Brick Break", type: "Fighting", accuracy: 100, maxPp: 15, power: 75 }, // Breaks screens (niet geïmplementeerd)
                    { name: "Strength", type: "Normal", accuracy: 100, maxPp: 15, power: 80 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/67.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/67.png",
                evolvesToPokedexId: 68 // Evolueert via trade
            },
            {
                pokedexId: 68,
                name: "MACHAMP",
                types: ["Fighting"],
                hp: 160,
                baseStats: { attack: 130, defense: 80, speed: 55 },
                moves: [
                    { name: "Dynamic Punch", type: "Fighting", accuracy: 50, maxPp: 5, power: 100, effect: { type: "confusion", chance: 1 } },
                    { name: "Close Combat", type: "Fighting", accuracy: 100, maxPp: 5, power: 120, effect: { type: "stat", stat: ["defense", "defense"], target: "self", stages: -1 } }, // Sp. Def
                    { name: "Stone Edge", type: "Rock", accuracy: 80, maxPp: 5, power: 100, highCritRatio: true },
                    { name: "Bullet Punch", type: "Steel", accuracy: 100, maxPp: 30, power: 40, priority: 1 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/68.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/68.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 69,
                name: "BELLSPROUT",
                types: ["Grass", "Poison"],
                hp: 120,
                baseStats: { attack: 75, defense: 35, speed: 40 },
                moves: [
                    { name: "Vine Whip", type: "Grass", accuracy: 100, maxPp: 25, power: 45 },
                    { name: "Growth", type: "Normal", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "attack", target: "self", stages: 1 }, alwaysHits: true }, // Sp. Atk
                    { name: "Wrap", type: "Normal", accuracy: 90, maxPp: 20, power: 15 },
                    { name: "Poison Powder", type: "Poison", accuracy: 75, maxPp: 35, power: 0, effect: { type: "status", condition: "PSN", chance: 1 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/69.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/69.png",
                evolvesToPokedexId: 70
            },
            {
                pokedexId: 70,
                name: "WEEPINBELL",
                types: ["Grass", "Poison"],
                hp: 135,
                baseStats: { attack: 90, defense: 50, speed: 55 },
                moves: [
                    { name: "Razor Leaf", type: "Grass", accuracy: 95, maxPp: 25, power: 55, highCritRatio: true },
                    { name: "Sludge", type: "Poison", accuracy: 100, maxPp: 20, power: 65, effect: { type: "status", condition: "PSN", chance: 0.3 } }, // Special
                    { name: "Stun Spore", type: "Grass", accuracy: 75, maxPp: 30, power: 0, effect: { type: "status", condition: "PAR", chance: 1 } },
                    { name: "Acid", type: "Poison", accuracy: 100, maxPp: 30, power: 40, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } } // Special, Sp. Def
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/70.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/70.png",
                evolvesToPokedexId: 71 // Evolueert met Leaf Stone
            },
            {
                pokedexId: 71,
                name: "VICTREEBEL",
                types: ["Grass", "Poison"],
                hp: 150,
                baseStats: { attack: 105, defense: 65, speed: 70 }, // Sp. Atk 100
                moves: [
                    { name: "Leaf Storm", type: "Grass", accuracy: 90, maxPp: 5, power: 130, effect: { type: "stat", stat: "attack", target: "self", stages: -2 } }, // Special, Sp. Atk
                    { name: "Sludge Bomb", type: "Poison", accuracy: 100, maxPp: 10, power: 90, effect: { type: "status", condition: "PSN", chance: 0.3 } }, // Special
                    { name: "Power Whip", type: "Grass", accuracy: 85, maxPp: 10, power: 120 },
                    { name: "Sleep Powder", type: "Grass", accuracy: 75, maxPp: 15, power: 0, effect: { type: "status", condition: "SLP", chance: 1 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/71.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/71.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 72,
                name: "TENTACOOL",
                types: ["Water", "Poison"],
                hp: 110,
                baseStats: { attack: 40, defense: 35, speed: 70 }, // Sp. Def 100
                moves: [
                    { name: "Poison Sting", type: "Poison", accuracy: 100, maxPp: 35, power: 15, effect: { type: "status", condition: "PSN", chance: 0.3 } },
                    { name: "Supersonic", type: "Normal", accuracy: 55, maxPp: 20, power: 0 }, // Confuses (niet geïmplementeerd)
                    { name: "Water Pulse", type: "Water", accuracy: 100, maxPp: 20, power: 60, effect: { type: "confusion", chance: 0.2 } }, // Special
                    { name: "Acid Armor", type: "Poison", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "defense", target: "self", stages: 2 }, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/72.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/72.png",
                evolvesToPokedexId: 73
            },
            {
                pokedexId: 73,
                name: "TENTACRUEL",
                types: ["Water", "Poison"],
                hp: 150,
                baseStats: { attack: 70, defense: 65, speed: 100 }, // Sp. Def 120
                moves: [
                    { name: "Hydro Pump", type: "Water", accuracy: 80, maxPp: 5, power: 110 }, // Special
                    { name: "Sludge Wave", type: "Poison", accuracy: 100, maxPp: 10, power: 95, effect: { type: "status", condition: "PSN", chance: 0.1 } }, // Special
                    { name: "Barrier", type: "Psychic", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "defense", target: "self", stages: 2 }, alwaysHits: true },
                    { name: "Toxic Spikes", type: "Poison", accuracy: 100, maxPp: 20, power: 0 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/73.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/73.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 74,
                name: "GEODUDE",
                types: ["Rock", "Ground"],
                hp: 110,
                baseStats: { attack: 80, defense: 100, speed: 20 },
                moves: [
                    { name: "Tackle", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Defense Curl", type: "Normal", accuracy: 100, maxPp: 40, power: 0, effect: { type: "stat", stat: "defense", target: "self", stages: 1 }, alwaysHits: true },
                    { name: "Rock Throw", type: "Rock", accuracy: 90, maxPp: 15, power: 50 },
                    { name: "Magnitude", type: "Ground", accuracy: 100, maxPp: 30, power: 70 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/74.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/74.png",
                evolvesToPokedexId: 75
            },
            {
                pokedexId: 75,
                name: "GRAVELER",
                types: ["Rock", "Ground"],
                hp: 125,
                baseStats: { attack: 95, defense: 115, speed: 35 },
                moves: [
                    { name: "Rock Blast", type: "Rock", accuracy: 90, maxPp: 10, power: 25 }, // Hits 2-5 times
                    { name: "Earthquake", type: "Ground", accuracy: 100, maxPp: 10, power: 100 },
                    { name: "Self-Destruct", type: "Normal", accuracy: 100, maxPp: 5, power: 200 }, // User faints (niet geïmplementeerd)
                    { name: "Rollout", type: "Rock", accuracy: 90, maxPp: 20, power: 30 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/75.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/75.png",
                evolvesToPokedexId: 76 // Evolueert via trade
            },
            {
                pokedexId: 76,
                name: "GOLEM",
                types: ["Rock", "Ground"],
                hp: 150,
                baseStats: { attack: 120, defense: 130, speed: 45 },
                moves: [
                    { name: "Stone Edge", type: "Rock", accuracy: 80, maxPp: 5, power: 100, highCritRatio: true },
                    { name: "Earthquake", type: "Ground", accuracy: 100, maxPp: 10, power: 100 },
                    { name: "Heavy Slam", type: "Steel", accuracy: 100, maxPp: 10, power: 80 }, // Power based on weight (niet geïmplementeerd)
                    { name: "Explosion", type: "Normal", accuracy: 100, maxPp: 5, power: 250 } // User faints
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/76.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/76.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 77,
                name: "PONYTA",
                types: ["Fire"],
                hp: 120,
                baseStats: { attack: 85, defense: 55, speed: 90 },
                moves: [
                    { name: "Tackle", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Ember", type: "Fire", accuracy: 100, maxPp: 25, power: 40, effect: { type: "status", condition: "BRN", chance: 0.1 } },
                    { name: "Tail Whip", type: "Normal", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "defense", target: "opponent", stages: -1 }, alwaysHits: true },
                    { name: "Stomp", type: "Normal", accuracy: 100, maxPp: 20, power: 65, effect: { type: "flinch", chance: 0.3 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/77.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/77.png",
                evolvesToPokedexId: 78
            },
            {
                pokedexId: 78,
                name: "RAPIDASH",
                types: ["Fire"],
                hp: 135,
                baseStats: { attack: 100, defense: 70, speed: 105 },
                moves: [
                    { name: "Flare Blitz", type: "Fire", accuracy: 100, maxPp: 15, power: 120, effect: { type: "status", condition: "BRN", chance: 0.1 } }, // Recoil
                    { name: "Megahorn", type: "Bug", accuracy: 85, maxPp: 10, power: 120 },
                    { name: "Morning Sun", type: "Normal", accuracy: 100, maxPp: 5, power: 0, effect: { type: "heal", percentage: 0.5, target: "self" }, alwaysHits: true },
                    { name: "Drill Run", type: "Ground", accuracy: 95, maxPp: 10, power: 80, highCritRatio: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/78.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/78.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 79,
                name: "SLOWPOKE",
                types: ["Water", "Psychic"],
                hp: 160,
                baseStats: { attack: 65, defense: 65, speed: 15 },
                moves: [
                    { name: "Confusion", type: "Psychic", accuracy: 100, maxPp: 25, power: 50, effect: { type: "confusion", chance: 0.1 } }, // Special
                    { name: "Water Gun", type: "Water", accuracy: 100, maxPp: 25, power: 40 }, // Special
                    { name: "Disable", type: "Normal", accuracy: 100, maxPp: 20, power: 0 },
                    { name: "Yawn", type: "Normal", accuracy: 100, maxPp: 10, power: 0 } // Makes target sleepy (SLP next turn, niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/79.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/79.png",
                evolvesToPokedexId: 80 // Kan ook naar Slowking (199) met King's Rock + trade
            },
            {
                pokedexId: 80,
                name: "SLOWBRO",
                types: ["Water", "Psychic"],
                hp: 165,
                baseStats: { attack: 75, defense: 110, speed: 30 }, // Sp. Atk 100
                moves: [
                    { name: "Surf", type: "Water", accuracy: 100, maxPp: 15, power: 90 }, // Special
                    { name: "Psychic", type: "Psychic", accuracy: 100, maxPp: 10, power: 90, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } }, // Special, Sp. Def
                    { name: "Slack Off", type: "Normal", accuracy: 100, maxPp: 10, power: 0, effect: { type: "heal", percentage: 0.5, target: "self" }, alwaysHits: true },
                    { name: "Ice Beam", type: "Ice", accuracy: 100, maxPp: 10, power: 90, effect: { type: "status", condition: "FRZ", chance: 0.1 } } // Special
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/80.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/80.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 81,
                name: "MAGNEMITE",
                types: ["Electric", "Steel"],
                hp: 95,
                baseStats: { attack: 35, defense: 70, speed: 45 }, // Sp. Atk 95
                moves: [
                    { name: "Thunder Shock", type: "Electric", accuracy: 100, maxPp: 30, power: 40, effect: { type: "status", condition: "PAR", chance: 0.1 } }, // Special
                    { name: "Supersonic", type: "Normal", accuracy: 55, maxPp: 20, power: 0 },
                    { name: "Flash Cannon", type: "Steel", accuracy: 100, maxPp: 10, power: 80, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } }, // Special, Sp. Def
                    { name: "Thunder Wave", type: "Electric", accuracy: 90, maxPp: 20, power: 0, effect: { type: "status", condition: "PAR", chance: 1 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/81.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/81.png",
                evolvesToPokedexId: 82
            },
            {
                pokedexId: 82,
                name: "MAGNETON",
                types: ["Electric", "Steel"],
                hp: 120,
                baseStats: { attack: 60, defense: 95, speed: 70 }, // Sp. Atk 120
                moves: [
                    { name: "Thunderbolt", type: "Electric", accuracy: 100, maxPp: 15, power: 90, effect: { type: "status", condition: "PAR", chance: 0.1 } }, // Special
                    { name: "Tri Attack", type: "Normal", accuracy: 100, maxPp: 10, power: 80, effect: { type: "status_random", conditions: ["BRN", "PAR", "FRZ"], chance: 0.2 } }, // Special
                    { name: "Discharge", type: "Electric", accuracy: 100, maxPp: 15, power: 80, effect: { type: "status", condition: "PAR", chance: 0.3 } }, // Special
                    { name: "Metal Sound", type: "Steel", accuracy: 85, maxPp: 40, power: 0, effect: { type: "stat", stat: "defense", target: "opponent", stages: -2 }, alwaysHits: true } // Sp. Def
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/82.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/82.png",
                evolvesToPokedexId: 462 // Magnezone (Gen 4), evolueert op speciale locaties / met item
            },
            {
                pokedexId: 83,
                name: "FARFETCHD",
                types: ["Normal", "Flying"],
                hp: 122,
                baseStats: { attack: 90, defense: 55, speed: 60 },
                moves: [
                    { name: "Slash", type: "Normal", accuracy: 100, maxPp: 20, power: 70, highCritRatio: true },
                    { name: "Air Cutter", type: "Flying", accuracy: 95, maxPp: 25, power: 60, highCritRatio: true }, // Special
                    { name: "Swords Dance", type: "Normal", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "attack", target: "self", stages: 2 }, alwaysHits: true },
                    { name: "Leaf Blade", type: "Grass", accuracy: 100, maxPp: 15, power: 90, highCritRatio: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/83.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/83.png",
                evolvesToPokedexId: null // Sirfetch'd is Gen 8
            },
            {
                pokedexId: 84,
                name: "DODUO",
                types: ["Normal", "Flying"],
                hp: 105,
                baseStats: { attack: 85, defense: 45, speed: 75 },
                moves: [
                    { name: "Peck", type: "Flying", accuracy: 100, maxPp: 35, power: 35 },
                    { name: "Quick Attack", type: "Normal", accuracy: 100, maxPp: 30, power: 40, priority: 1 },
                    { name: "Rage", type: "Normal", accuracy: 100, maxPp: 20, power: 20 },
                    { name: "Fury Attack", type: "Normal", accuracy: 85, maxPp: 20, power: 15 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/84.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/84.png",
                evolvesToPokedexId: 85
            },
            {
                pokedexId: 85,
                name: "DODRIO",
                types: ["Normal", "Flying"],
                hp: 130,
                baseStats: { attack: 110, defense: 70, speed: 110 },
                moves: [
                    { name: "Drill Peck", type: "Flying", accuracy: 100, maxPp: 20, power: 80 },
                    { name: "Tri Attack", type: "Normal", accuracy: 100, maxPp: 10, power: 80, effect: { type: "status_random", conditions: ["BRN", "PAR", "FRZ"], chance: 0.2 } }, // Special
                    { name: "Jump Kick", type: "Fighting", accuracy: 95, maxPp: 10, power: 100 }, // Crash damage if miss (niet geïmplementeerd)
                    { name: "Agility", type: "Psychic", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "speed", target: "self", stages: 2 }, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/85.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/85.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 86,
                name: "SEEL",
                types: ["Water"],
                hp: 135,
                baseStats: { attack: 45, defense: 55, speed: 45 }, // Sp. Def 70
                moves: [
                    { name: "Headbutt", type: "Normal", accuracy: 100, maxPp: 15, power: 70, effect: { type: "flinch", chance: 0.3 } },
                    { name: "Icy Wind", type: "Ice", accuracy: 95, maxPp: 15, power: 55, effect: { type: "stat", stat: "speed", target: "opponent", stages: -1 } }, // Special
                    { name: "Aurora Beam", type: "Ice", accuracy: 100, maxPp: 20, power: 65, effect: {type: "stat", stat: "attack", target: "opponent", stages: -1, chance: 0.1 } }, // Special
                    { name: "Aqua Jet", type: "Water", accuracy: 100, maxPp: 20, power: 40, priority: 1 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/86.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/86.png",
                evolvesToPokedexId: 87
            },
            {
                pokedexId: 87,
                name: "DEWGONG",
                types: ["Water", "Ice"],
                hp: 160,
                baseStats: { attack: 70, defense: 80, speed: 70 }, // Sp. Def 95
                moves: [
                    { name: "Ice Beam", type: "Ice", accuracy: 100, maxPp: 10, power: 90, effect: { type: "status", condition: "FRZ", chance: 0.1 } }, // Special
                    { name: "Surf", type: "Water", accuracy: 100, maxPp: 15, power: 90 }, // Special
                    { name: "Rest", type: "Psychic", accuracy: 100, maxPp: 10, power: 0 }, // Heals, SLP 2 turns (niet geïmplementeerd)
                    { name: "Signal Beam", type: "Bug", accuracy: 100, maxPp: 15, power: 75, effect: { type: "confusion", chance: 0.1 } } // Special
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/87.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/87.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 88,
                name: "GRIMER",
                types: ["Poison"],
                hp: 150,
                baseStats: { attack: 80, defense: 50, speed: 25 },
                moves: [
                    { name: "Pound", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Sludge", type: "Poison", accuracy: 100, maxPp: 20, power: 65, effect: { type: "status", condition: "PSN", chance: 0.3 } }, // Special
                    { name: "Minimize", type: "Normal", accuracy: 100, maxPp: 10, power: 0, effect: { type: "stat", stat: "evasion", target: "self", stages: 2 }, alwaysHits: true },
                    { name: "Disable", type: "Normal", accuracy: 100, maxPp: 20, power: 0 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/88.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/88.png",
                evolvesToPokedexId: 89
            },
            {
                pokedexId: 89,
                name: "MUK",
                types: ["Poison"],
                hp: 175,
                baseStats: { attack: 105, defense: 75, speed: 50 }, // Sp. Def 100
                moves: [
                    { name: "Gunk Shot", type: "Poison", accuracy: 80, maxPp: 5, power: 120, effect: { type: "status", condition: "PSN", chance: 0.3 } },
                    { name: "Sludge Bomb", type: "Poison", accuracy: 100, maxPp: 10, power: 90, effect: { type: "status", condition: "PSN", chance: 0.3 } }, // Special
                    { name: "Shadow Sneak", type: "Ghost", accuracy: 100, maxPp: 30, power: 40, priority: 1 },
                    { name: "Acid Armor", type: "Poison", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "defense", target: "self", stages: 2 }, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/89.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/89.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 90,
                name: "SHELLDER",
                types: ["Water"],
                hp: 100,
                baseStats: { attack: 65, defense: 100, speed: 40 },
                moves: [
                    { name: "Tackle", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Water Gun", type: "Water", accuracy: 100, maxPp: 25, power: 40 }, // Special
                    { name: "Withdraw", type: "Water", accuracy: 100, maxPp: 40, power: 0, effect: { type: "stat", stat: "defense", target: "self", stages: 1 }, alwaysHits: true },
                    { name: "Clamp", type: "Water", accuracy: 85, maxPp: 15, power: 35 } // Traps target (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/90.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/90.png",
                evolvesToPokedexId: 91 // Evolueert met Water Stone
            },
            {
                pokedexId: 91,
                name: "CLOYSTER",
                types: ["Water", "Ice"],
                hp: 120,
                baseStats: { attack: 95, defense: 180, speed: 70 },
                moves: [
                    { name: "Icicle Spear", type: "Ice", accuracy: 100, maxPp: 30, power: 25 }, // Hits 2-5 times
                    { name: "Shell Smash", type: "Normal", accuracy: 100, maxPp: 15, power: 0, effect: { type: "stat", stat: ["attack", "attack", "speed", "defense", "defense"], target: "self", stages: [2, 2, 2, -1, -1] }, alwaysHits: true }, // Atk, SpA, Spe up; Def, SpD down
                    { name: "Hydro Pump", type: "Water", accuracy: 80, maxPp: 5, power: 110 }, // Special
                    { name: "Spikes", type: "Ground", accuracy: 100, maxPp: 20, power: 0 } // Entry hazard (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/91.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/91.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 92,
                name: "GASTLY",
                types: ["Ghost", "Poison"],
                hp: 100,
                baseStats: { attack: 35, defense: 30, speed: 80 }, // Sp. Atk 100
                moves: [
                    { name: "Lick", type: "Ghost", accuracy: 100, maxPp: 30, power: 30, effect: { type: "status", condition: "PAR", chance: 0.3 } },
                    { name: "Hypnosis", type: "Psychic", accuracy: 60, maxPp: 20, power: 0, effect: { type: "status", condition: "SLP", chance: 1 } },
                    { name: "Spite", type: "Ghost", accuracy: 100, maxPp: 10, power: 0 }, // Reduces PP (niet geïmplementeerd)
                    { name: "Night Shade", type: "Ghost", accuracy: 100, maxPp: 15, power: GAME_LEVEL } // Damage = user's level (fixed for now)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/92.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/92.png",
                evolvesToPokedexId: 93
            },
            {
                pokedexId: 93,
                name: "HAUNTER",
                types: ["Ghost", "Poison"],
                hp: 115,
                baseStats: { attack: 50, defense: 45, speed: 95 }, // Sp. Atk 115
                moves: [
                    { name: "Shadow Ball", type: "Ghost", accuracy: 100, maxPp: 15, power: 80, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.2 } }, // Special, Sp. Def
                    { name: "Sludge Bomb", type: "Poison", accuracy: 100, maxPp: 10, power: 90, effect: { type: "status", condition: "PSN", chance: 0.3 } }, // Special
                    { name: "Confuse Ray", type: "Ghost", accuracy: 100, maxPp: 10, power: 0 },
                    { name: "Dream Eater", type: "Psychic", accuracy: 100, maxPp: 15, power: 100, effect: { type: "heal", percentage: 0.5, target: "self"} } // Only if target SLP (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/93.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/93.png",
                evolvesToPokedexId: 94 // Evolueert via trade
            },
            {
                pokedexId: 94,
                name: "GENGAR",
                types: ["Ghost", "Poison"],
                hp: 130,
                baseStats: { attack: 65, defense: 60, speed: 110 }, // Sp. Atk 130
                moves: [
                    { name: "Shadow Ball", type: "Ghost", accuracy: 100, maxPp: 15, power: 80, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.2 } }, // Special, Sp. Def
                    { name: "Sludge Wave", type: "Poison", accuracy: 100, maxPp: 10, power: 95, effect: { type: "status", condition: "PSN", chance: 0.1 } }, // Special
                    { name: "Focus Blast", type: "Fighting", accuracy: 70, maxPp: 5, power: 120, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } }, // Special, Sp. Def
                    { name: "Destiny Bond", type: "Ghost", accuracy: 100, maxPp: 5, power: 0 } // If user faints, target faints (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/94.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/94.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 95,
                name: "ONIX",
                types: ["Rock", "Ground"],
                hp: 105, // Relatief lage HP ondanks uiterlijk
                baseStats: { attack: 45, defense: 160, speed: 70 },
                moves: [
                    { name: "Rock Throw", type: "Rock", accuracy: 90, maxPp: 15, power: 50 },
                    { name: "Bind", type: "Normal", accuracy: 85, maxPp: 20, power: 15 }, // Traps
                    { name: "Screech", type: "Normal", accuracy: 85, maxPp: 40, power: 0, effect: { type: "stat", stat: "defense", target: "opponent", stages: -2 }, alwaysHits: true },
                    { name: "Iron Tail", type: "Steel", accuracy: 75, maxPp: 15, power: 100, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.3 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/95.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/95.png",
                evolvesToPokedexId: 208 // Steelix (Gen 2), evolueert via trade met Metal Coat
            },
            {
                pokedexId: 96,
                name: "DROWZEE",
                types: ["Psychic"],
                hp: 130,
                baseStats: { attack: 48, defense: 45, speed: 42 }, // Sp. Def 90
                moves: [
                    { name: "Pound", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Hypnosis", type: "Psychic", accuracy: 60, maxPp: 20, power: 0, effect: { type: "status", condition: "SLP", chance: 1 } },
                    { name: "Confusion", type: "Psychic", accuracy: 100, maxPp: 25, power: 50, effect: { type: "confusion", chance: 0.1 } }, // Special
                    { name: "Disable", type: "Normal", accuracy: 100, maxPp: 20, power: 0 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/96.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/96.png",
                evolvesToPokedexId: 97
            },
            {
                pokedexId: 97,
                name: "HYPNO",
                types: ["Psychic"],
                hp: 155,
                baseStats: { attack: 73, defense: 70, speed: 67 }, // Sp. Def 115
                moves: [
                    { name: "Psychic", type: "Psychic", accuracy: 100, maxPp: 10, power: 90, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } }, // Special, Sp. Def
                    { name: "Dream Eater", type: "Psychic", accuracy: 100, maxPp: 15, power: 100, effect: { type: "heal", percentage: 0.5, target: "self"} }, // Special
                    { name: "Nasty Plot", type: "Dark", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "attack", target: "self", stages: 2 }, alwaysHits: true }, // Sp. Atk
                    { name: "Shadow Ball", type: "Ghost", accuracy: 100, maxPp: 15, power: 80, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.2 } } // Special, Sp. Def
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/97.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/97.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 98,
                name: "KRABBY",
                types: ["Water"],
                hp: 100,
                baseStats: { attack: 105, defense: 90, speed: 50 },
                moves: [
                    { name: "Bubble", type: "Water", accuracy: 100, maxPp: 30, power: 40, effect: { type: "stat", stat: "speed", target: "opponent", stages: -1, chance: 0.1 } }, // Special
                    { name: "Vice Grip", type: "Normal", accuracy: 100, maxPp: 30, power: 55 },
                    { name: "Leer", type: "Normal", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "defense", target: "opponent", stages: -1 }, alwaysHits: true },
                    { name: "Crabhammer", type: "Water", accuracy: 90, maxPp: 10, power: 100, highCritRatio: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/98.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/98.png",
                evolvesToPokedexId: 99
            },
            {
                pokedexId: 99,
                name: "KINGLER",
                types: ["Water"],
                hp: 125,
                baseStats: { attack: 130, defense: 115, speed: 75 },
                moves: [
                    { name: "Crabhammer", type: "Water", accuracy: 90, maxPp: 10, power: 100, highCritRatio: true },
                    { name: "Guillotine", type: "Normal", accuracy: 30, maxPp: 5, power: 1000 }, // OHKO (niet geïmplementeerd als zodanig)
                    { name: "Swords Dance", type: "Normal", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "attack", target: "self", stages: 2 }, alwaysHits: true },
                    { name: "Rock Smash", type: "Fighting", accuracy: 100, maxPp: 15, power: 40, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.5 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/99.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/99.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 100,
                name: "VOLTORB",
                types: ["Electric"],
                hp: 110,
                baseStats: { attack: 30, defense: 50, speed: 100 }, // Sp. Atk 55
                moves: [
                    { name: "Tackle", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Thunder Shock", type: "Electric", accuracy: 100, maxPp: 30, power: 40, effect: { type: "status", condition: "PAR", chance: 0.1 } }, // Special
                    { name: "Screech", type: "Normal", accuracy: 85, maxPp: 40, power: 0, effect: { type: "stat", stat: "defense", target: "opponent", stages: -2 }, alwaysHits: true },
                    { name: "Spark", type: "Electric", accuracy: 100, maxPp: 20, power: 65, effect: { type: "status", condition: "PAR", chance: 0.3 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/100.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/100.png",
                evolvesToPokedexId: 101
            },
 {
                pokedexId: 101,
                name: "ELECTRODE",
                types: ["Electric"],
                hp: 130,
                baseStats: { attack: 50, defense: 70, speed: 150 }, // Sp. Atk 80
                moves: [
                    { name: "Thunderbolt", type: "Electric", accuracy: 100, maxPp: 15, power: 90, effect: { type: "status", condition: "PAR", chance: 0.1 } }, // Special
                    { name: "Explosion", type: "Normal", accuracy: 100, maxPp: 5, power: 250 }, // User faints
                    { name: "Light Screen", type: "Psychic", accuracy: 100, maxPp: 30, power: 0 }, // Halves Special damage (niet geïmplementeerd)
                    { name: "Mirror Coat", type: "Psychic", accuracy: 100, maxPp: 20, power: 1, priority: -5 } // Deals 2x Special damage taken (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/101.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/101.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 102,
                name: "EXEGGCUTE",
                types: ["Grass", "Psychic"],
                hp: 130,
                baseStats: { attack: 40, defense: 80, speed: 40 }, // Sp. Atk 60
                moves: [
                    { name: "Barrage", type: "Normal", accuracy: 85, maxPp: 20, power: 15 }, // Hits 2-5 times
                    { name: "Hypnosis", type: "Psychic", accuracy: 60, maxPp: 20, power: 0, effect: { type: "status", condition: "SLP", chance: 1 } },
                    { name: "Leech Seed", type: "Grass", accuracy: 90, maxPp: 10, power: 0 }, // Drains HP (niet geïmplementeerd)
                    { name: "Confusion", type: "Psychic", accuracy: 100, maxPp: 25, power: 50, effect: { type: "confusion", chance: 0.1 } } // Special
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/102.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/102.png",
                evolvesToPokedexId: 103 // Evolueert met Leaf Stone
            },
            {
                pokedexId: 103,
                name: "EXEGGUTOR",
                types: ["Grass", "Psychic"],
                hp: 165,
                baseStats: { attack: 95, defense: 85, speed: 55 }, // Sp. Atk 125
                moves: [
                    { name: "Psychic", type: "Psychic", accuracy: 100, maxPp: 10, power: 90, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } }, // Special, Sp. Def
                    { name: "Leaf Storm", type: "Grass", accuracy: 90, maxPp: 5, power: 130, effect: { type: "stat", stat: "attack", target: "self", stages: -2 } }, // Special, Sp. Atk
                    { name: "Sleep Powder", type: "Grass", accuracy: 75, maxPp: 15, power: 0, effect: { type: "status", condition: "SLP", chance: 1 } },
                    { name: "Egg Bomb", type: "Normal", accuracy: 75, maxPp: 10, power: 100 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/103.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/103.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 104,
                name: "CUBONE",
                types: ["Ground"],
                hp: 120,
                baseStats: { attack: 50, defense: 95, speed: 35 },
                moves: [
                    { name: "Bone Club", type: "Ground", accuracy: 85, maxPp: 20, power: 65, effect: { type: "flinch", chance: 0.1 } },
                    { name: "Headbutt", type: "Normal", accuracy: 100, maxPp: 15, power: 70, effect: { type: "flinch", chance: 0.3 } },
                    { name: "Leer", type: "Normal", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "defense", target: "opponent", stages: -1 }, alwaysHits: true },
                    { name: "Focus Energy", type: "Normal", accuracy: 100, maxPp: 30, power: 0, effect: { type: "focus_energy" }, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/104.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/104.png",
                evolvesToPokedexId: 105
            },
            {
                pokedexId: 105,
                name: "MAROWAK",
                types: ["Ground"],
                hp: 130,
                baseStats: { attack: 80, defense: 110, speed: 45 },
                moves: [
                    { name: "Bonemerang", type: "Ground", accuracy: 90, maxPp: 10, power: 50 }, // Hits twice
                    { name: "Earthquake", type: "Ground", accuracy: 100, maxPp: 10, power: 100 },
                    { name: "Stone Edge", type: "Rock", accuracy: 80, maxPp: 5, power: 100, highCritRatio: true },
                    { name: "Swords Dance", type: "Normal", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "attack", target: "self", stages: 2 }, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/105.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/105.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 106,
                name: "HITMONLEE",
                types: ["Fighting"],
                hp: 120,
                baseStats: { attack: 120, defense: 53, speed: 87 },
                moves: [
                    { name: "High Jump Kick", type: "Fighting", accuracy: 90, maxPp: 10, power: 130 }, // Crash damage
                    { name: "Blaze Kick", type: "Fire", accuracy: 90, maxPp: 10, power: 85, highCritRatio: true, effect: { type: "status", condition: "BRN", chance: 0.1 } },
                    { name: "Meditate", type: "Psychic", accuracy: 100, maxPp: 40, power: 0, effect: { type: "stat", stat: "attack", target: "self", stages: 1 }, alwaysHits: true },
                    { name: "Brick Break", type: "Fighting", accuracy: 100, maxPp: 15, power: 75 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/106.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/106.png",
                evolvesToPokedexId: null // Tyrogue (236) is de pre-evolutie
            },
            {
                pokedexId: 107,
                name: "HITMONCHAN",
                types: ["Fighting"],
                hp: 120,
                baseStats: { attack: 105, defense: 79, speed: 76 },
                moves: [
                    { name: "Mach Punch", type: "Fighting", accuracy: 100, maxPp: 30, power: 40, priority: 1 },
                    { name: "Ice Punch", type: "Ice", accuracy: 100, maxPp: 15, power: 75, effect: { type: "status", condition: "FRZ", chance: 0.1 } },
                    { name: "Thunder Punch", type: "Electric", accuracy: 100, maxPp: 15, power: 75, effect: { type: "status", condition: "PAR", chance: 0.1 } },
                    { name: "Fire Punch", type: "Fire", accuracy: 100, maxPp: 15, power: 75, effect: { type: "status", condition: "BRN", chance: 0.1 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/107.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/107.png",
                evolvesToPokedexId: null // Tyrogue (236) is de pre-evolutie
            },
            {
                pokedexId: 108,
                name: "LICKITUNG",
                types: ["Normal"],
                hp: 160,
                baseStats: { attack: 55, defense: 75, speed: 30 },
                moves: [
                    { name: "Lick", type: "Ghost", accuracy: 100, maxPp: 30, power: 30, effect: { type: "status", condition: "PAR", chance: 0.3 } },
                    { name: "Stomp", type: "Normal", accuracy: 100, maxPp: 20, power: 65, effect: { type: "flinch", chance: 0.3 } },
                    { name: "Wrap", type: "Normal", accuracy: 90, maxPp: 20, power: 15 },
                    { name: "Slam", type: "Normal", accuracy: 75, maxPp: 20, power: 80 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/108.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/108.png",
                evolvesToPokedexId: 463 // Lickilicky (Gen 4)
            },
            {
                pokedexId: 109,
                name: "KOFFING",
                types: ["Poison"],
                hp: 110,
                baseStats: { attack: 65, defense: 95, speed: 35 },
                moves: [
                    { name: "Poison Gas", type: "Poison", accuracy: 90, maxPp: 40, power: 0, effect: { type: "status", condition: "PSN", chance: 1 } },
                    { name: "Tackle", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Sludge", type: "Poison", accuracy: 100, maxPp: 20, power: 65, effect: { type: "status", condition: "PSN", chance: 0.3 } }, // Special
                    { name: "Smokescreen", type: "Normal", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "accuracy", target: "opponent", stages: -1 }, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/109.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/109.png",
                evolvesToPokedexId: 110
            },
            {
                pokedexId: 110,
                name: "WEEZING",
                types: ["Poison"],
                hp: 135,
                baseStats: { attack: 90, defense: 120, speed: 60 },
                moves: [
                    { name: "Sludge Bomb", type: "Poison", accuracy: 100, maxPp: 10, power: 90, effect: { type: "status", condition: "PSN", chance: 0.3 } }, // Special
                    { name: "Will-O-Wisp", type: "Fire", accuracy: 85, maxPp: 15, power: 0, effect: { type: "status", condition: "BRN", chance: 1 } },
                    { name: "Explosion", type: "Normal", accuracy: 100, maxPp: 5, power: 250 },
                    { name: "Toxic", type: "Poison", accuracy: 90, maxPp: 10, power: 0 } // Badly poisons (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/110.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/110.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 111,
                name: "RHYHORN",
                types: ["Rock", "Ground"],
                hp: 150,
                baseStats: { attack: 85, defense: 95, speed: 25 },
                moves: [
                    { name: "Horn Attack", type: "Normal", accuracy: 100, maxPp: 25, power: 65 },
                    { name: "Stomp", type: "Normal", accuracy: 100, maxPp: 20, power: 65, effect: { type: "flinch", chance: 0.3 } },
                    { name: "Rock Blast", type: "Rock", accuracy: 90, maxPp: 10, power: 25 },
                    { name: "Take Down", type: "Normal", accuracy: 85, maxPp: 20, power: 90 } // Recoil
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/111.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/111.png",
                evolvesToPokedexId: 112
            },
            {
                pokedexId: 112,
                name: "RHYDON",
                types: ["Rock", "Ground"],
                hp: 175,
                baseStats: { attack: 130, defense: 120, speed: 40 },
                moves: [
                    { name: "Earthquake", type: "Ground", accuracy: 100, maxPp: 10, power: 100 },
                    { name: "Stone Edge", type: "Rock", accuracy: 80, maxPp: 5, power: 100, highCritRatio: true },
                    { name: "Megahorn", type: "Bug", accuracy: 85, maxPp: 10, power: 120 },
                    { name: "Hammer Arm", type: "Fighting", accuracy: 90, maxPp: 10, power: 100, effect: { type: "stat", stat: "speed", target: "self", stages: -1 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/112.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/112.png",
                evolvesToPokedexId: 464 // Rhyperior (Gen 4), evolueert via trade met Protector
            },
            {
                pokedexId: 113,
                name: "CHANSEY",
                types: ["Normal"],
                hp: 320, // Extreem hoge HP
                baseStats: { attack: 5, defense: 5, speed: 50 }, // Sp. Def 105
                moves: [
                    { name: "Soft-Boiled", type: "Normal", accuracy: 100, maxPp: 10, power: 0, effect: { type: "heal", percentage: 0.5, target: "self" }, alwaysHits: true },
                    { name: "Egg Bomb", type: "Normal", accuracy: 75, maxPp: 10, power: 100 },
                    { name: "Minimize", type: "Normal", accuracy: 100, maxPp: 10, power: 0, effect: { type: "stat", stat: "evasion", target: "self", stages: 2 }, alwaysHits: true },
                    { name: "Sing", type: "Normal", accuracy: 55, maxPp: 15, power: 0, effect: { type: "status", condition: "SLP", chance: 1 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/113.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/113.png",
                evolvesToPokedexId: 242 // Blissey (Gen 2), evolueert via friendship
            },
            {
                pokedexId: 114,
                name: "TANGELA",
                types: ["Grass"],
                hp: 135,
                baseStats: { attack: 55, defense: 115, speed: 60 }, // Sp. Atk 100
                moves: [
                    { name: "Vine Whip", type: "Grass", accuracy: 100, maxPp: 25, power: 45 },
                    { name: "Sleep Powder", type: "Grass", accuracy: 75, maxPp: 15, power: 0, effect: { type: "status", condition: "SLP", chance: 1 } },
                    { name: "Giga Drain", type: "Grass", accuracy: 100, maxPp: 10, power: 75, effect: {type: "heal", percentage: 0.5, target: "self"} }, // Special
                    { name: "Ancient Power", type: "Rock", accuracy: 100, maxPp: 5, power: 60, effect: { type: "stat_all_self", chance: 0.1, stages: 1 } } // Special
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/114.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/114.png",
                evolvesToPokedexId: 465 // Tangrowth (Gen 4), evolueert na leren Ancient Power
            },
            {
                pokedexId: 115,
                name: "KANGASKHAN",
                types: ["Normal"],
                hp: 175,
                baseStats: { attack: 95, defense: 80, speed: 90 },
                moves: [
                    { name: "Dizzy Punch", type: "Normal", accuracy: 100, maxPp: 10, power: 70, effect: { type: "confusion", chance: 0.2 } },
                    { name: "Mega Punch", type: "Normal", accuracy: 85, maxPp: 20, power: 80 },
                    { name: "Fake Out", type: "Normal", accuracy: 100, maxPp: 10, power: 40, priority: 3, effect: { type: "flinch", chance: 1 } },
                    { name: "Body Slam", type: "Normal", accuracy: 100, maxPp: 15, power: 85, effect: { type: "status", condition: "PAR", chance: 0.3 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/115.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/115.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 116,
                name: "HORSEA",
                types: ["Water"],
                hp: 100,
                baseStats: { attack: 40, defense: 70, speed: 60 }, // Sp. Atk 70
                moves: [
                    { name: "Bubble", type: "Water", accuracy: 100, maxPp: 30, power: 40, effect: { type: "stat", stat: "speed", target: "opponent", stages: -1, chance: 0.1 } }, // Special
                    { name: "Smokescreen", type: "Normal", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "accuracy", target: "opponent", stages: -1 }, alwaysHits: true },
                    { name: "Water Gun", type: "Water", accuracy: 100, maxPp: 25, power: 40 }, // Special
                    { name: "Twister", type: "Dragon", accuracy: 100, maxPp: 20, power: 40, effect: { type: "flinch", chance: 0.2 } } // Special
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/116.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/116.png",
                evolvesToPokedexId: 117
            },
            {
                pokedexId: 117,
                name: "SEADRA",
                types: ["Water"],
                hp: 125,
                baseStats: { attack: 65, defense: 95, speed: 85 }, // Sp. Atk 95
                moves: [
                    { name: "Hydro Pump", type: "Water", accuracy: 80, maxPp: 5, power: 110 }, // Special
                    { name: "Dragon Pulse", type: "Dragon", accuracy: 100, maxPp: 10, power: 85 }, // Special
                    { name: "Agility", type: "Psychic", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "speed", target: "self", stages: 2 }, alwaysHits: true },
                    { name: "Brine", type: "Water", accuracy: 100, maxPp: 10, power: 65 } // Power doubles if target HP is half or less (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/117.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/117.png",
                evolvesToPokedexId: 230 // Kingdra (Gen 2), evolueert via trade met Dragon Scale
            },
            {
                pokedexId: 118,
                name: "GOLDEEN",
                types: ["Water"],
                hp: 115,
                baseStats: { attack: 67, defense: 60, speed: 63 },
                moves: [
                    { name: "Peck", type: "Flying", accuracy: 100, maxPp: 35, power: 35 },
                    { name: "Tail Whip", type: "Normal", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "defense", target: "opponent", stages: -1 }, alwaysHits: true },
                    { name: "Water Pulse", type: "Water", accuracy: 100, maxPp: 20, power: 60, effect: { type: "confusion", chance: 0.2 } }, // Special
                    { name: "Horn Attack", type: "Normal", accuracy: 100, maxPp: 25, power: 65 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/118.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/118.png",
                evolvesToPokedexId: 119
            },
            {
                pokedexId: 119,
                name: "SEAKING",
                types: ["Water"],
                hp: 150,
                baseStats: { attack: 92, defense: 65, speed: 68 },
                moves: [
                    { name: "Waterfall", type: "Water", accuracy: 100, maxPp: 15, power: 80, effect: { type: "flinch", chance: 0.2 } },
                    { name: "Megahorn", type: "Bug", accuracy: 85, maxPp: 10, power: 120 },
                    { name: "Aqua Ring", type: "Water", accuracy: 100, maxPp: 20, power: 0 }, // Heals a bit each turn (niet geïmplementeerd)
                    { name: "Drill Run", type: "Ground", accuracy: 95, maxPp: 10, power: 80, highCritRatio: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/119.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/119.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 120,
                name: "STARYU",
                types: ["Water"],
                hp: 100,
                baseStats: { attack: 45, defense: 55, speed: 85 }, // Sp. Atk 70
                moves: [
                    { name: "Tackle", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Water Gun", type: "Water", accuracy: 100, maxPp: 25, power: 40 }, // Special
                    { name: "Harden", type: "Normal", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "defense", target: "self", stages: 1 }, alwaysHits: true },
                    { name: "Rapid Spin", type: "Normal", accuracy: 100, maxPp: 40, power: 50 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/120.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/120.png",
                evolvesToPokedexId: 121 // Evolueert met Water Stone
            },
            {
                pokedexId: 121,
                name: "STARMIE",
                types: ["Water", "Psychic"],
                hp: 130,
                baseStats: { attack: 75, defense: 85, speed: 115 }, // Sp. Atk 100
                moves: [
                    { name: "Psychic", type: "Psychic", accuracy: 100, maxPp: 10, power: 90, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } }, // Special, Sp. Def
                    { name: "Hydro Pump", type: "Water", accuracy: 80, maxPp: 5, power: 110 }, // Special
                    { name: "Ice Beam", type: "Ice", accuracy: 100, maxPp: 10, power: 90, effect: { type: "status", condition: "FRZ", chance: 0.1 } }, // Special
                    { name: "Recover", type: "Normal", accuracy: 100, maxPp: 10, power: 0, effect: { type: "heal", percentage: 0.5, target: "self" }, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/121.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/121.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 122,
                name: "MR. MIME",
                types: ["Psychic", "Fairy"],
                hp: 110,
                baseStats: { attack: 45, defense: 65, speed: 90 }, // Sp. Atk 100, Sp. Def 120
                moves: [
                    { name: "Confusion", type: "Psychic", accuracy: 100, maxPp: 25, power: 50, effect: { type: "confusion", chance: 0.1 } }, // Special
                    { name: "Barrier", type: "Psychic", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "defense", target: "self", stages: 2 }, alwaysHits: true },
                    { name: "Light Screen", type: "Psychic", accuracy: 100, maxPp: 30, power: 0 },
                    { name: "Reflect", type: "Psychic", accuracy: 100, maxPp: 20, power: 0 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/122.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/122.png",
                evolvesToPokedexId: null // Mime Jr. (439) is pre-evolutie
            },
            {
                pokedexId: 123,
                name: "SCYTHER",
                types: ["Bug", "Flying"],
                hp: 140,
                baseStats: { attack: 110, defense: 80, speed: 105 },
                moves: [
                    { name: "Wing Attack", type: "Flying", accuracy: 100, maxPp: 35, power: 60 },
                    { name: "Slash", type: "Normal", accuracy: 100, maxPp: 20, power: 70, highCritRatio: true },
                    { name: "Swords Dance", type: "Normal", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "attack", target: "self", stages: 2 }, alwaysHits: true },
                    { name: "X-Scissor", type: "Bug", accuracy: 100, maxPp: 15, power: 80 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/123.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/123.png",
                evolvesToPokedexId: 212 // Scizor (Gen 2), evolueert via trade met Metal Coat
            },
            {
                pokedexId: 124,
                name: "JYNX",
                types: ["Ice", "Psychic"],
                hp: 135,
                baseStats: { attack: 50, defense: 35, speed: 95 }, // Sp. Atk 115
                moves: [
                    { name: "Ice Punch", type: "Ice", accuracy: 100, maxPp: 15, power: 75, effect: { type: "status", condition: "FRZ", chance: 0.1 } }, // Special
                    { name: "Psychic", type: "Psychic", accuracy: 100, maxPp: 10, power: 90, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } }, // Special, Sp. Def
                    { name: "Lovely Kiss", type: "Normal", accuracy: 75, maxPp: 10, power: 0, effect: { type: "status", condition: "SLP", chance: 1 } },
                    { name: "Blizzard", type: "Ice", accuracy: 70, maxPp: 5, power: 110, effect: { type: "status", condition: "FRZ", chance: 0.1 } } // Special
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/124.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/124.png",
                evolvesToPokedexId: null // Smoochum (238) is pre-evolutie
            },
            {
                pokedexId: 125,
                name: "ELECTABUZZ",
                types: ["Electric"],
                hp: 135,
                baseStats: { attack: 83, defense: 57, speed: 105 }, // Sp. Atk 95
                moves: [
                    { name: "Thunder Punch", type: "Electric", accuracy: 100, maxPp: 15, power: 75, effect: { type: "status", condition: "PAR", chance: 0.1 } },
                    { name: "Light Screen", type: "Psychic", accuracy: 100, maxPp: 30, power: 0 },
                    { name: "Thunderbolt", type: "Electric", accuracy: 100, maxPp: 15, power: 90, effect: { type: "status", condition: "PAR", chance: 0.1 } }, // Special
                    { name: "Low Kick", type: "Fighting", accuracy: 100, maxPp: 20, power: 60 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/125.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/125.png",
                evolvesToPokedexId: 466 // Electivire (Gen 4), evolueert via trade met Electirizer
            },
            {
                pokedexId: 126,
                name: "MAGMAR",
                types: ["Fire"],
                hp: 135,
                baseStats: { attack: 95, defense: 57, speed: 93 }, // Sp. Atk 100
                moves: [
                    { name: "Fire Punch", type: "Fire", accuracy: 100, maxPp: 15, power: 75, effect: { type: "status", condition: "BRN", chance: 0.1 } },
                    { name: "Confuse Ray", type: "Ghost", accuracy: 100, maxPp: 10, power: 0 },
                    { name: "Flamethrower", type: "Fire", accuracy: 100, maxPp: 15, power: 90, effect: { type: "status", condition: "BRN", chance: 0.1 } }, // Special
                    { name: "Sunny Day", type: "Fire", accuracy: 100, maxPp: 5, power: 0 } // Weather (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/126.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/126.png",
                evolvesToPokedexId: 467 // Magmortar (Gen 4), evolueert via trade met Magmarizer
            },
            {
                pokedexId: 127,
                name: "PINSIR",
                types: ["Bug"],
                hp: 135,
                baseStats: { attack: 125, defense: 100, speed: 85 },
                moves: [
                    { name: "Vice Grip", type: "Normal", accuracy: 100, maxPp: 30, power: 55 },
                    { name: "Swords Dance", type: "Normal", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "attack", target: "self", stages: 2 }, alwaysHits: true },
                    { name: "X-Scissor", type: "Bug", accuracy: 100, maxPp: 15, power: 80 },
                    { name: "Submission", type: "Fighting", accuracy: 80, maxPp: 20, power: 80 } // Recoil
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/127.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/127.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 128,
                name: "TAUROS",
                types: ["Normal"],
                hp: 145,
                baseStats: { attack: 100, defense: 95, speed: 110 },
                moves: [
                    { name: "Tackle", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Stomp", type: "Normal", accuracy: 100, maxPp: 20, power: 65, effect: { type: "flinch", chance: 0.3 } },
                    { name: "Thrash", type: "Normal", accuracy: 100, maxPp: 10, power: 120 },
                    { name: "Zen Headbutt", type: "Psychic", accuracy: 90, maxPp: 15, power: 80, effect: { type: "flinch", chance: 0.2 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/128.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/128.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 129,
                name: "MAGIKARP",
                types: ["Water"],
                hp: 90,
                baseStats: { attack: 10, defense: 55, speed: 80 },
                moves: [
                    { name: "Splash", type: "Normal", accuracy: 100, maxPp: 40, power: 0 },
                    { name: "Tackle", type: "Normal", accuracy: 100, maxPp: 35, power: 40 } // Leert Tackle via level up
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/129.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/129.png",
                evolvesToPokedexId: 130
            },
            {
                pokedexId: 130,
                name: "GYARADOS",
                types: ["Water", "Flying"],
                hp: 165,
                baseStats: { attack: 125, defense: 79, speed: 81 },
                moves: [
                    { name: "Hydro Pump", type: "Water", accuracy: 80, maxPp: 5, power: 110 }, // Special
                    { name: "Dragon Dance", type: "Dragon", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: ["attack", "speed"], target: "self", stages: 1 }, alwaysHits: true },
                    { name: "Ice Fang", type: "Ice", accuracy: 95, maxPp: 15, power: 65, effect: { type: "flinch_or_status", condition: "FRZ", chance: 0.1, flinchChance: 0.1 } },
                    { name: "Thrash", type: "Normal", accuracy: 100, maxPp: 10, power: 120 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/130.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/130.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 131,
                name: "LAPRAS",
                types: ["Water", "Ice"],
                hp: 200, // Hoge HP
                baseStats: { attack: 85, defense: 80, speed: 60 }, // Sp. Atk 85, Sp. Def 95
                moves: [
                    { name: "Ice Beam", type: "Ice", accuracy: 100, maxPp: 10, power: 90, effect: { type: "status", condition: "FRZ", chance: 0.1 } }, // Special
                    { name: "Surf", type: "Water", accuracy: 100, maxPp: 15, power: 90 }, // Special
                    { name: "Body Slam", type: "Normal", accuracy: 100, maxPp: 15, power: 85, effect: { type: "status", condition: "PAR", chance: 0.3 } },
                    { name: "Sing", type: "Normal", accuracy: 55, maxPp: 15, power: 0, effect: { type: "status", condition: "SLP", chance: 1 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/131.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/131.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 132,
                name: "DITTO",
                types: ["Normal"],
                hp: 118,
                baseStats: { attack: 48, defense: 48, speed: 48 },
                moves: [
                    { name: "Transform", type: "Normal", accuracy: 100, maxPp: 10, power: 0 } // Transformeert (complex om te implementeren)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/132.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/132.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 133,
                name: "EEVEE",
                types: ["Normal"],
                hp: 125,
                baseStats: { attack: 55, defense: 50, speed: 55 },
                moves: [
                    { name: "Tackle", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Tail Whip", type: "Normal", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "defense", target: "opponent", stages: -1 }, alwaysHits: true },
                    { name: "Quick Attack", type: "Normal", accuracy: 100, maxPp: 30, power: 40, priority: 1 },
                    { name: "Sand Attack", type: "Ground", accuracy: 100, maxPp: 15, power: 0, effect: { type: "stat", stat: "accuracy", target: "opponent", stages: -1 }, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/133.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/133.png",
                evolvesToPokedexId: null // Meerdere evoluties via stenen/condities
            },
            {
                pokedexId: 134,
                name: "VAPOREON",
                types: ["Water"],
                hp: 200,
                baseStats: { attack: 65, defense: 60, speed: 65 }, // Sp. Atk 110
                moves: [
                    { name: "Hydro Pump", type: "Water", accuracy: 80, maxPp: 5, power: 110 }, // Special
                    { name: "Ice Beam", type: "Ice", accuracy: 100, maxPp: 10, power: 90, effect: { type: "status", condition: "FRZ", chance: 0.1 } }, // Special
                    { name: "Acid Armor", type: "Poison", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "defense", target: "self", stages: 2 }, alwaysHits: true },
                    { name: "Wish", type: "Normal", accuracy: 100, maxPp: 10, power: 0 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/134.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/134.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 135,
                name: "JOLTEON",
                types: ["Electric"],
                hp: 135,
                baseStats: { attack: 65, defense: 60, speed: 130 }, // Sp. Atk 110
                moves: [
                    { name: "Thunderbolt", type: "Electric", accuracy: 100, maxPp: 15, power: 90, effect: { type: "status", condition: "PAR", chance: 0.1 } }, // Special
                    { name: "Shadow Ball", type: "Ghost", accuracy: 100, maxPp: 15, power: 80, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.2 } }, // Special, Sp. Def
                    { name: "Agility", type: "Psychic", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "speed", target: "self", stages: 2 }, alwaysHits: true },
                    { name: "Pin Missile", type: "Bug", accuracy: 95, maxPp: 20, power: 25 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/135.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/135.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 136,
                name: "FLAREON",
                types: ["Fire"],
                hp: 135,
                baseStats: { attack: 130, defense: 60, speed: 65 }, // Sp. Atk 95
                moves: [
                    { name: "Flare Blitz", type: "Fire", accuracy: 100, maxPp: 15, power: 120, effect: { type: "status", condition: "BRN", chance: 0.1 } }, // Recoil
                    { name: "Superpower", type: "Fighting", accuracy: 100, maxPp: 5, power: 120, effect: { type: "stat", stat: ["attack", "defense"], target: "self", stages: -1 } },
                    { name: "Fire Fang", type: "Fire", accuracy: 95, maxPp: 15, power: 65, effect: { type: "flinch_or_status", condition: "BRN", chance: 0.1, flinchChance: 0.1 } },
                    { name: "Will-O-Wisp", type: "Fire", accuracy: 85, maxPp: 15, power: 0, effect: { type: "status", condition: "BRN", chance: 1 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/136.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/136.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 137,
                name: "PORYGON",
                types: ["Normal"],
                hp: 135,
                baseStats: { attack: 60, defense: 70, speed: 40 }, // Sp. Atk 85
                moves: [
                    { name: "Tri Attack", type: "Normal", accuracy: 100, maxPp: 10, power: 80, effect: { type: "status_random", conditions: ["BRN", "PAR", "FRZ"], chance: 0.2 } }, // Special
                    { name: "Psychic", type: "Psychic", accuracy: 100, maxPp: 10, power: 90, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } }, // Special, Sp. Def
                    { name: "Recover", type: "Normal", accuracy: 100, maxPp: 10, power: 0, effect: { type: "heal", percentage: 0.5, target: "self" }, alwaysHits: true },
                    { name: "Conversion", type: "Normal", accuracy: 100, maxPp: 30, power: 0 } // Changes type (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/137.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/137.png",
                evolvesToPokedexId: 233 // Porygon2 (Gen 2), evolueert via trade met Up-Grade
            },
            {
                pokedexId: 138,
                name: "OMANYTE",
                types: ["Rock", "Water"],
                hp: 105,
                baseStats: { attack: 40, defense: 100, speed: 35 }, // Sp. Atk 90
                moves: [
                    { name: "Water Gun", type: "Water", accuracy: 100, maxPp: 25, power: 40 }, // Special
                    { name: "Rock Throw", type: "Rock", accuracy: 90, maxPp: 15, power: 50 },
                    { name: "Withdraw", type: "Water", accuracy: 100, maxPp: 40, power: 0, effect: { type: "stat", stat: "defense", target: "self", stages: 1 }, alwaysHits: true },
                    { name: "Ancient Power", type: "Rock", accuracy: 100, maxPp: 5, power: 60, effect: { type: "stat_all_self", chance: 0.1, stages: 1 } } // Special
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/138.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/138.png",
                evolvesToPokedexId: 139
            },
            {
                pokedexId: 139,
                name: "OMASTAR",
                types: ["Rock", "Water"],
                hp: 140,
                baseStats: { attack: 60, defense: 125, speed: 55 }, // Sp. Atk 115
                moves: [
                    { name: "Hydro Pump", type: "Water", accuracy: 80, maxPp: 5, power: 110 }, // Special
                    { name: "Ancient Power", type: "Rock", accuracy: 100, maxPp: 5, power: 60, effect: { type: "stat_all_self", chance: 0.1, stages: 1 } }, // Special
                    { name: "Shell Smash", type: "Normal", accuracy: 100, maxPp: 15, power: 0, effect: { type: "stat", stat: ["attack", "attack", "speed", "defense", "defense"], target: "self", stages: [2, 2, 2, -1, -1] }, alwaysHits: true },
                    { name: "Spike Cannon", type: "Normal", accuracy: 100, maxPp: 15, power: 20 } // Hits 2-5 times
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/139.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/139.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 140,
                name: "KABUTO",
                types: ["Rock", "Water"],
                hp: 100,
                baseStats: { attack: 80, defense: 90, speed: 55 },
                moves: [
                    { name: "Scratch", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Harden", type: "Normal", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "defense", target: "self", stages: 1 }, alwaysHits: true },
                    { name: "Aqua Jet", type: "Water", accuracy: 100, maxPp: 20, power: 40, priority: 1 },
                    { name: "Rock Throw", type: "Rock", accuracy: 90, maxPp: 15, power: 50 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/140.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/140.png",
                evolvesToPokedexId: 141
            },
            {
                pokedexId: 141,
                name: "KABUTOPS",
                types: ["Rock", "Water"],
                hp: 130,
                baseStats: { attack: 115, defense: 105, speed: 80 },
                moves: [
                    { name: "Stone Edge", type: "Rock", accuracy: 80, maxPp: 5, power: 100, highCritRatio: true },
                    { name: "Aqua Jet", type: "Water", accuracy: 100, maxPp: 20, power: 40, priority: 1 },
                    { name: "Swords Dance", type: "Normal", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "attack", target: "self", stages: 2 }, alwaysHits: true },
                    { name: "Night Slash", type: "Dark", accuracy: 100, maxPp: 15, power: 70, highCritRatio: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/141.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/141.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 142,
                name: "AERODACTYL",
                types: ["Rock", "Flying"],
                hp: 150,
                baseStats: { attack: 105, defense: 65, speed: 130 },
                moves: [
                    { name: "Wing Attack", type: "Flying", accuracy: 100, maxPp: 35, power: 60 },
                    { name: "Rock Slide", type: "Rock", accuracy: 90, maxPp: 10, power: 75, effect: { type: "flinch", chance: 0.3 } },
                    { name: "Crunch", type: "Dark", accuracy: 100, maxPp: 15, power: 80, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.2 } },
                    { name: "Agility", type: "Psychic", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "speed", target: "self", stages: 2 }, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/142.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/142.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 143,
                name: "SNORLAX",
                types: ["Normal"],
                hp: 230, // Zeer hoge HP
                baseStats: { attack: 110, defense: 65, speed: 30 }, // Sp. Def 110
                moves: [
                    { name: "Body Slam", type: "Normal", accuracy: 100, maxPp: 15, power: 85, effect: { type: "status", condition: "PAR", chance: 0.3 } },
                    { name: "Rest", type: "Psychic", accuracy: 100, maxPp: 10, power: 0 },
                    { name: "Earthquake", type: "Ground", accuracy: 100, maxPp: 10, power: 100 },
                    { name: "Crunch", type: "Dark", accuracy: 100, maxPp: 15, power: 80, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.2 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/143.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/143.png",
                evolvesToPokedexId: null // Munchlax (446) is pre-evolutie
            },
            {
                pokedexId: 144,
                name: "ARTICUNO",
                types: ["Ice", "Flying"],
                hp: 160,
                baseStats: { attack: 85, defense: 100, speed: 85 }, // Sp. Atk 95, Sp. Def 125
                moves: [
                    { name: "Blizzard", type: "Ice", accuracy: 70, maxPp: 5, power: 110, effect: { type: "status", condition: "FRZ", chance: 0.1 } }, // Special
                    { name: "Hurricane", type: "Flying", accuracy: 70, maxPp: 10, power: 110, effect: { type: "confusion", chance: 0.3 } }, // Special
                    { name: "Roost", type: "Flying", accuracy: 100, maxPp: 10, power: 0, effect: { type: "heal", percentage: 0.5, target: "self" }, alwaysHits: true },
                    { name: "Ice Shard", type: "Ice", accuracy: 100, maxPp: 30, power: 40, priority: 1 } // Special
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/144.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/144.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 145,
                name: "ZAPDOS",
                types: ["Electric", "Flying"],
                hp: 160,
                baseStats: { attack: 90, defense: 85, speed: 100 }, // Sp. Atk 125
                moves: [
                    { name: "Thunderbolt", type: "Electric", accuracy: 100, maxPp: 15, power: 90, effect: { type: "status", condition: "PAR", chance: 0.1 } }, // Special
                    { name: "Drill Peck", type: "Flying", accuracy: 100, maxPp: 20, power: 80 },
                    { name: "Roost", type: "Flying", accuracy: 100, maxPp: 10, power: 0, effect: { type: "heal", percentage: 0.5, target: "self" }, alwaysHits: true },
                    { name: "Heat Wave", type: "Fire", accuracy: 90, maxPp: 10, power: 95, effect: { type: "status", condition: "BRN", chance: 0.1 } } // Special
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/145.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/145.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 146,
                name: "MOLTRES",
                types: ["Fire", "Flying"],
                hp: 160,
                baseStats: { attack: 100, defense: 90, speed: 90 }, // Sp. Atk 125
                moves: [
                    { name: "Flamethrower", type: "Fire", accuracy: 100, maxPp: 15, power: 90, effect: { type: "status", condition: "BRN", chance: 0.1 } }, // Special
                    { name: "Air Slash", type: "Flying", accuracy: 95, maxPp: 15, power: 75, effect: { type: "flinch", chance: 0.3 } }, // Special
                    { name: "Roost", type: "Flying", accuracy: 100, maxPp: 10, power: 0, effect: { type: "heal", percentage: 0.5, target: "self" }, alwaysHits: true },
                    { name: "Solar Beam", type: "Grass", accuracy: 100, maxPp: 10, power: 120 } // Special
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/146.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/146.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 147,
                name: "DRATINI",
                types: ["Dragon"],
                hp: 111,
                baseStats: { attack: 64, defense: 45, speed: 50 },
                moves: [
                    { name: "Wrap", type: "Normal", accuracy: 90, maxPp: 20, power: 15 },
                    { name: "Leer", type: "Normal", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "defense", target: "opponent", stages: -1 }, alwaysHits: true },
                    { name: "Thunder Wave", type: "Electric", accuracy: 90, maxPp: 20, power: 0, effect: { type: "status", condition: "PAR", chance: 1 } },
                    { name: "Dragon Rage", type: "Dragon", accuracy: 100, maxPp: 10, power: 40 } // Fixed damage (niet geïmplementeerd als zodanig)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/147.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/147.png",
                evolvesToPokedexId: 148
            },
            {
                pokedexId: 148,
                name: "DRAGONAIR",
                types: ["Dragon"],
                hp: 131,
                baseStats: { attack: 84, defense: 65, speed: 70 },
                moves: [
                    { name: "Dragon Tail", type: "Dragon", accuracy: 90, maxPp: 10, power: 60 }, // Forces switch
                    { name: "Slam", type: "Normal", accuracy: 75, maxPp: 20, power: 80 },
                    { name: "Agility", type: "Psychic", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "speed", target: "self", stages: 2 }, alwaysHits: true },
                    { name: "Dragon Pulse", type: "Dragon", accuracy: 100, maxPp: 10, power: 85 } // Special
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/148.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/148.png",
                evolvesToPokedexId: 149
            },
            {
                pokedexId: 149,
                name: "DRAGONITE",
                types: ["Dragon", "Flying"],
                hp: 161,
                baseStats: { attack: 134, defense: 95, speed: 80 }, // Sp. Atk 100
                moves: [
                    { name: "Outrage", type: "Dragon", accuracy: 100, maxPp: 10, power: 120 }, // Locks user, confuses
                    { name: "Hurricane", type: "Flying", accuracy: 70, maxPp: 10, power: 110, effect: { type: "confusion", chance: 0.3 } }, // Special
                    { name: "Dragon Dance", type: "Dragon", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: ["attack", "speed"], target: "self", stages: 1 }, alwaysHits: true },
                    { name: "Fire Punch", type: "Fire", accuracy: 100, maxPp: 15, power: 75, effect: { type: "status", condition: "BRN", chance: 0.1 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/149.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/149.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 150,
                name: "MEWTWO",
                types: ["Psychic"],
                hp: 176, // Legendarisch
                baseStats: { attack: 110, defense: 90, speed: 130 }, // Sp. Atk 154
                moves: [
                    { name: "Psychic", type: "Psychic", accuracy: 100, maxPp: 10, power: 90, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } }, // Special, Sp. Def
                    { name: "Aura Sphere", type: "Fighting", accuracy: 100, maxPp: 20, power: 80, alwaysHits: true }, // Special
                    { name: "Recover", type: "Normal", accuracy: 100, maxPp: 10, power: 0, effect: { type: "heal", percentage: 0.5, target: "self" }, alwaysHits: true },
                    { name: "Shadow Ball", type: "Ghost", accuracy: 100, maxPp: 15, power: 80, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.2 } } // Special, Sp. Def
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/150.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/150.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 151,
                name: "MEW",
                types: ["Psychic"],
                hp: 170, // Mythisch
                baseStats: { attack: 100, defense: 100, speed: 100 }, // All stats 100
                moves: [ // Mew kan veel leren, dit is een voorbeeld
                    { name: "Psychic", type: "Psychic", accuracy: 100, maxPp: 10, power: 90, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } }, // Special, Sp. Def
                    { name: "Aura Sphere", type: "Fighting", accuracy: 100, maxPp: 20, power: 80, alwaysHits: true }, // Special
                    { name: "Transform", type: "Normal", accuracy: 100, maxPp: 10, power: 0 },
                    { name: "Nasty Plot", type: "Dark", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "attack", target: "self", stages: 2 }, alwaysHits: true } // Sp. Atk
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/151.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/151.png",
                evolvesToPokedexId: null
            },
			// VOEG DEZE TOE AAN JE BESTAANDE pokemonPool ARRAY

// --- JOHTO POKEMON ---
            {
                pokedexId: 152, name: "CHIKORITA", types: ["Grass"], hp: 120, baseStats: { attack: 49, defense: 65, speed: 45 },
                moves: [
                    { name: "Tackle", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Razor Leaf", type: "Grass", accuracy: 95, maxPp: 25, power: 55, highCritRatio: true },
                    { name: "Poison Powder", type: "Poison", accuracy: 75, maxPp: 35, power: 0, effect: { type: "status", condition: "PSN", chance: 1 } },
                    { name: "Synthesis", type: "Grass", accuracy: 100, maxPp: 5, power: 0, effect: { type: "heal", percentage: 0.5, target: "self" }, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/152.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/152.png",
                evolvesToPokedexId: 153
            },
            {
                pokedexId: 153, name: "BAYLEEF", types: ["Grass"], hp: 135, baseStats: { attack: 62, defense: 80, speed: 60 },
                moves: [
                    { name: "Magical Leaf", type: "Grass", accuracy: 100, maxPp: 20, power: 60, alwaysHits: true }, // Special
                    { name: "Body Slam", type: "Normal", accuracy: 100, maxPp: 15, power: 85, effect: { type: "status", condition: "PAR", chance: 0.3 } },
                    { name: "Light Screen", type: "Psychic", accuracy: 100, maxPp: 30, power: 0 }, // Vermindert Special Damage (niet volledig geïmplementeerd)
                    { name: "Reflect", type: "Psychic", accuracy: 100, maxPp: 20, power: 0 } // Vermindert Physical Damage (niet volledig geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/153.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/153.png",
                evolvesToPokedexId: 154
            },
            {
                pokedexId: 154, name: "MEGANIUM", types: ["Grass"], hp: 155, baseStats: { attack: 82, defense: 100, speed: 80 },
                moves: [
                    { name: "Petal Dance", type: "Grass", accuracy: 100, maxPp: 10, power: 120 }, // Special, locks user, confuses (niet volledig geïmplementeerd)
                    { name: "Earthquake", type: "Ground", accuracy: 100, maxPp: 10, power: 100 },
                    { name: "Aromatherapy", type: "Grass", accuracy: 100, maxPp: 5, power: 0 }, // Heals status (niet volledig geïmplementeerd)
                    { name: "Solar Beam", type: "Grass", accuracy: 100, maxPp: 10, power: 120 } // Special
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/154.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/154.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 155, name: "CYNDAQUIL", types: ["Fire"], hp: 115, baseStats: { attack: 52, defense: 43, speed: 65 },
                moves: [
                    { name: "Tackle", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Ember", type: "Fire", accuracy: 100, maxPp: 25, power: 40, effect: { type: "status", condition: "BRN", chance: 0.1 } },
                    { name: "Smokescreen", type: "Normal", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "accuracy", target: "opponent", stages: -1 }, alwaysHits: true },
                    { name: "Quick Attack", type: "Normal", accuracy: 100, maxPp: 30, power: 40, priority: 1 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/155.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/155.png",
                evolvesToPokedexId: 156
            },
            {
                pokedexId: 156, name: "QUILAVA", types: ["Fire"], hp: 130, baseStats: { attack: 64, defense: 58, speed: 80 },
                moves: [
                    { name: "Flame Wheel", type: "Fire", accuracy: 100, maxPp: 25, power: 60, effect: { type: "status", condition: "BRN", chance: 0.1 } }, // Thaws user
                    { name: "Swift", type: "Normal", accuracy: 100, maxPp: 20, power: 60, alwaysHits: true }, // Special
                    { name: "Lava Plume", type: "Fire", accuracy: 100, maxPp: 15, power: 80, effect: { type: "status", condition: "BRN", chance: 0.3 } }, // Special
                    { name: "Defense Curl", type: "Normal", accuracy: 100, maxPp: 40, power: 0, effect: { type: "stat", stat: "defense", target: "self", stages: 1 }, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/156.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/156.png",
                evolvesToPokedexId: 157
            },
            {
                pokedexId: 157, name: "TYPHLOSION", types: ["Fire"], hp: 150, baseStats: { attack: 84, defense: 78, speed: 100 },
                moves: [
                    { name: "Flamethrower", type: "Fire", accuracy: 100, maxPp: 15, power: 90, effect: { type: "status", condition: "BRN", chance: 0.1 } }, // Special
                    { name: "Earthquake", type: "Ground", accuracy: 100, maxPp: 10, power: 100 },
                    { name: "Eruption", type: "Fire", accuracy: 100, maxPp: 5, power: 150 }, // Special, power varies with HP (niet volledig geïmplementeerd)
                    { name: "Focus Blast", type: "Fighting", accuracy: 70, maxPp: 5, power: 120, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } } // Special, Sp. Def
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/157.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/157.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 158, name: "TOTODILE", types: ["Water"], hp: 120, baseStats: { attack: 65, defense: 64, speed: 43 },
                moves: [
                    { name: "Scratch", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Water Gun", type: "Water", accuracy: 100, maxPp: 25, power: 40 },
                    { name: "Rage", type: "Normal", accuracy: 100, maxPp: 20, power: 20 }, // Attack raises if hit (niet geïmplementeerd)
                    { name: "Bite", type: "Dark", accuracy: 100, maxPp: 25, power: 60, effect: { type: "flinch", chance: 0.3 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/158.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/158.png",
                evolvesToPokedexId: 159
            },
            {
                pokedexId: 159, name: "CROCONAW", types: ["Water"], hp: 135, baseStats: { attack: 80, defense: 80, speed: 58 },
                moves: [
                    { name: "Ice Fang", type: "Ice", accuracy: 95, maxPp: 15, power: 65, effect: { type: "flinch_or_status", condition: "FRZ", chance: 0.1, flinchChance: 0.1 } },
                    { name: "Crunch", type: "Dark", accuracy: 100, maxPp: 15, power: 80, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.2 } },
                    { name: "Aqua Jet", type: "Water", accuracy: 100, maxPp: 20, power: 40, priority: 1 },
                    { name: "Scary Face", type: "Normal", accuracy: 100, maxPp: 10, power: 0, effect: { type: "stat", stat: "speed", target: "opponent", stages: -2 }, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/159.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/159.png",
                evolvesToPokedexId: 160
            },
            {
                pokedexId: 160, name: "FERALIGATR", types: ["Water"], hp: 155, baseStats: { attack: 105, defense: 100, speed: 78 },
                moves: [
                    { name: "Waterfall", type: "Water", accuracy: 100, maxPp: 15, power: 80, effect: { type: "flinch", chance: 0.2 } },
                    { name: "Dragon Dance", type: "Dragon", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: ["attack", "speed"], target: "self", stages: 1 }, alwaysHits: true },
                    { name: "Superpower", type: "Fighting", accuracy: 100, maxPp: 5, power: 120, effect: { type: "stat", stat: ["attack", "defense"], target: "self", stages: -1 } },
                    { name: "Ice Punch", type: "Ice", accuracy: 100, maxPp: 15, power: 75, effect: { type: "status", condition: "FRZ", chance: 0.1 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/160.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/160.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 161, name: "SENTRET", types: ["Normal"], hp: 105, baseStats: { attack: 46, defense: 34, speed: 20 },
                moves: [
                    { name: "Scratch", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Defense Curl", type: "Normal", accuracy: 100, maxPp: 40, power: 0, effect: { type: "stat", stat: "defense", target: "self", stages: 1 }, alwaysHits: true },
                    { name: "Quick Attack", type: "Normal", accuracy: 100, maxPp: 30, power: 40, priority: 1 },
                    { name: "Fury Swipes", type: "Normal", accuracy: 80, maxPp: 15, power: 18 } // Hits 2-5 times
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/161.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/161.png",
                evolvesToPokedexId: 162
            },
            {
                pokedexId: 162, name: "FURRET", types: ["Normal"], hp: 155, baseStats: { attack: 76, defense: 64, speed: 90 },
                moves: [
                    { name: "Slam", type: "Normal", accuracy: 75, maxPp: 20, power: 80 },
                    { name: "Agility", type: "Psychic", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "speed", target: "self", stages: 2 }, alwaysHits: true },
                    { name: "Hyper Voice", type: "Normal", accuracy: 100, maxPp: 10, power: 90 }, // Special
                    { name: "Follow Me", type: "Normal", accuracy: 100, maxPp: 20, power: 0, priority: 2 } // Redirects attacks (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/162.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/162.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 163, name: "HOOTHOOT", types: ["Normal", "Flying"], hp: 130, baseStats: { attack: 30, defense: 30, speed: 50 }, // Sp.Atk 36, Sp.Def 56
                moves: [
                    { name: "Tackle", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Peck", type: "Flying", accuracy: 100, maxPp: 35, power: 35 },
                    { name: "Hypnosis", type: "Psychic", accuracy: 60, maxPp: 20, power: 0, effect: { type: "status", condition: "SLP", chance: 1 } },
                    { name: "Reflect", type: "Psychic", accuracy: 100, maxPp: 20, power: 0 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/163.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/163.png",
                evolvesToPokedexId: 164
            },
            {
                pokedexId: 164, name: "NOCTOWL", types: ["Normal", "Flying"], hp: 170, baseStats: { attack: 50, defense: 50, speed: 70 }, // Sp.Atk 86, Sp.Def 96
                moves: [
                    { name: "Air Slash", type: "Flying", accuracy: 95, maxPp: 15, power: 75, effect: { type: "flinch", chance: 0.3 } }, // Special
                    { name: "Extrasensory", type: "Psychic", accuracy: 100, maxPp: 20, power: 80, effect: { type: "flinch", chance: 0.1 } }, // Special
                    { name: "Roost", type: "Flying", accuracy: 100, maxPp: 10, power: 0, effect: { type: "heal", percentage: 0.5, target: "self" }, alwaysHits: true },
                    { name: "Moonblast", type: "Fairy", accuracy: 100, maxPp: 15, power: 95, effect: {type: "stat", stat: "attack", target: "opponent", stages: -1, chance: 0.3 } } // Special, Sp.Atk
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/164.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/164.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 165, name: "LEDYBA", types: ["Bug", "Flying"], hp: 110, baseStats: { attack: 20, defense: 30, speed: 55 }, // Sp.Def 80
                moves: [
                    { name: "Tackle", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Supersonic", type: "Normal", accuracy: 55, maxPp: 20, power: 0 }, // Confuses (niet geïmplementeerd)
                    { name: "Comet Punch", type: "Normal", accuracy: 85, maxPp: 15, power: 18 }, // Hits 2-5 times
                    { name: "Light Screen", type: "Psychic", accuracy: 100, maxPp: 30, power: 0 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/165.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/165.png",
                evolvesToPokedexId: 166
            },
            {
                pokedexId: 166, name: "LEDIAN", types: ["Bug", "Flying"], hp: 125, baseStats: { attack: 35, defense: 50, speed: 85 }, // Sp.Def 110
                moves: [
                    { name: "Bug Buzz", type: "Bug", accuracy: 100, maxPp: 10, power: 90, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } }, // Special, Sp.Def
                    { name: "Air Slash", type: "Flying", accuracy: 95, maxPp: 15, power: 75, effect: { type: "flinch", chance: 0.3 } }, // Special
                    { name: "Agility", type: "Psychic", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "speed", target: "self", stages: 2 }, alwaysHits: true },
                    { name: "Mach Punch", type: "Fighting", accuracy: 100, maxPp: 30, power: 40, priority: 1 } // Geleerd via breeding/TM in main games
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/166.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/166.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 167, name: "SPINARAK", types: ["Bug", "Poison"], hp: 110, baseStats: { attack: 60, defense: 40, speed: 30 },
                moves: [
                    { name: "Poison Sting", type: "Poison", accuracy: 100, maxPp: 35, power: 15, effect: { type: "status", condition: "PSN", chance: 0.3 } },
                    { name: "String Shot", type: "Bug", accuracy: 95, maxPp: 40, power: 0, effect: { type: "stat", stat: "speed", target: "opponent", stages: -2 }, alwaysHits: true },
                    { name: "Constrict", type: "Normal", accuracy: 100, maxPp: 35, power: 10, effect: { type: "stat", stat: "speed", target: "opponent", stages: -1, chance: 0.1 } },
                    { name: "Leech Life", type: "Bug", accuracy: 100, maxPp: 10, power: 80, effect: { type: "heal", percentage: 0.5, target: "self"} }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/167.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/167.png",
                evolvesToPokedexId: 168
            },
            {
                pokedexId: 168, name: "ARIADOS", types: ["Bug", "Poison"], hp: 140, baseStats: { attack: 90, defense: 70, speed: 40 },
                moves: [
                    { name: "Poison Jab", type: "Poison", accuracy: 100, maxPp: 20, power: 80, effect: { type: "status", condition: "PSN", chance: 0.3 } },
                    { name: "X-Scissor", type: "Bug", accuracy: 100, maxPp: 15, power: 80 },
                    { name: "Sticky Web", type: "Bug", accuracy: 100, maxPp: 20, power: 0 }, // Entry hazard, lowers speed (niet geïmplementeerd)
                    { name: "Sucker Punch", type: "Dark", accuracy: 100, maxPp: 5, power: 70, priority: 1 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/168.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/168.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 169, name: "CROBAT", types: ["Poison", "Flying"], hp: 155, baseStats: { attack: 90, defense: 80, speed: 130 },
                moves: [
                    { name: "Cross Poison", type: "Poison", accuracy: 100, maxPp: 20, power: 70, highCritRatio: true, effect: { type: "status", condition: "PSN", chance: 0.1 } },
                    { name: "Air Slash", type: "Flying", accuracy: 95, maxPp: 15, power: 75, effect: { type: "flinch", chance: 0.3 } }, // Special
                    { name: "Brave Bird", type: "Flying", accuracy: 100, maxPp: 15, power: 120 }, // Recoil (niet geïmplementeerd)
                    { name: "Haze", type: "Ice", accuracy: 100, maxPp: 30, power: 0 } // Resets stats
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/169.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/169.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 170, name: "CHINCHOU", types: ["Water", "Electric"], hp: 145, baseStats: { attack: 38, defense: 38, speed: 67 }, // Sp.Atk 56, Sp.Def 56
                moves: [
                    { name: "Bubble", type: "Water", accuracy: 100, maxPp: 30, power: 40, effect: { type: "stat", stat: "speed", target: "opponent", stages: -1, chance: 0.1 } }, // Special
                    { name: "Thunder Wave", type: "Electric", accuracy: 90, maxPp: 20, power: 0, effect: { type: "status", condition: "PAR", chance: 1 } },
                    { name: "Spark", type: "Electric", accuracy: 100, maxPp: 20, power: 65, effect: { type: "status", condition: "PAR", chance: 0.3 } },
                    { name: "Confuse Ray", type: "Ghost", accuracy: 100, maxPp: 10, power: 0 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/170.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/170.png",
                evolvesToPokedexId: 171
            },
            {
                pokedexId: 171, name: "LANTURN", types: ["Water", "Electric"], hp: 195, baseStats: { attack: 58, defense: 58, speed: 67 }, // Sp.Atk 76, Sp.Def 76
                moves: [
                    { name: "Discharge", type: "Electric", accuracy: 100, maxPp: 15, power: 80, effect: { type: "status", condition: "PAR", chance: 0.3 } }, // Special
                    { name: "Hydro Pump", type: "Water", accuracy: 80, maxPp: 5, power: 110 }, // Special
                    { name: "Ice Beam", type: "Ice", accuracy: 100, maxPp: 10, power: 90, effect: { type: "status", condition: "FRZ", chance: 0.1 } }, // Special
                    { name: "Thunderbolt", type: "Electric", accuracy: 100, maxPp: 15, power: 90, effect: { type: "status", condition: "PAR", chance: 0.1 } } // Special
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/171.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/171.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 172, name: "PICHU", types: ["Electric"], hp: 90, baseStats: { attack: 40, defense: 15, speed: 60 },
                moves: [
                    { name: "Thunder Shock", type: "Electric", accuracy: 100, maxPp: 30, power: 40, effect: { type: "status", condition: "PAR", chance: 0.1 } },
                    { name: "Charm", type: "Fairy", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "attack", target: "opponent", stages: -2 }, alwaysHits: true },
                    { name: "Tail Whip", type: "Normal", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "defense", target: "opponent", stages: -1 }, alwaysHits: true },
                    { name: "Nuzzle", type: "Electric", accuracy: 100, maxPp: 20, power: 20, effect: { type: "status", condition: "PAR", chance: 1 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/172.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/172.png",
                evolvesToPokedexId: 25 // Evolueert naar Pikachu (via friendship)
            },
            {
                pokedexId: 173, name: "CLEFFA", types: ["Fairy"], hp: 120, baseStats: { attack: 25, defense: 28, speed: 15 },
                moves: [
                    { name: "Pound", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Charm", type: "Fairy", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "attack", target: "opponent", stages: -2 }, alwaysHits: true },
                    { name: "Sing", type: "Normal", accuracy: 55, maxPp: 15, power: 0, effect: { type: "status", condition: "SLP", chance: 1 } },
                    { name: "Magical Leaf", type: "Grass", accuracy: 100, maxPp: 20, power: 60, alwaysHits: true } // Special
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/173.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/173.png",
                evolvesToPokedexId: 35 // Evolueert naar Clefairy (via friendship)
            },
            {
                pokedexId: 174, name: "IGGLYBUFF", types: ["Normal", "Fairy"], hp: 160, baseStats: { attack: 30, defense: 15, speed: 15 },
                moves: [
                    { name: "Sing", type: "Normal", accuracy: 55, maxPp: 15, power: 0, effect: { type: "status", condition: "SLP", chance: 1 } },
                    { name: "Pound", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Defense Curl", type: "Normal", accuracy: 100, maxPp: 40, power: 0, effect: { type: "stat", stat: "defense", target: "self", stages: 1 }, alwaysHits: true },
                    { name: "Sweet Kiss", type: "Fairy", accuracy: 75, maxPp: 10, power: 0 } // Confuses (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/174.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/174.png",
                evolvesToPokedexId: 39 // Evolueert naar Jigglypuff (via friendship)
            },
            {
                pokedexId: 175, name: "TOGEPI", types: ["Fairy"], hp: 105, baseStats: { attack: 20, defense: 65, speed: 20 }, // Sp.Atk 40, Sp.Def 65
                moves: [
                    { name: "Growl", type: "Normal", accuracy: 100, maxPp: 40, power: 0, effect: { type: "stat", stat: "attack", target: "opponent", stages: -1 }, alwaysHits: true },
                    { name: "Charm", type: "Fairy", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "attack", target: "opponent", stages: -2 }, alwaysHits: true },
                    { name: "Metronome", type: "Normal", accuracy: 100, maxPp: 10, power: 0 }, // Gebruikt random move (zeer complex)
                    { name: "Sweet Kiss", type: "Fairy", accuracy: 75, maxPp: 10, power: 0 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/175.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/175.png",
                evolvesToPokedexId: 176 // Evolueert naar Togetic (via friendship)
            },
            {
                pokedexId: 176, name: "TOGETIC", types: ["Fairy", "Flying"], hp: 125, baseStats: { attack: 40, defense: 85, speed: 40 }, // Sp.Atk 80, Sp.Def 105
                moves: [
                    { name: "Dazzling Gleam", type: "Fairy", accuracy: 100, maxPp: 10, power: 80 }, // Special
                    { name: "Air Slash", type: "Flying", accuracy: 95, maxPp: 15, power: 75, effect: { type: "flinch", chance: 0.3 } }, // Special
                    { name: "Wish", type: "Normal", accuracy: 100, maxPp: 10, power: 0 }, // Heals next turn
                    { name: "Yawn", type: "Normal", accuracy: 100, maxPp: 10, power: 0 } // Makes target sleepy
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/176.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/176.png",
                evolvesToPokedexId: 468 // Evolueert naar Togekiss (Gen 4, Shiny Stone)
            },
            {
                pokedexId: 177, name: "NATU", types: ["Psychic", "Flying"], hp: 110, baseStats: { attack: 50, defense: 45, speed: 70 },
                moves: [
                    { name: "Peck", type: "Flying", accuracy: 100, maxPp: 35, power: 35 },
                    { name: "Leer", type: "Normal", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "defense", target: "opponent", stages: -1 }, alwaysHits: true },
                    { name: "Night Shade", type: "Ghost", accuracy: 100, maxPp: 15, power: GAME_LEVEL },
                    { name: "Teleport", type: "Psychic", accuracy: 100, maxPp: 20, power: 0 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/177.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/177.png",
                evolvesToPokedexId: 178
            },
            {
                pokedexId: 178, name: "XATU", types: ["Psychic", "Flying"], hp: 135, baseStats: { attack: 75, defense: 70, speed: 95 },
                moves: [
                    { name: "Psychic", type: "Psychic", accuracy: 100, maxPp: 10, power: 90, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } }, // Special, Sp.Def
                    { name: "Air Slash", type: "Flying", accuracy: 95, maxPp: 15, power: 75, effect: { type: "flinch", chance: 0.3 } }, // Special
                    { name: "Future Sight", type: "Psychic", accuracy: 100, maxPp: 10, power: 120 }, // Special, hits after 2 turns (niet geïmplementeerd)
                    { name: "Wish", type: "Normal", accuracy: 100, maxPp: 10, power: 0 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/178.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/178.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 179, name: "MAREEP", types: ["Electric"], hp: 125, baseStats: { attack: 40, defense: 40, speed: 35 }, // Sp.Atk 65
                moves: [
                    { name: "Tackle", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Thunder Shock", type: "Electric", accuracy: 100, maxPp: 30, power: 40, effect: { type: "status", condition: "PAR", chance: 0.1 } },
                    { name: "Growl", type: "Normal", accuracy: 100, maxPp: 40, power: 0, effect: { type: "stat", stat: "attack", target: "opponent", stages: -1 }, alwaysHits: true },
                    { name: "Cotton Spore", type: "Grass", accuracy: 100, maxPp: 40, power: 0, effect: { type: "stat", stat: "speed", target: "opponent", stages: -2 }, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/179.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/179.png",
                evolvesToPokedexId: 180
            },
            {
                pokedexId: 180, name: "FLAAFFY", types: ["Electric"], hp: 140, baseStats: { attack: 55, defense: 55, speed: 45 }, // Sp.Atk 80
                moves: [
                    { name: "Thunder Punch", type: "Electric", accuracy: 100, maxPp: 15, power: 75, effect: { type: "status", condition: "PAR", chance: 0.1 } },
                    { name: "Discharge", type: "Electric", accuracy: 100, maxPp: 15, power: 80, effect: { type: "status", condition: "PAR", chance: 0.3 } }, // Special
                    { name: "Signal Beam", type: "Bug", accuracy: 100, maxPp: 15, power: 75, effect: { type: "confusion", chance: 0.1 } }, // Special
                    { name: "Light Screen", type: "Psychic", accuracy: 100, maxPp: 30, power: 0 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/180.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/180.png",
                evolvesToPokedexId: 181
            },
            {
                pokedexId: 181, name: "AMPHAROS", types: ["Electric"], hp: 160, baseStats: { attack: 75, defense: 85, speed: 55 }, // Sp.Atk 115
                moves: [
                    { name: "Thunderbolt", type: "Electric", accuracy: 100, maxPp: 15, power: 90, effect: { type: "status", condition: "PAR", chance: 0.1 } }, // Special
                    { name: "Dragon Pulse", type: "Dragon", accuracy: 100, maxPp: 10, power: 85 }, // Special
                    { name: "Focus Blast", type: "Fighting", accuracy: 70, maxPp: 5, power: 120, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } }, // Special, Sp.Def
                    { name: "Power Gem", type: "Rock", accuracy: 100, maxPp: 20, power: 80 } // Special
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/181.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/181.png",
                evolvesToPokedexId: null // Mega Ampharos is Electric/Dragon
            },
            {
                pokedexId: 182, name: "BELLOSSOM", types: ["Grass"], hp: 145, baseStats: { attack: 80, defense: 95, speed: 50 }, // Sp.Atk 90
                moves: [
                    { name: "Petal Dance", type: "Grass", accuracy: 100, maxPp: 10, power: 120 }, // Special
                    { name: "Sludge Bomb", type: "Poison", accuracy: 100, maxPp: 10, power: 90, effect: { type: "status", condition: "PSN", chance: 0.3 } }, // Special (geleerd via TM/TR)
                    { name: "Sleep Powder", type: "Grass", accuracy: 75, maxPp: 15, power: 0, effect: { type: "status", condition: "SLP", chance: 1 } },
                    { name: "Giga Drain", type: "Grass", accuracy: 100, maxPp: 10, power: 75, effect: {type: "heal", percentage: 0.5, target: "self"} } // Special
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/182.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/182.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 183, name: "MARILL", types: ["Water", "Fairy"], hp: 140, baseStats: { attack: 20, defense: 50, speed: 40 }, // Sp.Atk 20
                moves: [
                    { name: "Tackle", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Water Gun", type: "Water", accuracy: 100, maxPp: 25, power: 40 },
                    { name: "Rollout", type: "Rock", accuracy: 90, maxPp: 20, power: 30 }, // Power increases (niet geïmplementeerd)
                    { name: "Bubble Beam", type: "Water", accuracy: 100, maxPp: 20, power: 65, effect: { type: "stat", stat: "speed", target: "opponent", stages: -1, chance: 0.1 } } // Special
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/183.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/183.png",
                evolvesToPokedexId: 184
            },
            {
                pokedexId: 184, name: "AZUMARILL", types: ["Water", "Fairy"], hp: 170, baseStats: { attack: 50, defense: 80, speed: 50 }, // Sp.Atk 60, Huge Power verdubbelt Attack (niet geïmplementeerd)
                moves: [
                    { name: "Aqua Tail", type: "Water", accuracy: 90, maxPp: 10, power: 90 },
                    { name: "Play Rough", type: "Fairy", accuracy: 90, maxPp: 10, power: 90, effect: { type: "stat", stat: "attack", target: "opponent", stages: -1, chance: 0.1 } },
                    { name: "Superpower", type: "Fighting", accuracy: 100, maxPp: 5, power: 120, effect: { type: "stat", stat: ["attack", "defense"], target: "self", stages: -1 } },
                    { name: "Ice Punch", type: "Ice", accuracy: 100, maxPp: 15, power: 75, effect: { type: "status", condition: "FRZ", chance: 0.1 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/184.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/184.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 185, name: "SUDOWOODO", types: ["Rock"], hp: 140, baseStats: { attack: 100, defense: 115, speed: 30 },
                moves: [
                    { name: "Rock Throw", type: "Rock", accuracy: 90, maxPp: 15, power: 50 },
                    { name: "Low Kick", type: "Fighting", accuracy: 100, maxPp: 20, power: 60 },
                    { name: "Sucker Punch", type: "Dark", accuracy: 100, maxPp: 5, power: 70, priority: 1 },
                    { name: "Stone Edge", type: "Rock", accuracy: 80, maxPp: 5, power: 100, highCritRatio: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/185.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/185.png",
                evolvesToPokedexId: null // Bonsly (438) is pre-evolutie
            },
            {
                pokedexId: 186, name: "POLITOED", types: ["Water"], hp: 160, baseStats: { attack: 75, defense: 75, speed: 70 }, // Sp.Atk 90
                moves: [
                    { name: "Hydro Pump", type: "Water", accuracy: 80, maxPp: 5, power: 110 }, // Special
                    { name: "Focus Blast", type: "Fighting", accuracy: 70, maxPp: 5, power: 120, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } }, // Special, Sp.Def
                    { name: "Ice Beam", type: "Ice", accuracy: 100, maxPp: 10, power: 90, effect: { type: "status", condition: "FRZ", chance: 0.1 } }, // Special
                    { name: "Hypnosis", type: "Psychic", accuracy: 60, maxPp: 20, power: 0, effect: { type: "status", condition: "SLP", chance: 1 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/186.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/186.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 187, name: "HOPPIP", types: ["Grass", "Flying"], hp: 105, baseStats: { attack: 35, defense: 40, speed: 50 },
                moves: [
                    { name: "Tackle", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Synthesis", type: "Grass", accuracy: 100, maxPp: 5, power: 0, effect: { type: "heal", percentage: 0.5, target: "self" }, alwaysHits: true },
                    { name: "Sleep Powder", type: "Grass", accuracy: 75, maxPp: 15, power: 0, effect: { type: "status", condition: "SLP", chance: 1 } },
                    { name: "Stun Spore", type: "Grass", accuracy: 75, maxPp: 30, power: 0, effect: { type: "status", condition: "PAR", chance: 1 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/187.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/187.png",
                evolvesToPokedexId: 188
            },
            {
                pokedexId: 188, name: "SKIPLOOM", types: ["Grass", "Flying"], hp: 125, baseStats: { attack: 45, defense: 50, speed: 80 },
                moves: [
                    { name: "Bullet Seed", type: "Grass", accuracy: 100, maxPp: 30, power: 25 }, // Hits 2-5 times
                    { name: "Leech Seed", type: "Grass", accuracy: 90, maxPp: 10, power: 0 }, // Drains HP
                    { name: "U-turn", type: "Bug", accuracy: 100, maxPp: 20, power: 70 }, // Switches out (niet geïmplementeerd)
                    { name: "Acrobatics", type: "Flying", accuracy: 100, maxPp: 15, power: 55 } // Power doubles if no item (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/188.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/188.png",
                evolvesToPokedexId: 189
            },
            {
                pokedexId: 189, name: "JUMPLUFF", types: ["Grass", "Flying"], hp: 145, baseStats: { attack: 55, defense: 70, speed: 110 },
                moves: [
                    { name: "Seed Bomb", type: "Grass", accuracy: 100, maxPp: 15, power: 80 },
                    { name: "Acrobatics", type: "Flying", accuracy: 100, maxPp: 15, power: 55 },
                    { name: "Swords Dance", type: "Normal", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "attack", target: "self", stages: 2 }, alwaysHits: true },
                    { name: "Sleep Powder", type: "Grass", accuracy: 75, maxPp: 15, power: 0, effect: { type: "status", condition: "SLP", chance: 1 } }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/189.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/189.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 190, name: "AIPOM", types: ["Normal"], hp: 125, baseStats: { attack: 70, defense: 55, speed: 85 },
                moves: [
                    { name: "Scratch", type: "Normal", accuracy: 100, maxPp: 35, power: 40 },
                    { name: "Sand Attack", type: "Ground", accuracy: 100, maxPp: 15, power: 0, effect: { type: "stat", stat: "accuracy", target: "opponent", stages: -1 }, alwaysHits: true },
                    { name: "Fury Swipes", type: "Normal", accuracy: 80, maxPp: 15, power: 18 },
                    { name: "Nasty Plot", type: "Dark", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "attack", target: "self", stages: 2 }, alwaysHits: true } // Sp.Atk
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/190.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/190.png",
                evolvesToPokedexId: 424 // Ambipom (Gen 4, na leren Double Hit)
            },
            {
                pokedexId: 191, name: "SUNKERN", types: ["Grass"], hp: 100, baseStats: { attack: 30, defense: 30, speed: 30 },
                moves: [
                    { name: "Absorb", type: "Grass", accuracy: 100, maxPp: 25, power: 20, effect: { type: "heal", percentage: 0.5, target: "self"} }, // Special
                    { name: "Growth", type: "Normal", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "attack", target: "self", stages: 1 }, alwaysHits: true }, // Sp.Atk
                    { name: "Mega Drain", type: "Grass", accuracy: 100, maxPp: 15, power: 40, effect: { type: "heal", percentage: 0.5, target: "self"} }, // Special
                    { name: "Razor Leaf", type: "Grass", accuracy: 95, maxPp: 25, power: 55, highCritRatio: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/191.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/191.png",
                evolvesToPokedexId: 192 // Evolueert met Sun Stone
            },
            {
                pokedexId: 192, name: "SUNFLORA", types: ["Grass"], hp: 145, baseStats: { attack: 75, defense: 55, speed: 30 }, // Sp.Atk 105
                moves: [
                    { name: "Solar Beam", type: "Grass", accuracy: 100, maxPp: 10, power: 120 }, // Special
                    { name: "Giga Drain", type: "Grass", accuracy: 100, maxPp: 10, power: 75, effect: {type: "heal", percentage: 0.5, target: "self"} }, // Special
                    { name: "Sludge Bomb", type: "Poison", accuracy: 100, maxPp: 10, power: 90, effect: { type: "status", condition: "PSN", chance: 0.3 } }, // Special (TM/TR)
                    { name: "Sunny Day", type: "Fire", accuracy: 100, maxPp: 5, power: 0 } // Weather
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/192.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/192.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 193, name: "YANMA", types: ["Bug", "Flying"], hp: 135, baseStats: { attack: 65, defense: 45, speed: 95 },
                moves: [
                    { name: "Wing Attack", type: "Flying", accuracy: 100, maxPp: 35, power: 60 },
                    { name: "Quick Attack", type: "Normal", accuracy: 100, maxPp: 30, power: 40, priority: 1 },
                    { name: "Bug Buzz", type: "Bug", accuracy: 100, maxPp: 10, power: 90, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } }, // Special, Sp.Def
                    { name: "Ancient Power", type: "Rock", accuracy: 100, maxPp: 5, power: 60, effect: { type: "stat_all_self", chance: 0.1, stages: 1 } } // Special
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/193.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/193.png",
                evolvesToPokedexId: 469 // Yanmega (Gen 4, na leren Ancient Power)
            },
            {
                pokedexId: 194, name: "WOOPER", types: ["Water", "Ground"], hp: 125, baseStats: { attack: 45, defense: 45, speed: 15 },
                moves: [
                    { name: "Water Gun", type: "Water", accuracy: 100, maxPp: 25, power: 40 },
                    { name: "Tail Whip", type: "Normal", accuracy: 100, maxPp: 30, power: 0, effect: { type: "stat", stat: "defense", target: "opponent", stages: -1 }, alwaysHits: true },
                    { name: "Mud Shot", type: "Ground", accuracy: 95, maxPp: 15, power: 55, effect: { type: "stat", stat: "speed", target: "opponent", stages: -1 } }, // Special
                    { name: "Slam", type: "Normal", accuracy: 75, maxPp: 20, power: 80 }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/194.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/194.png",
                evolvesToPokedexId: 195
            },
            {
                pokedexId: 195, name: "QUAGSIRE", types: ["Water", "Ground"], hp: 165, baseStats: { attack: 85, defense: 85, speed: 35 },
                moves: [
                    { name: "Earthquake", type: "Ground", accuracy: 100, maxPp: 10, power: 100 },
                    { name: "Waterfall", type: "Water", accuracy: 100, maxPp: 15, power: 80, effect: { type: "flinch", chance: 0.2 } },
                    { name: "Amnesia", type: "Psychic", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "defense", target: "self", stages: 2 }, alwaysHits: true }, // Sp.Def
                    { name: "Recover", type: "Normal", accuracy: 100, maxPp: 10, power: 0, effect: { type: "heal", percentage: 0.5, target: "self" }, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/195.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/195.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 196, name: "ESPEON", types: ["Psychic"], hp: 135, baseStats: { attack: 65, defense: 60, speed: 110 }, // Sp.Atk 130
                moves: [
                    { name: "Psychic", type: "Psychic", accuracy: 100, maxPp: 10, power: 90, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } }, // Special, Sp.Def
                    { name: "Shadow Ball", type: "Ghost", accuracy: 100, maxPp: 15, power: 80, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.2 } }, // Special, Sp.Def
                    { name: "Calm Mind", type: "Psychic", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: ["attack", "defense"], target: "self", stages: 1 }, alwaysHits: true }, // Sp.Atk, Sp.Def
                    { name: "Morning Sun", type: "Normal", accuracy: 100, maxPp: 5, power: 0, effect: { type: "heal", percentage: 0.5, target: "self" }, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/196.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/196.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 197, name: "UMBREON", types: ["Dark"], hp: 165, baseStats: { attack: 65, defense: 110, speed: 65 }, // Sp.Def 130
                moves: [
                    { name: "Foul Play", type: "Dark", accuracy: 100, maxPp: 15, power: 95 }, // Uses target's Attack stat (niet geïmplementeerd)
                    { name: "Toxic", type: "Poison", accuracy: 90, maxPp: 10, power: 0 }, // Badly poisons
                    { name: "Moonlight", type: "Fairy", accuracy: 100, maxPp: 5, power: 0, effect: { type: "heal", percentage: 0.5, target: "self" }, alwaysHits: true },
                    { name: "Protect", type: "Normal", accuracy: 100, maxPp: 10, power: 0, effect: { type: "protect" }, priority: 4, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/197.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/197.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 198, name: "MURKROW", types: ["Dark", "Flying"], hp: 130, baseStats: { attack: 85, defense: 42, speed: 91 },
                moves: [
                    { name: "Peck", type: "Flying", accuracy: 100, maxPp: 35, power: 35 },
                    { name: "Pursuit", type: "Dark", accuracy: 100, maxPp: 20, power: 40 }, // Power doubles if target switches (niet geïmplementeerd)
                    { name: "Sucker Punch", type: "Dark", accuracy: 100, maxPp: 5, power: 70, priority: 1 },
                    { name: "Roost", type: "Flying", accuracy: 100, maxPp: 10, power: 0, effect: { type: "heal", percentage: 0.5, target: "self" }, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/198.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/198.png",
                evolvesToPokedexId: 430 // Honchkrow (Gen 4, Dusk Stone)
            },
            {
                pokedexId: 199, name: "SLOWKING", types: ["Water", "Psychic"], hp: 165, baseStats: { attack: 75, defense: 80, speed: 30 }, // Sp.Atk 100, Sp.Def 110
                moves: [
                    { name: "Psychic", type: "Psychic", accuracy: 100, maxPp: 10, power: 90, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } }, // Special, Sp.Def
                    { name: "Surf", type: "Water", accuracy: 100, maxPp: 15, power: 90 }, // Special
                    { name: "Nasty Plot", type: "Dark", accuracy: 100, maxPp: 20, power: 0, effect: { type: "stat", stat: "attack", target: "self", stages: 2 }, alwaysHits: true }, // Sp.Atk
                    { name: "Slack Off", type: "Normal", accuracy: 100, maxPp: 10, power: 0, effect: { type: "heal", percentage: 0.5, target: "self" }, alwaysHits: true }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/199.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/199.png",
                evolvesToPokedexId: null
            },
            {
                pokedexId: 200, name: "MISDREAVUS", types: ["Ghost"], hp: 130, baseStats: { attack: 60, defense: 60, speed: 85 }, // Sp.Atk 85, Sp.Def 85
                moves: [
                    { name: "Shadow Ball", type: "Ghost", accuracy: 100, maxPp: 15, power: 80, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.2 } }, // Special, Sp.Def
                    { name: "Confuse Ray", type: "Ghost", accuracy: 100, maxPp: 10, power: 0 },
                    { name: "Will-O-Wisp", type: "Fire", accuracy: 85, maxPp: 15, power: 0, effect: { type: "status", condition: "BRN", chance: 1 } },
                    { name: "Pain Split", type: "Normal", accuracy: 100, maxPp: 20, power: 0 } // Averages HP (niet geïmplementeerd)
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/200.png",
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/200.png",
                evolvesToPokedexId: 429 // Mismagius (Gen 4, Dusk Stone)
            },
            {
                pokedexId: 201, name: "UNOWN", types: ["Psychic"], hp: 118, baseStats: { attack: 72, defense: 48, speed: 48 }, // Sp.Atk 72, Sp.Def 48 (Unown A)
                moves: [
                    { name: "Hidden Power", type: "Normal", accuracy: 100, maxPp: 15, power: 60 } // Type varies (niet geïmplementeerd)
                    // Unown kan alleen Hidden Power. Voor variatie kun je er 3 "lege" moves bijzetten,
                    // of 3 andere placeholder moves, maar dit is de meest accurate.
                    // Als je 4 moves wilt, kun je 3x Tackle of Psybeam toevoegen voor de show.
                    // Hier kies ik voor 1 move, en de engine moet er mee om kunnen gaan.
                    // Of we vullen het aan:
                    // { name: "Psybeam", type: "Psychic", accuracy:100, maxPp:20, power:65, effect: { type: "confusion", chance: 0.1} },
                    // { name: "Tackle", type: "Normal", accuracy:100, maxPp:35, power:40 },
                    // { name: "Confusion", type: "Psychic", accuracy:100, maxPp:25, power:50, effect: { type: "confusion", chance: 0.1} }
                ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/201.png", // Unown-A
                spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/201.png",
                evolvesToPokedexId: null
            },

            { 
                pokedexId: 249, name: "LUGIA", types: ["Psychic", "Flying"], hp: 160, baseStats: { attack: 90, defense: 130, speed: 110 }, 
                moves: [ { name: "Aeroblast", type: "Flying", accuracy: 95, maxPp: 5, power: 100, highCritRatio: true }, { name: "Hydro Pump", type: "Water", accuracy: 80, maxPp: 5, power: 110 }, { name: "Psychic", type: "Psychic", accuracy: 100, maxPp: 10, power: 90, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } }, { name: "Recover", type: "Normal", accuracy: 100, maxPp: 10, power: 0, effect: { type: "heal", percentage: 0.5, target: "self" }, alwaysHits: true } ], 
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/249.png", spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/249.png", evolvesToPokedexId: null
            }, 
            { 
                pokedexId: 250, name: "HO-OH", types: ["Fire", "Flying"], hp: 160, baseStats: { attack: 130, defense: 90, speed: 90 }, 
                moves: [ { name: "Sacred Fire", type: "Fire", accuracy: 95, maxPp: 5, power: 100, effect: { type: "status", condition: "BRN", chance: 0.5 } }, { name: "Brave Bird", type: "Flying", accuracy: 100, maxPp: 15, power: 120 }, { name: "Solar Beam", type: "Grass", accuracy: 100, maxPp: 10, power: 120 }, { name: "Recover", type: "Normal", accuracy: 100, maxPp: 10, power: 0, effect: { type: "heal", percentage: 0.5, target: "self" }, alwaysHits: true } ], 
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/250.png", spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/250.png", evolvesToPokedexId: null
            },
            {
                pokedexId: 251, name: "CELEBI", types: ["Psychic", "Grass"], hp: 170, baseStats: { attack: 100, defense: 100, speed: 100 },
                moves: [ { name: "Psychic", type: "Psychic", accuracy: 100, maxPp: 10, power: 90, effect: {type: "stat", stat: "defense", target: "opponent", stages: -1, chance: 0.1 } }, { name: "Giga Drain", type: "Grass", accuracy: 100, maxPp: 10, power: 75, effect: {type: "heal", percentage: 0.5, target: "self"} }, { name: "Recover", type: "Normal", accuracy: 100, maxPp: 10, power: 0, effect: { type: "heal", percentage: 0.5, target: "self" }, alwaysHits: true }, { name: "Ancient Power", type: "Rock", accuracy: 100, maxPp: 5, power: 60, effect: { type: "stat_all_self", chance: 0.1, stages: 1 } } ],
                spriteFront: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/251.png", spriteBack: "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/251.png", evolvesToPokedexId: null
            }
        ];

        const gymLeadersData = {
            "Misty": {
                name: "Misty",
                cardUrl: "https://www.pokemonkaart.nl/wp-content/uploads/Evolutions_Misty%E2%80%99s-Determination-1.jpg",
                badgeName: "Cascade Badge",
                badgeUrl: "https://archives.bulbagarden.net/media/upload/thumb/9/9c/Cascade_Badge.png/50px-Cascade_Badge.png",
                pokemonTeam: ["SEADRA", "GOLDUCK", "STARMIE"], // Assuming these are in pokemonPool
                dialog: "My water Pokémon are unbeatable!"
            },
            "Leon": {
                name: "Leon",
                cardUrl: "https://www.pokemonkaart.nl/wp-content/uploads/Vivid-Voltage_Leon-1.jpg",
                badgeName: "Champion Emblem",
                badgeUrl: "https://archives.bulbagarden.net/media/upload/thumb/d/d2/Champion_Ribbon_artwork.png/50px-Champion_Ribbon_artwork.png",
                pokemonTeam: ["MAGMAR", "ELECTABUZZ", "CHARIZARD"],
                dialog: "Time for a champion time!"
            },
            "Eri": {
                name: "Eri",
                cardUrl: "https://www.pokemonkaart.nl/wp-content/uploads/Eri-136-Prismatic-Evolutions.jpg",
                badgeName: "Caph Squad Star Badge",
                badgeUrl: "https://archives.bulbagarden.net/media/upload/thumb/5/5b/Caph_Squad_Badge.png/50px-Caph_Squad_Badge.png",
                pokemonTeam: ["MACHAMP", "HITMONLEE", "PRIMEAPE"],
                dialog: "Let's see your fighting spirit!"
            },
            "Mexican Razor": {
                name: "Mexican Razor",
                cardUrl: "https://scontent-ams4-1.xx.fbcdn.net/v/t39.30808-6/464328023_8842305605827627_655472334377530646_n.jpg?_nc_cat=103&ccb=1-7&_nc_sid=aa7094&_nc_ohc=tCnCp4mD0PkQ7kNvwH6QSSV&_nc_oc=Adna4oKF3d2pRJhuP6lo0MZSODfKQYt4gl9ymcV7isad4xj_AcSG81t5NePDjvoZqGA&_nc_zt=23&_nc_ht=scontent-ams4-1.xx&_nc_gid=zYlgIuLET4LtGTELtWbArQ&oh=00_AfKynOQbndmCgVnSGUnc1rtZW6RBuBPmTIpNX3m4esypkA&oe=68271956",
                badgeName: "Razor Claw Badge", 
                badgeUrl: "https://static.wikia.nocookie.net/pokemonfanon/images/e/e4/Razor_Badge.png/revision/latest/scale-to-width-down/50?cb=20130619012123", 
                pokemonTeam: ["HITMONCHAN", "KABUTOPS", "NIDOKING"],
                dialog: "¡Prepárate para la lucha!"
            },
            "Red&Blue": {
                name: "Red & Blue",
                cardUrl: "https://www.pokemonkaart.nl/wp-content/uploads/Cosmic-Eclipse_Red-Blue.jpg",
                badgeName: "Kanto Legacy Badge", 
                badgeUrl: "https://archives.bulbagarden.net/media/upload/thumb/1/19/Earth_Badge.png/50px-Earth_Badge.png", 
                pokemonTeam: ["VENUSAUR", "CHARIZARD", "BLASTOISE"],
                dialog: "A legendary challenge awaits!"
            },
            "Bird Master": {
                name: "Bird Master",
                cardUrl: "https://www.pokemonkaart.nl/wp-content/uploads/Hidden-Fates_Moltres-Zapdos-Articuno-GX.jpg",
                badgeName: "Sky High Badge", 
                badgeUrl: "https://archives.bulbagarden.net/media/upload/thumb/b/b5/Zephyr_Badge.png/50px-Zephyr_Badge.png", 
                pokemonTeam: ["ZAPDOS", "ARTICUNO", "MOLTRES"],
                dialog: "Can you conquer the skies?"
            },
            "Erika": {
                name: "Erika",
                cardUrl: "https://www.pokemonkaart.nl/wp-content/uploads/Erikas-Invitation-203-151.jpg",
                badgeName: "Rainbow Badge",
                badgeUrl: "https://archives.bulbagarden.net/media/upload/thumb/a/a6/Rainbow_Badge.png/50px-Rainbow_Badge.png",
                pokemonTeam: ["VILEPLUME", "VICTREEBEL", "TANGELA"],
                dialog: "My grass Pokémon will mesmerize you."
            },
            "Blaine": {
                name: "Blaine",
                cardUrl: "https://www.pokemonkaart.nl/wp-content/uploads/Dragon-Majesty_Blaine%E2%80%99s-Last-Stand.jpg",
                badgeName: "Volcano Badge",
                badgeUrl: "https://archives.bulbagarden.net/media/upload/thumb/1/12/Volcano_Badge.png/50px-Volcano_Badge.png",
                pokemonTeam: ["ARCANINE", "RAPIDASH", "MAGMAR"],
                dialog: "My fiery Pokémon will turn you to ash!"
            },
            "Sabrina": {
                name: "Sabrina",
                cardUrl: "https://www.pokemonkaart.nl/wp-content/uploads/Team-Up_Sabrina%E2%80%99s-Suggestion.jpg",
                badgeName: "Marsh Badge",
                badgeUrl: "https://archives.bulbagarden.net/media/upload/thumb/6/6f/Marsh_Badge.png/50px-Marsh_Badge.png",
                pokemonTeam: ["MR. MIME", "HYPNO", "ALAKAZAM"], // Assuming MR. MIME is in pokemonPool
                dialog: "My psychic powers are unmatched!"
            }
        };


        // --- Helper Functions ---
        function createPokemon(name, types, hp, baseStats, moves, spriteFront, spriteBack, isShiny = false, pokedexIdInput = null) { 
            const shinyBaseUrl = "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon";
            const idFromSprite = spriteFront.split('/').pop().split('.')[0]; 
            const effectivePokedexId = pokedexIdInput !== null ? pokedexIdInput : parseInt(idFromSprite);

            const basePokemonData = pokemonPool.find(p => p.pokedexId === effectivePokedexId) || {};

            return { 
                id: Date.now().toString(36) + Math.random().toString(36).substr(2), 
                pokedexId: effectivePokedexId, 
                name: name.toUpperCase(), types: types, maxHP: hp, currentHP: hp, 
                baseStats: JSON.parse(JSON.stringify(baseStats)), 
                stats: { attack: 0, defense: 0, speed: 0, accuracy: 0, evasion: 0 }, 
                moves: moves.map(m => ({ ...m, currentPp: m.maxPp })), 
                spriteFrontUrl: isShiny ? `${shinyBaseUrl}/shiny/${effectivePokedexId}.png` : spriteFront, 
                spriteBackUrl: isShiny ? `${shinyBaseUrl}/back/shiny/${effectivePokedexId}.png` : spriteBack, 
                status: null, isShiny: isShiny,
                sleepTurns: 0, 
                flinch: false,
                originalEvolutionData: null,
                evolvesToPokedexId: basePokemonData.evolvesToPokedexId || null 
            }; 
        }
        function createPokemonFromData(data, isOpponent = false, forPlayerTeam = false) {
            let isShiny = false;
            if (isOpponent && !forPlayerTeam && Math.random() < SHINY_CHANCE) {
                isShiny = true;
            }
            const newPokemon = createPokemon(data.name, data.types, data.hp, data.baseStats, data.moves, data.spriteFront, data.spriteBack, isShiny, data.pokedexId);
            if (forPlayerTeam && !newPokemon.isShiny) { 
                newPokemon.isShiny = false; 
                newPokemon.spriteFrontUrl = data.spriteFront; 
                newPokemon.spriteBackUrl = data.spriteBack;   
            }
            return newPokemon;
        }
        function calculateStatWithStage(baseStat, stage, statType) { const stageArray = (statType === 'accuracy' || statType === 'evasion') ? accuracyStageMultipliers : statStageMultipliers; const modifier = stageArray[stage + 6]; let finalStat = Math.floor(baseStat * modifier); if (statType === 'speed') { const pokemonToCheck = battleState.playerTurn ? (battleState.opponentTeam[battleState.opponentActiveIndex] || {}) : (battleState.playerTeam[battleState.playerActiveIndex] || {}); if (pokemonToCheck && pokemonToCheck.status === 'PAR' && baseStat === pokemonToCheck.baseStats?.speed) { finalStat = Math.floor(finalStat / 2); } } return finalStat; }
        function calculateTypeEffectiveness(moveType, defenderTypes) { let totalEffectiveness = 1; if (!typeChart[moveType]) return 1; defenderTypes.forEach(defenderType => { if (typeChart[moveType][defenderType] !== undefined) { totalEffectiveness *= typeChart[moveType][defenderType]; }}); return totalEffectiveness; }
        function getEffectivenessText(multiplier, defenderName) { if (multiplier >= 2) return "It's super effective!"; if (multiplier > 0 && multiplier < 1) return "It's not very effective..."; if (multiplier === 0) return `It doesn't affect foe ${defenderName.toUpperCase()}...`; return ""; }
        function switchScreen(screenKey) { Object.keys(screens).forEach(key => { if (screens[key]) screens[key].style.display = 'none'; }); if (screens[screenKey]) { screens[screenKey].style.display = 'flex'; currentScreen = screenKey; } else { console.error(`Screen '${screenKey}' not found.`); } }
        function typeMessage(message, callback) { if (battleState.isProcessingMessage && message) { battleState.messageQueue.push({ message, callback }); return; } battleState.isProcessingMessage = true; battleMessageEl.textContent = ''; actionMenuEl.style.display = 'none'; moveMenuEl.style.display = 'none'; itemMenuEl.style.display = 'none'; battleTextboxEl.style.display = 'block'; battleTextboxEl.style.visibility = 'visible'; let i = 0; const intervalId = setInterval(() => { if (i < message.length) { battleMessageEl.textContent += message.charAt(i); i++; } else { clearInterval(intervalId); battleState.isProcessingMessage = false; battleState.onMessageComplete = callback; processMessageQueue(); } }, 35); }
        function processMessageQueue() { if (!battleState.isProcessingMessage && battleState.messageQueue.length > 0) { const next = battleState.messageQueue.shift(); typeMessage(next.message, next.callback); } }
        if (battleTextboxEl && battleTextboxEl.parentElement) { battleTextboxEl.parentElement.addEventListener('click', (e) => { if (e.target.closest('.battle-menu') || e.target.closest('#switchPokemonScreen') || e.target.closest('#teamSelectScreen') || e.target.closest('.dialog-overlay')) return; if (!battleState.isProcessingMessage && battleState.onMessageComplete) { const callback = battleState.onMessageComplete; battleState.onMessageComplete = null; callback(); processMessageQueue(); } });}
        function updateHpBar(hpFillElement, hpNumbersElement, currentHp, maxHp) { const p = Math.max(0, (currentHp / maxHp) * 100); hpFillElement.style.width = p + '%'; if (p > 50) hpFillElement.style.backgroundColor = 'var(--hp-high-color)'; else if (p > 20) hpFillElement.style.backgroundColor = 'var(--hp-medium-color)'; else hpFillElement.style.backgroundColor = 'var(--hp-low-color)'; if (hpNumbersElement) hpNumbersElement.textContent = `${Math.max(0, Math.floor(currentHp))}/${maxHp}`; }
        function updateStatusTag(pokemon, tagElement) { if (pokemon.status) { tagElement.textContent = pokemon.status; tagElement.className = 'status-tag ' + pokemon.status; tagElement.style.display = 'inline-block'; } else { tagElement.style.display = 'none'; } }
        
        function playShakeAnimation(spriteElementContainer) {
            if (spriteElementContainer && typeof anime === 'function') {
                const baseScale = spriteElementContainer.classList.contains('player-sprite') ? 2.1 : 1.4;
                anime({
                    targets: spriteElementContainer,
                    translateX: [
                        { value: -5, duration: 50, delay: 0 },
                        { value: 5, duration: 100, delay: 0 },
                        { value: -5, duration: 100, delay: 0 },
                        { value: 5, duration: 100, delay: 0 },
                        { value: 0, duration: 50, delay: 0 }
                    ],
                    scale: baseScale, 
                    easing: 'easeInOutSine',
                    duration: 400
                });
            } else if (spriteElementContainer) { 
                 spriteElementContainer.classList.add('shake-anim'); 
                 setTimeout(() => { spriteElementContainer.classList.remove('shake-anim'); }, 500);
            }
        }

        function playAttackAnimation(moveType, attackerSpriteEl, defenderSpriteEl, onComplete) {
            if (typeof anime !== 'function') { 
                console.warn("Anime.js not loaded, using fallback CSS animation placeholder.");
                setTimeout(() => { if (onComplete) onComplete(); }, 500);
                return;
            }

            const animElement = document.createElement('div');
            animElement.classList.add('attack-animation'); 

            const attackerRect = attackerSpriteEl.getBoundingClientRect();
            const defenderRect = defenderSpriteEl.getBoundingClientRect();
            const layerRect = attackAnimationLayer.getBoundingClientRect();

            const startX = attackerRect.left + attackerRect.width / 2 - layerRect.left;
            const startY = attackerRect.top + attackerRect.height / 2 - layerRect.top;
            const endX = defenderRect.left + defenderRect.width / 2 - layerRect.left;
            const endY = defenderRect.top + defenderRect.height / 2 - layerRect.top;

            let animationProps = {};
            
            switch (moveType) {
                case 'Fire':
                    animElement.style.width = '40px';
                    animElement.style.height = '40px';
                    animElement.style.backgroundColor = 'orangered';
                    animElement.style.borderRadius = '50%';
                    animElement.style.boxShadow = '0 0 20px 10px darkorange, 0 0 30px 15px rgba(255,69,0,0.7)';
                    animationProps = {
                        translateX: [startX - 20, endX - 20],
                        translateY: [startY - 20, endY - 20],
                        scale: [0.5, 1.8, 0.8],
                        opacity: [0, 1, 0],
                        duration: 600,
                        easing: 'easeOutExpo'
                    };
                    break;
                case 'Water':
                    animElement.style.width = '50px';
                    animElement.style.height = '30px';
                    animElement.style.background = 'radial-gradient(circle, rgba(173,216,230,1) 0%, rgba(0,119,182,1) 100%)';
                    animElement.style.borderRadius = '15px';
                    animElement.style.border = '3px solid cyan';
                    animElement.style.boxShadow = '0 0 15px 5px skyblue';
                    animationProps = {
                        translateX: [startX - 25, endX - 25],
                        translateY: [startY - 15, endY - 15],
                        scale: [0.8, 1.5, 0.7],
                        opacity: [0, 1, 0],
                        rotate: anime.random(300, 420),
                        duration: 700,
                        easing: 'easeInOutQuart'
                    };
                    break;
                case 'Electric':
                    animElement.style.width = '120px';
                    animElement.style.height = '120px';
                    animElement.style.backgroundColor = 'yellow';
                    animElement.style.borderRadius = '50%';
                    animElement.style.opacity = 0; 
                    animElement.style.left = `${endX - 60}px`;
                    animElement.style.top = `${endY - 60}px`;
                    animElement.style.boxShadow = '0 0 30px 20px gold, 0 0 40px 25px yellow, 0 0 60px 35px rgba(255,255,0,0.6)';
                    animationProps = {
                        opacity: [0, 0.9, 0.6, 0.9, 0],
                        scale: [1, 1.6, 1.2, 1.6, 1],
                        duration: 350,
                        easing: 'linear'
                    };
                    break;
                case 'Grass':
                    animElement.style.width = '35px';
                    animElement.style.height = '70px';
                    animElement.style.backgroundColor = 'limegreen';
                    animElement.style.borderRadius = '50% 50% 10px 10px / 80% 80% 20% 20%'; 
                    animElement.style.left = `${startX - 17}px`;
                    animElement.style.top = `${startY - 35}px`;
                    animElement.style.boxShadow = '0 0 10px 3px darkgreen';
                    animationProps = {
                        translateX: [0, endX - startX + anime.random(-10, 10)],
                        translateY: [0, endY - startY + anime.random(-10, 10)],
                        rotate: [0, anime.random(300, 420) + 'deg'],
                        scale: [1, 0.3],
                        opacity: [1, 0],
                        duration: 600,
                        easing: 'easeInSine'
                    };
                    break;
                default: 
                    animElement.style.width = '70px';
                    animElement.style.height = '70px';
                    animElement.style.backgroundColor = 'rgba(220, 220, 220, 0.9)';
                    animElement.style.borderRadius = '50%';
                    animElement.style.left = `${endX - 35}px`;
                    animElement.style.top = `${endY - 35}px`;
                    animElement.style.boxShadow = '0 0 10px 4px lightgrey';
                    animationProps = {
                        scale: [0.3, 1.3, 0.7],
                        opacity: [0, 1, 0],
                        duration: 450,
                        easing: 'easeOutExpo'
                    };
                    break;
            }

            attackAnimationLayer.appendChild(animElement);

            anime({
                targets: animElement,
                ...animationProps,
                complete: () => {
                    animElement.remove();
                    if (onComplete) onComplete();
                }
            });
        }
        
        function updateBattleUI() { 
            if(!battleState.playerTeam[battleState.playerActiveIndex] || (battleState.opponentTeam.length > 0 && !battleState.opponentTeam[battleState.opponentActiveIndex])) {
                return; 
            }
            const pPok = battleState.playerTeam[battleState.playerActiveIndex]; 
            playerPokemonNameEl.textContent = pPok.name; 
            playerPokemonSpriteEl.src = pPok.spriteBackUrl; 
            updateHpBar(playerHpFillEl, playerHpNumbersEl, pPok.currentHP, pPok.maxHP); 
            updateStatusTag(pPok, playerStatusTagEl); 
            updateTeamStatus(playerTeamStatusEl, battleState.playerTeam); 

            if (battleState.opponentTeam.length > 0 && battleState.opponentTeam[battleState.opponentActiveIndex]) {
                const oPok = battleState.opponentTeam[battleState.opponentActiveIndex];
                opponentPokemonNameEl.textContent = oPok.name; 
                opponentPokemonSpriteEl.src = oPok.spriteFrontUrl; 
                updateHpBar(opponentHpFillEl, opponentHpNumbersEl, oPok.currentHP, oPok.maxHP); 
                updateStatusTag(oPok, opponentStatusTagEl); 
                updateTeamStatus(opponentTeamStatusEl, battleState.opponentTeam); 
            } else { 
                opponentPokemonNameEl.textContent = "";
                opponentPokemonSpriteEl.src = "";
                opponentHpFillEl.style.width = '0%';
                opponentHpNumbersEl.textContent = "";
                opponentStatusTagEl.style.display = 'none';
                opponentTeamStatusEl.innerHTML = '';
            }
            
            if (actionMenuEl) {
                let visibleAndEnabledButtonsInActionMenu = 0;
                const buttons = actionMenuEl.querySelectorAll('button');
                buttons.forEach(b => {
                    if (b.parentElement === actionMenuEl) { 
                        const style = window.getComputedStyle(b);
                        if (style.display !== 'none' && !b.disabled) {
                            visibleAndEnabledButtonsInActionMenu++;
                        }
                    }
                });
                actionMenuEl.classList.toggle('extended', visibleAndEnabledButtonsInActionMenu === 4);
            }
        }
        function updateTeamStatus(containerElement, team) { containerElement.innerHTML = ''; team.forEach(p => { const ball = document.createElement('span'); ball.classList.add('status-ball'); if (p.currentHP <= 0) ball.classList.add('fainted'); containerElement.appendChild(ball); }); }
        function updateCoinDisplay() { const coins = selectedTrainerData ? (selectedTrainerData.coins || 0) : 0; if (playerCoinsDisplayMainMenuEl) playerCoinsDisplayMainMenuEl.textContent = `Coins: ${coins}`; if (marketCoinDisplayEl) marketCoinDisplayEl.textContent = `Coins: ${coins}`; }
        function showMarketScreen() { if (!selectedTrainerData) { alert("Please select a trainer first."); switchScreen('characterSelect'); return; } updateCoinDisplay(); switchScreen('market'); }
        function showInventoryScreen() { 
            if (!selectedTrainerData) { alert("Please select a trainer first."); switchScreen('characterSelect'); return; } 
            inventoryGridEl.innerHTML = ''; 
            const inventory = selectedTrainerData.inventory || {}; 
            let hasItems = false; 
            Object.keys(inventory).forEach(itemName => { 
                if (inventory[itemName] > 0) { 
                    hasItems = true; 
                    const itemDiv = document.createElement('div'); 
                    itemDiv.classList.add('inventory-item'); 
                    const itemIcon = document.createElement('img'); 
                    itemIcon.classList.add('item-icon'); 
                    if (itemName.toLowerCase().includes("great")) { itemIcon.style.backgroundImage = 'var(--item-icon-greatball)'; itemIcon.alt = "Great Ball"; } 
                    else if (itemName.toLowerCase().includes("evolution")) { itemIcon.style.backgroundImage = 'var(--item-icon-evolutionstone)'; itemIcon.alt = "Evolution Stone"; }
                    else { itemIcon.style.backgroundImage = 'var(--item-icon-pokeball)'; itemIcon.alt = "Poké Ball"; } 
                    itemIcon.src = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"; 
                    const itemDetails = document.createElement('div'); 
                    itemDetails.classList.add('item-details'); 
                    itemDetails.innerHTML = `<span class="item-name">${itemName}</span>: ${inventory[itemName]}`; 
                    itemDiv.appendChild(itemIcon); 
                    itemDiv.appendChild(itemDetails); 
                    inventoryGridEl.appendChild(itemDiv); 
                } 
            }); 
            if (!hasItems && noInventoryItemsMsg) { noInventoryItemsMsg.style.display = 'block'; } 
            else if (noInventoryItemsMsg) { noInventoryItemsMsg.style.display = 'none'; } 
            switchScreen('inventory'); 
        }
        
        function showTeamScreen() { 
            if (!selectedTrainerData || !selectedTrainerData.team) { 
                alert("Please select a trainer and have a team."); 
                switchScreen('characterSelect'); 
                return; 
            } 
            teamGridEl.innerHTML = ''; 
            const currentTeam = selectedTrainerData.team.filter(p => p); 
            if (currentTeam.length === 0 && noTeamPokemonMsg) { 
                noTeamPokemonMsg.style.display = 'block'; 
            } else { 
                if(noTeamPokemonMsg) noTeamPokemonMsg.style.display = 'none'; 
                currentTeam.forEach((pokemon, index) => { 
                    const pCard = document.createElement('div'); 
                    pCard.classList.add('team-pokemon-card');
                    pCard.dataset.pokemonId = pokemon.id; 

                    const orderControls = document.createElement('div');
                    orderControls.classList.add('pokemon-order-controls');
                    
                    const upButton = document.createElement('button');
                    upButton.classList.add('order-btn');
                    upButton.innerHTML = '&#9650;'; 
                    upButton.disabled = index === 0;
                    upButton.addEventListener('click', (e) => { e.stopPropagation(); movePokemonInTeam(index, index - 1); });
                    orderControls.appendChild(upButton);

                    const downButton = document.createElement('button');
                    downButton.classList.add('order-btn');
                    downButton.innerHTML = '&#9660;'; 
                    downButton.disabled = index === currentTeam.length - 1;
                    downButton.addEventListener('click', (e) => { e.stopPropagation(); movePokemonInTeam(index, index + 1); });
                    orderControls.appendChild(downButton);
                    
                    pCard.appendChild(orderControls);

                    const pSprite = document.createElement('img'); 
                    pSprite.classList.add('pokemon-list-sprite'); 
                    pSprite.src = pokemon.spriteFrontUrl; 
                    pSprite.alt = pokemon.name; 
                    const pDetails = document.createElement('div'); 
                    pDetails.classList.add('pokemon-details'); 
                    pDetails.innerHTML = `<span class="pokemon-name">${pokemon.name}</span> <br>HP: ${Math.floor(pokemon.currentHP)}/${pokemon.maxHP} ${pokemon.status ? '('+pokemon.status+')' : ''}`; 
                    pCard.appendChild(pSprite); 
                    pCard.appendChild(pDetails); 
                    teamGridEl.appendChild(pCard); 
                }); 
            } 
            switchScreen('team'); 
        }

        function movePokemonInTeam(currentIndex, newIndex) {
            if (!selectedTrainerData || !selectedTrainerData.team) return;
            if (newIndex < 0 || newIndex >= selectedTrainerData.team.length) return;

            const team = selectedTrainerData.team;
            const pokemonToMove = team.splice(currentIndex, 1)[0];
            team.splice(newIndex, 0, pokemonToMove);
            
            saveGame();
            showTeamScreen(); 
        }

        function buyItem(itemName, price) { if (!selectedTrainerData) return; price = parseInt(price); if (selectedTrainerData.coins >= price) { selectedTrainerData.coins -= price; selectedTrainerData.inventory[itemName] = (selectedTrainerData.inventory[itemName] || 0) + 1; updateCoinDisplay(); saveGame(); alert(`Successfully bought 1 ${itemName}!`); } else { alert("Not enough coins!"); } }
        
        function getUniqueRandomPokemon(existingPokedexIds, fromPool) {
            const available = fromPool.filter(p => !existingPokedexIds.includes(p.pokedexId));
            if (available.length === 0) return null; 
            return available[Math.floor(Math.random() * available.length)];
        }

        function startQuickBattle() {
            battleState.isWildBattle = false;
            battleState.isGymBattle = false;
            battleState.playerTeam = []; 
            battleState.opponentTeam = []; 
            
            let availableForPlayer = [...pokemonPool];
            let playerPokedexIds = [];
            for (let i = 0; i < 3; i++) {
                if (availableForPlayer.length === 0) break;
                let poolIdx = Math.floor(Math.random() * availableForPlayer.length);
                let chosenData = availableForPlayer.splice(poolIdx, 1)[0];
                battleState.playerTeam.push(createPokemonFromData(chosenData, false, true));
                playerPokedexIds.push(chosenData.pokedexId);
            }

            let availableForOpponent = pokemonPool.filter(p => !playerPokedexIds.includes(p.pokedexId));
            if (availableForOpponent.length < 3) { 
                availableForOpponent = [...pokemonPool];
            }
            
            for (let i = 0; i < 3; i++) {
                if (availableForOpponent.length === 0) { 
                     if (pokemonPool.length > 0) battleState.opponentTeam.push(createPokemonFromData(pokemonPool[Math.floor(Math.random()*pokemonPool.length)], true, false));
                     else break; 
                } else {
                    let poolIdx = Math.floor(Math.random() * availableForOpponent.length);
                    let chosenData = availableForOpponent.splice(poolIdx, 1)[0];
                    battleState.opponentTeam.push(createPokemonFromData(chosenData, true, false));
                }
            }
            
            if (battleState.playerTeam.length === 0 || battleState.opponentTeam.length === 0) {
                alert("Error: Could not set up teams for Quick Battle. Pokemon pool might be too small.");
                switchScreen('mainMenu');
                return;
            }

            battleState.playerActiveIndex = 0; 
            battleState.opponentActiveIndex = 0; 
            
            updateBattleUI(); 
            switchScreen('battle'); 
            const opponent = battleState.opponentTeam[0];
            const introMsg = opponent.isShiny ? `Opponent sent out SHINY ${opponent.name}!` : `Opponent sent out ${opponent.name}!`;
            typeMessage(introMsg, () => { 
                battleState.onMessageComplete = () => { 
                    typeMessage(`Go ${battleState.playerTeam[0].name}!`, startTurnPhase); 
                } 
            }); 
        }
        
        function prepareBattle(battleFunction) {
            if (!selectedTrainerData || !selectedTrainerData.team || selectedTrainerData.team.length === 0) {
                alert("You have no Pokémon! Please choose a starter or catch one in Wild Mode.");
                switchScreen('mainMenu');
                return;
            }
            selectedTrainerData.team.forEach(p => {
                if(p) { 
                    p.currentHP = p.maxHP;
                    p.status = null;
                    p.sleepTurns = 0;
                    p.flinch = false;
                    p.stats = { attack: 0, defense: 0, speed: 0, accuracy: 0, evasion: 0 };
                    p.moves.forEach(m => m.currentPp = m.maxPp);

                    if (p.originalEvolutionData) { 
                        const oldMaxHPBeforeRevert = p.maxHP;
                        const currentHPRatio = (oldMaxHPBeforeRevert > 0) ? (p.currentHP / oldMaxHPBeforeRevert) : 0;
                        p.pokedexId = p.originalEvolutionData.pokedexId;
                        p.name = p.originalEvolutionData.name;
                        p.types = [...p.originalEvolutionData.types];
                        p.maxHP = p.originalEvolutionData.maxHP;
                        p.currentHP = Math.max(0, Math.floor(currentHPRatio * p.maxHP));
                        p.baseStats = JSON.parse(JSON.stringify(p.originalEvolutionData.baseStats));
                        p.moves = p.originalEvolutionData.moves.map(m => ({ ...m, currentPp: m.maxPp })); 
                        p.spriteFrontUrl = p.originalEvolutionData.spriteFrontUrl;
                        p.spriteBackUrl = p.originalEvolutionData.spriteBackUrl;
                        p.isShiny = p.originalEvolutionData.isShiny;
                        p.originalEvolutionData = null;
                    }
                }
            });

            if (selectedTrainerData.team.length > 3) {
                battleState.pendingBattleStartFunction = battleFunction;
                showTeamSelectScreen();
            } else {
                battleState.playerTeam = JSON.parse(JSON.stringify(selectedTrainerData.team.filter(p => p))); 
                battleFunction(); 
            }
        }

        function showTeamSelectScreen() {
            teamSelectGridEl.innerHTML = '';
            battleState.selectedBattleTeamIndexes = []; 
            teamSelectConfirmButton.disabled = true;

            selectedTrainerData.team.forEach((pokemon, index) => {
                if (!pokemon) return; 
                const opt = document.createElement('div');
                opt.classList.add('team-select-option');
                opt.dataset.index = index; 

                const sp = document.createElement('img');
                sp.src = pokemon.spriteFrontUrl;
                sp.alt = pokemon.name;
                opt.appendChild(sp);

                const nfo = document.createElement('div');
                nfo.classList.add('team-select-info');
                nfo.innerHTML = `<span class="name">${pokemon.name}</span><div class="hp-bar-container"><div class="hp-bar-fill" style="width:${Math.max(0,(pokemon.currentHP/pokemon.maxHP)*100)}%; background-color:${pokemon.currentHP/pokemon.maxHP > 0.5 ? 'var(--hp-high-color)' : (pokemon.currentHP/pokemon.maxHP > 0.2 ? 'var(--hp-medium-color)' : 'var(--hp-low-color)')};"></div></div><div class="hp-numbers">${Math.max(0,Math.floor(pokemon.currentHP))}/${pokemon.maxHP}</div>`;
                opt.appendChild(nfo);

                if (pokemon.currentHP <= 0) { 
                    opt.classList.add('fainted', 'disabled');
                } else {
                    opt.addEventListener('click', () => toggleTeamSelectOption(opt, index));
                }
                teamSelectGridEl.appendChild(opt);
            });
            switchScreen('teamSelect');
        }

        function toggleTeamSelectOption(optionElement, pokemonIndex) {
            if (optionElement.classList.contains('fainted')) return;

            const indexInSelection = battleState.selectedBattleTeamIndexes.indexOf(pokemonIndex);

            if (indexInSelection > -1) { 
                battleState.selectedBattleTeamIndexes.splice(indexInSelection, 1);
                optionElement.classList.remove('selected');
            } else { 
                if (battleState.selectedBattleTeamIndexes.length < 3) {
                    battleState.selectedBattleTeamIndexes.push(pokemonIndex);
                    optionElement.classList.add('selected');
                } else {
                    alert("You can only select up to 3 Pokémon.");
                }
            }
            teamSelectConfirmButton.disabled = battleState.selectedBattleTeamIndexes.length !== 3;
        }
        
        teamSelectConfirmButton.addEventListener('click', () => {
            if (battleState.selectedBattleTeamIndexes.length === 3) {
                battleState.playerTeam = battleState.selectedBattleTeamIndexes.map(index => {
                    return JSON.parse(JSON.stringify(selectedTrainerData.team[index]));
                });

                if (battleState.pendingBattleStartFunction) {
                    battleState.pendingBattleStartFunction();
                    battleState.pendingBattleStartFunction = null; 
                }
            }
        });


        function startWildBattleActual() {
            battleState.isWildBattle = true;
            battleState.isGymBattle = false;
            battleState.opponentTeam = [];
            const wildPokemonData = pokemonPool[Math.floor(Math.random() * pokemonPool.length)];
            battleState.opponentTeam.push(createPokemonFromData(wildPokemonData, true, false)); 

            battleState.playerActiveIndex = 0;
            battleState.opponentActiveIndex = 0;
            
            updateBattleUI();
            switchScreen('battle');
            const opponent = battleState.opponentTeam[0];
            const introMsg = opponent.isShiny ? `A wild SHINY ${opponent.name.toUpperCase()} appeared!` : `A wild ${opponent.name.toUpperCase()} appeared!`;
            typeMessage(introMsg, () => {
                battleState.onMessageComplete = () => {
                    typeMessage(`Go ${battleState.playerTeam[0].name.toUpperCase()}!`, startTurnPhase);
                }
            });
        }

        function startGymBattleActual() {
            battleState.isWildBattle = false;
            battleState.isGymBattle = true;
            
            const leaderData = gymLeadersData[battleState.currentGymLeaderKey];
            if (!leaderData) {
                alert("Error: Gym Leader data not found!");
                switchScreen('playMenu');
                return;
            }

            battleState.opponentTeam = leaderData.pokemonTeam.map(pokemonName => {
                const pokemonBase = pokemonPool.find(p => p.name.toUpperCase() === pokemonName.toUpperCase());
                if (!pokemonBase) {
                    console.error(`Pokemon ${pokemonName} not found in pool for Gym Leader ${leaderData.name}`);
                    return null; 
                }
                return createPokemonFromData(pokemonBase, true, false); 
            }).filter(p => p !== null);

            if (battleState.opponentTeam.length === 0) {
                alert(`Error: Could not set up Gym Leader ${leaderData.name}'s team.`);
                switchScreen('playMenu');
                return;
            }
            
            battleState.playerActiveIndex = 0;
            battleState.opponentActiveIndex = 0;

            updateBattleUI();
            switchScreen('battle');
            const opponent = battleState.opponentTeam[0];
            const introMsg = `${leaderData.name} challenges you to a battle! ${leaderData.name} sent out ${opponent.name.toUpperCase()}!`;
            typeMessage(introMsg, () => {
                battleState.onMessageComplete = () => {
                    typeMessage(`Go ${battleState.playerTeam[0].name.toUpperCase()}!`, startTurnPhase);
                }
            });
        }


        function startTurnPhase() { if(!battleState.playerTeam[battleState.playerActiveIndex] || !battleState.opponentTeam[battleState.opponentActiveIndex]) {console.warn("Attempted to start turn phase with undefined active Pokemon."); return;} battleState.playerTeam[battleState.playerActiveIndex].flinch = false; if (battleState.opponentTeam[battleState.opponentActiveIndex]) battleState.opponentTeam[battleState.opponentActiveIndex].flinch = false; battleState.attackerUsedMoveFirstThisTurn = false; determineMoveOrder(); }
        function determineMoveOrder() { if(!battleState.playerTeam[battleState.playerActiveIndex] || !battleState.opponentTeam[battleState.opponentActiveIndex]) {console.warn("Attempted to determine move order with undefined active Pokemon."); return;} const playerPokemon = battleState.playerTeam[battleState.playerActiveIndex]; const opponentPokemon = battleState.opponentTeam[battleState.opponentActiveIndex]; const playerMoveCheck = checkCanMove(playerPokemon, true); if (playerMoveCheck.message) { typeMessage(playerMoveCheck.message, () => { if (!playerMoveCheck.canMove) { battleState.currentActingPokemonIsPlayer = false; opponentActionPhase(); } else { playerActionPhase(); } }); } else { playerActionPhase(); } }
        
        function playerActionPhase() {
            if(!battleState.playerTeam[battleState.playerActiveIndex]) {
                console.warn("Attempted player action phase with undefined active Pokemon.");
                return;
            }
            battleState.playerTurn = true;
            battleState.currentActingPokemonIsPlayer = true;
            const activePlayerPokemon = battleState.playerTeam[battleState.playerActiveIndex];
            
            actionMenuEl.style.display = 'none';
            moveMenuEl.style.display = 'none';
            itemMenuEl.style.display = 'none';

            const itemButtonInActionMenu = actionMenuEl.querySelector('button[data-action="item"]');
            if (itemButtonInActionMenu) {
                itemButtonInActionMenu.style.display = 'block'; 
                let hasAnyUsableItem = false;
                if (selectedTrainerData && selectedTrainerData.inventory && activePlayerPokemon) {
                    if ((selectedTrainerData.inventory["Evolution Stone"] > 0 || selectedTrainerData.inventory["Perma Evolution Stone"] > 0) && getEvolutionTarget(activePlayerPokemon.pokedexId)) {
                        hasAnyUsableItem = true;
                    }
                    if (battleState.isWildBattle && 
                       (selectedTrainerData.inventory["Poke Ball"] > 0 || selectedTrainerData.inventory["Great Ball"] > 0)) {
                        hasAnyUsableItem = true;
                    }
                }
                itemButtonInActionMenu.disabled = !hasAnyUsableItem;
            }

            const runButtonInActionMenu = actionMenuEl.querySelector('button[data-action="run"]');
            if (runButtonInActionMenu) {
                runButtonInActionMenu.style.display = 'block'; 
                runButtonInActionMenu.disabled = battleState.isGymBattle; 
            }
        
            const pokemonButtonInActionMenu = actionMenuEl.querySelector('button[data-action="pokemon"]');
            if (pokemonButtonInActionMenu) {
                pokemonButtonInActionMenu.style.display = 'block';
                const switchablePokemon = battleState.playerTeam.filter((p, i) => p.currentHP > 0 && i !== battleState.playerActiveIndex);
                pokemonButtonInActionMenu.disabled = switchablePokemon.length === 0;
            }
        
            const fightButtonInActionMenu = actionMenuEl.querySelector('button[data-action="fight"]');
            if (fightButtonInActionMenu) {
                fightButtonInActionMenu.style.display = 'block';
                fightButtonInActionMenu.disabled = false; 
            }
            
            typeMessage(`What will ${activePlayerPokemon.name} do?`, () => {
                actionMenuEl.style.display = 'grid'; 
                updateBattleUI(); 
            });
        }

        function opponentActionPhase() { if(!battleState.opponentTeam[battleState.opponentActiveIndex] || !battleState.playerTeam[battleState.playerActiveIndex]) {console.warn("Attempted opponent action phase with undefined active Pokemon."); return;} battleState.playerTurn = false; battleState.currentActingPokemonIsPlayer = false; const opponentPokemon = battleState.opponentTeam[battleState.opponentActiveIndex]; const opponentMoveCheck = checkCanMove(opponentPokemon, false); if (opponentMoveCheck.message) { typeMessage(opponentMoveCheck.message, () => { if (!opponentMoveCheck.canMove) { handleEndOfTurnStatusEffects(); } else { opponentChooseAndExecuteMove(); } }); } else { opponentChooseAndExecuteMove(); } }
        function opponentChooseAndExecuteMove() { if(!battleState.opponentTeam[battleState.opponentActiveIndex] || !battleState.playerTeam[battleState.playerActiveIndex]) {console.warn("Attempted opponent move with undefined active Pokemon."); return;} const attacker = battleState.opponentTeam[battleState.opponentActiveIndex]; const defender = battleState.playerTeam[battleState.playerActiveIndex]; if (attacker.currentHP <= 0) { handleOpponentFaint(); return; } let availableMoves = attacker.moves.filter(m => m.currentPp > 0); if (availableMoves.length === 0) { typeMessage(`${attacker.name} has no moves left!`, () => handleEndOfTurnStatusEffects()); return; } const move = availableMoves[Math.floor(Math.random() * availableMoves.length)]; executeMove(attacker, defender, move, false); }
        function checkCanMove(pokemon, isPlayer) { if (!pokemon) return { canMove: false, message: null}; const name = pokemon.name; if (pokemon.flinch) { pokemon.flinch = false; return { canMove: false, message: `${name} flinched and couldn't move!` }; } if (pokemon.status === "SLP") { if (pokemon.sleepTurns > 0) { pokemon.sleepTurns--; return { canMove: false, message: `${name} is fast asleep.` }; } else { pokemon.status = null; updateStatusTag(pokemon, isPlayer ? playerStatusTagEl : opponentStatusTagEl); return { canMove: true, message: `${name} woke up!` }; } } if (pokemon.status === "FRZ") { if (Math.random() < FREEZE_THAW_CHANCE) { pokemon.status = null; updateStatusTag(pokemon, isPlayer ? playerStatusTagEl : opponentStatusTagEl); return { canMove: true, message: `${name} thawed out!` }; } else { return { canMove: false, message: `${name} is frozen solid!` }; } } if (pokemon.status === "PAR") { if (Math.random() < PARALYSIS_CHANCE_NO_MOVE) { return { canMove: false, message: `${name} is fully paralyzed!` }; } } return { canMove: true, message: null }; }
        function showMoveMenu() { if(!battleState.playerTeam[battleState.playerActiveIndex]) {console.warn("Attempted to show move menu with undefined active Pokemon.");return;} actionMenuEl.style.display = 'none'; battleTextboxEl.style.display = 'none'; itemMenuEl.style.display = 'none'; const pPok = battleState.playerTeam[battleState.playerActiveIndex]; const moveBtns = moveMenuEl.querySelectorAll('button'); moveBtns.forEach(b => b.style.visibility = 'hidden'); pPok.moves.forEach((m, i) => { if (moveBtns[i]) { moveBtns[i].style.visibility = 'visible'; moveBtns[i].querySelector('.move-name').textContent = m.name.toUpperCase(); moveBtns[i].querySelector('.move-pp').textContent = `PP ${m.currentPp}/${m.maxPp}`; moveBtns[i].disabled = m.currentPp <= 0; } }); moveMenuEl.style.display = 'grid'; }
        function applyStatChange(targetPokemon, stat, stages, targetName, isSelf) { const statNames = Array.isArray(stat) ? stat : [stat]; let messages = []; let anyChange = false; statNames.forEach(s => { const currentStage = targetPokemon.stats[s] || 0; let newStage = currentStage; if (stages > 0) newStage = Math.min(6, currentStage + stages); else if (stages < 0) newStage = Math.max(-6, currentStage + stages); if (newStage !== currentStage) { targetPokemon.stats[s] = newStage; anyChange = true; if (stages === 1) messages.push(`${targetName}'s ${s} rose!`); else if (stages > 1) messages.push(`${targetName}'s ${s} sharply rose!`); else if (stages === -1) messages.push(`${(isSelf ? targetName : "Foe " + targetName)}'s ${s} fell!`); else if (stages < -1) messages.push(`${(isSelf ? targetName : "Foe " + targetName)}'s ${s} harshly fell!`); } }); if (!anyChange) messages.push(`${targetName}'s ${statNames.join(' and ')} won't go any ${stages > 0 ? 'higher' : 'lower'}!`); return messages; }
        function executeMove(attacker, defender, move, isPlayerAttacking) { battleState.currentActingPokemonIsPlayer = isPlayerAttacking; const attackerName = attacker.name; const defenderName = defender.name; let turnMessages = []; if (isPlayerAttacking) battleState.playerSelectedMove = move; else battleState.opponentSelectedMove = move; if (attacker.flinch) { attacker.flinch = false; typeMessage(`${attackerName} flinched!`, () => { if (isPlayerAttacking && battleState.opponentTeam[battleState.opponentActiveIndex]?.currentHP > 0) { opponentActionPhase(); } else if (!isPlayerAttacking && battleState.playerTeam[battleState.playerActiveIndex]?.currentHP > 0) { handleEndOfTurnStatusEffects(); } else { handleEndOfTurnStatusEffects(); } }); return; } move.currentPp--; if(isPlayerAttacking) updateBattleUI(); turnMessages.push({ message: `${attackerName} used ${move.name.toUpperCase()}!`, callback: () => { let hit = true; if (!move.alwaysHits) { const moveAccuracy = move.accuracy || 100; const attackerAccStage = attacker.stats.accuracy || 0; const defenderEvaStage = defender.stats.evasion || 0; const accModifier = calculateStatWithStage(100, attackerAccStage, 'accuracy') / 100; const evaModifier = calculateStatWithStage(100, defenderEvaStage, 'evasion') / 100; const finalAccuracy = moveAccuracy * (accModifier / evaModifier); if (Math.random() * 100 >= finalAccuracy) hit = false; } if (!hit) { turnMessages.push({ message: `${attackerName}'s attack missed!`, callback: () => { if (isPlayerAttacking && battleState.opponentTeam[battleState.opponentActiveIndex]?.currentHP > 0) { opponentActionPhase(); } else { handleEndOfTurnStatusEffects(); } }}); processTurnMessages(turnMessages); return; } playAttackAnimation(move.type, isPlayerAttacking ? playerPokemonSpriteEl.parentElement : opponentPokemonSpriteEl.parentElement, isPlayerAttacking ? opponentPokemonSpriteEl.parentElement : playerPokemonSpriteEl.parentElement, () => { playShakeAnimation(isPlayerAttacking ? opponentPokemonSpriteEl.parentElement : playerPokemonSpriteEl.parentElement); let effectivenessMultiplier = 1; let calculatedDamage = 0; let isCrit = false; if (move.power > 0) { effectivenessMultiplier = calculateTypeEffectiveness(move.type, defender.types); if (effectivenessMultiplier === 0) { calculatedDamage = 0; } else { let critChance = CRITICAL_HIT_CHANCE_BASE * (move.highCritRatio ? 2 : 1); if (Math.random() < critChance) isCrit = true; let effAttackerAttack = calculateStatWithStage(attacker.baseStats.attack, attacker.stats.attack, 'attack'); let effDefenderDefense = calculateStatWithStage(defender.baseStats.defense, defender.stats.defense, 'defense'); if (isCrit) { if (attacker.stats.attack < 0) effAttackerAttack = attacker.baseStats.attack; if (defender.stats.defense > 0) effDefenderDefense = defender.baseStats.defense; } calculatedDamage = Math.max(1, Math.floor((((((2 * GAME_LEVEL / 5 + 2) * effAttackerAttack * move.power) / effDefenderDefense) / 50) + 2) * effectivenessMultiplier * (isCrit ? CRITICAL_HIT_MULTIPLIER : 1))); } defender.currentHP -= calculatedDamage; } updateBattleUI(); if (isCrit) turnMessages.push({ message: "A critical hit!" }); const effText = getEffectivenessText(effectivenessMultiplier, defenderName); if (effText && move.power > 0) turnMessages.push({ message: effText }); if (move.effect) { const effect = move.effect; const canApplyEffect = effectivenessMultiplier > 0; if (effect.type === "status" && defender.status === null && canApplyEffect && (!effect.chance || Math.random() < effect.chance)) { defender.status = effect.condition; if (effect.condition === "SLP") defender.sleepTurns = Math.floor(Math.random() * 3) + 2; else if (effect.condition === "FRZ" && defender.types.includes("Ice")) {} else turnMessages.push({ message: `${defenderName} was ${effect.condition === "BRN" ? "burned" : effect.condition === "PSN" ? "poisoned" : effect.condition === "PAR" ? "paralyzed" : effect.condition === "SLP" ? "put to sleep" : "frozen"}!` }); } else if (effect.type === "stat" && canApplyEffect && (!effect.chance || Math.random() < effect.chance)) { const target = effect.target === "self" ? attacker : defender; const targetN = effect.target === "self" ? attackerName : defenderName; const statMsgs = applyStatChange(target, effect.stat, effect.stages, targetN, effect.target === "self"); statMsgs.forEach(m => turnMessages.push({message: m})); } else if (effect.type === "heal" && effect.target === "self") { const healAmount = Math.floor(attacker.maxHP * effect.percentage); attacker.currentHP = Math.min(attacker.maxHP, attacker.currentHP + healAmount); turnMessages.push({ message: `${attackerName} recovered health!` }); } else if (effect.type === "switch" && effect.target === "opponent" && canApplyEffect) { const targetTeam = isPlayerAttacking ? battleState.opponentTeam : battleState.playerTeam; const currentActiveIdx = isPlayerAttacking ? battleState.opponentActiveIndex : battleState.playerActiveIndex; const availableSwitch = targetTeam.filter((p, i) => p.currentHP > 0 && i !== currentActiveIdx); if (availableSwitch.length > 0) { const oldTargetName = targetTeam[currentActiveIdx].name; const newTargetIdx = targetTeam.indexOf(availableSwitch[Math.floor(Math.random() * availableSwitch.length)]); if (isPlayerAttacking) battleState.opponentActiveIndex = newTargetIdx; else battleState.playerActiveIndex = newTargetIdx; turnMessages.push({ message: `${oldTargetName} was dragged out!` }); turnMessages.push({ message: `${(isPlayerAttacking ? "Opponent sent out " : "Go ")}${targetTeam[newTargetIdx].name}!`}); battleState.attackerUsedMoveFirstThisTurn = true; } else { turnMessages.push({ message: "But it failed!"}); } } else if (effect.type === "flinch" && canApplyEffect && (!effect.chance || Math.random() < effect.chance)) { if (battleState.attackerUsedMoveFirstThisTurn && !defender.flinch) { defender.flinch = true; } } updateBattleUI(); } processTurnMessages(turnMessages, isPlayerAttacking ? defender : attacker, isPlayerAttacking); }); }}); processTurnMessages(turnMessages, isPlayerAttacking ? defender : attacker, isPlayerAttacking); }
        function processTurnMessages(messages, nextPokemonToActIfApplicable, isOriginalAttackerPlayer) { if (messages.length > 0) { const nextMsg = messages.shift(); typeMessage(nextMsg.message, nextMsg.callback || (() => processTurnMessages(messages, nextPokemonToActIfApplicable, isOriginalAttackerPlayer))); } else { if(!battleState.playerTeam[battleState.playerActiveIndex] || !battleState.opponentTeam[battleState.opponentActiveIndex]) {console.warn("Attempted to process turn end with undefined active Pokemon."); return;} const playerPokemon = battleState.playerTeam[battleState.playerActiveIndex]; const opponentPokemon = battleState.opponentTeam[battleState.opponentActiveIndex]; if (playerPokemon.currentHP <= 0) { handlePlayerFaint(); return; } if (opponentPokemon.currentHP <= 0) { handleOpponentFaint(); return; } if (isOriginalAttackerPlayer) { opponentActionPhase(); } else { handleEndOfTurnStatusEffects(); } } }
        function playerAttack(moveIndex) { if(!battleState.playerTeam[battleState.playerActiveIndex] || !battleState.opponentTeam[battleState.opponentActiveIndex]) {console.warn("Attempted player attack with undefined active Pokemon."); return;} moveMenuEl.style.display = 'none'; const attacker = battleState.playerTeam[battleState.playerActiveIndex]; const defender = battleState.opponentTeam[battleState.opponentActiveIndex]; const move = attacker.moves[moveIndex]; if (!move || move.currentPp <= 0) { playerActionPhase(); return; } battleState.attackerUsedMoveFirstThisTurn = true; executeMove(attacker, defender, move, true); }
        function handleEndOfTurnStatusEffects() { if(!battleState.playerTeam[battleState.playerActiveIndex] || !battleState.opponentTeam[battleState.opponentActiveIndex]) {console.warn("Attempted EOT effects with undefined active Pokemon."); return;} let turnEndMessages = []; let playerFaintedFromStatus = false; let opponentFaintedFromStatus = false; const playerPokemon = battleState.playerTeam[battleState.playerActiveIndex]; const opponentPokemon = battleState.opponentTeam[battleState.opponentActiveIndex]; const applyEOT = (pokemon, isPlayer) => { if (pokemon.currentHP > 0 && pokemon.status) { if (pokemon.status === "BRN" || pokemon.status === "PSN") { const damage = Math.floor(pokemon.maxHP / (pokemon.status === "PSN" ? 8 : 16)); pokemon.currentHP -= damage; turnEndMessages.push({ message: `${pokemon.name} was hurt by its ${pokemon.status === "BRN" ? "burn" : "poison"}!` }); if (pokemon.currentHP <= 0) isPlayer ? playerFaintedFromStatus = true : opponentFaintedFromStatus = true; } } }; applyEOT(playerPokemon, true); if (playerFaintedFromStatus) turnEndMessages.push({ message: `${playerPokemon.name} fainted!` }); if (opponentPokemon.currentHP > 0) { applyEOT(opponentPokemon, false); if (opponentFaintedFromStatus) turnEndMessages.push({ message: `${opponentPokemon.name} fainted!` }); } updateBattleUI(); const showEOTMessages = () => { if (turnEndMessages.length > 0) { const msg = turnEndMessages.shift(); typeMessage(msg.message, showEOTMessages); } else { if (playerPokemon.currentHP <= 0) handlePlayerFaint(); else if (opponentPokemon.currentHP <= 0) handleOpponentFaint(); else setTimeout(startTurnPhase, 800); } }; showEOTMessages(); }
        function showSwitchScreen(isForced = false) { battleState.switchingAfterFaint = isForced; actionMenuEl.style.display = 'none'; moveMenuEl.style.display = 'none'; itemMenuEl.style.display = 'none'; battleTextboxEl.style.display = 'none'; switchGridEl.innerHTML = ''; battleState.playerTeam.forEach((p, i) => { const opt = document.createElement('div'); opt.classList.add('switch-option'); opt.dataset.index = i; const sp = document.createElement('img'); sp.src = p.spriteFrontUrl; sp.alt = p.name; opt.appendChild(sp); const nfo = document.createElement('div'); nfo.classList.add('switch-info'); nfo.innerHTML = `<span class="name">${p.name} ${p.status ? '('+p.status+')' : ''}</span><div class="hp-bar-container"><div class="hp-bar-fill" style="width:${Math.max(0,(p.currentHP/p.maxHP)*100)}%; background-color:${p.currentHP/p.maxHP > 0.5 ? 'var(--hp-high-color)' : (p.currentHP/p.maxHP > 0.2 ? 'var(--hp-medium-color)' : 'var(--hp-low-color)')};"></div></div><div class="hp-numbers">${Math.max(0,Math.floor(p.currentHP))}/${p.maxHP}</div>`; opt.appendChild(nfo); if (p.currentHP <= 0) opt.classList.add('fainted'); else if (i === battleState.playerActiveIndex) opt.classList.add('active'); else opt.addEventListener('click', () => switchPokemonAction(i)); switchGridEl.appendChild(opt); }); switchCancelButton.style.display = isForced ? 'none' : 'block'; switchScreen('switchPokemon'); }
        function switchPokemonAction(newIndex) { if(!battleState.playerTeam[battleState.playerActiveIndex] || !battleState.playerTeam[newIndex]) {console.warn("Attempted switch with undefined Pokemon."); return;} const oldPok = battleState.playerTeam[battleState.playerActiveIndex]; const newPok = battleState.playerTeam[newIndex]; if (newPok.currentHP <= 0 || newIndex === battleState.playerActiveIndex) return; battleState.playerActiveIndex = newIndex; updateBattleUI(); switchScreen('battle'); let msgs = []; if (!battleState.switchingAfterFaint) { msgs.push({ message: `Come back, ${oldPok.name}!`}); battleState.playerTurn = false; } msgs.push({ message: `Go, ${newPok.name}!`, callback: null }); const finalCb = () => { battleState.switchingAfterFaint = false; if (!battleState.playerTurn && battleState.opponentTeam[battleState.opponentActiveIndex] && battleState.opponentTeam[battleState.opponentActiveIndex].currentHP > 0) { opponentActionPhase(); } else { startTurnPhase(); } }; const showNxt = () => { if (msgs.length > 0) { const n = msgs.shift(); typeMessage(n.message, n.callback || showNxt); } else { setTimeout(finalCb, 500); } }; showNxt(); }
        
        function finalizeBattleState() {
            if (!selectedTrainerData || !selectedTrainerData.team) return;

            battleState.playerTeam.forEach(battlePok => {
                if(!battlePok) return; 
                const trainerPok = selectedTrainerData.team.find(p => p && p.id === battlePok.id);
                if (trainerPok) {
                    trainerPok.currentHP = Math.max(0, battlePok.currentHP);
                    trainerPok.status = battlePok.status;
                    trainerPok.sleepTurns = battlePok.sleepTurns; 
                    trainerPok.flinch = false; 
                    trainerPok.stats = { attack: 0, defense: 0, speed: 0, accuracy: 0, evasion: 0 };

                    trainerPok.moves.forEach(tpMove => {
                        tpMove.currentPp = tpMove.maxPp; 
                    });

                    if (battlePok.originalEvolutionData) { 
                        const oldMaxHPBeforeRevert = trainerPok.maxHP; 
                        const currentHPRatio = (oldMaxHPBeforeRevert > 0) ? (trainerPok.currentHP / oldMaxHPBeforeRevert) : 0;
                        trainerPok.pokedexId = battlePok.originalEvolutionData.pokedexId;
                        trainerPok.name = battlePok.originalEvolutionData.name;
                        trainerPok.types = [...battlePok.originalEvolutionData.types];
                        trainerPok.maxHP = battlePok.originalEvolutionData.maxHP;
                        trainerPok.currentHP = Math.max(0, Math.floor(currentHPRatio * trainerPok.maxHP));
                        if (battlePok.currentHP <= 0) trainerPok.currentHP = 0; 
                        trainerPok.baseStats = JSON.parse(JSON.stringify(battlePok.originalEvolutionData.baseStats));
                        trainerPok.moves = battlePok.originalEvolutionData.moves.map(m => ({ ...m, currentPp: m.maxPp })); 
                        trainerPok.spriteFrontUrl = battlePok.originalEvolutionData.spriteFrontUrl;
                        trainerPok.spriteBackUrl = battlePok.originalEvolutionData.spriteBackUrl;
                        trainerPok.isShiny = battlePok.originalEvolutionData.isShiny;
                        trainerPok.originalEvolutionData = null; 
                        battlePok.originalEvolutionData = null; 
                    }
                }
            });
            saveGame();
        }

        function handlePlayerFaint() { 
            if(!battleState.playerTeam[battleState.playerActiveIndex]) {
                console.warn("Attempted player faint with undefined Pokemon."); return;
            }
            const p = battleState.playerTeam[battleState.playerActiveIndex]; 
            const cb = () => { 
                const rem = battleState.playerTeam.filter(pk => pk.currentHP > 0); 
                if (rem.length === 0) { 
                    let coinsEarned = 0;
                    let lossMessage = "You have no more Pokémon! You lost the battle!";
                    if (battleState.isGymBattle) {
                        coinsEarned = 10;
                        lossMessage = `You lost to Gym Leader ${gymLeadersData[battleState.currentGymLeaderKey].name}! You earned ${coinsEarned} coins.`;
                    } else if (!battleState.isWildBattle) { 
                        coinsEarned = 5;
                        lossMessage = `You lost the Quick Battle! You earned ${coinsEarned} coins.`;
                    }
                    if (selectedTrainerData && coinsEarned > 0) {
                        selectedTrainerData.coins = (selectedTrainerData.coins || 0) + coinsEarned;
                        updateCoinDisplay();
                    }
                    typeMessage(lossMessage, () => setTimeout(() => { 
                        finalizeBattleState(); 
                        battleState.isWildBattle = false; 
                        battleState.isGymBattle = false;
                        battleState.currentGymLeaderKey = null;
                        switchScreen('mainMenu'); 
                    }, 1000)); 
                } else { 
                    showSwitchScreen(true); 
                }
            }; 
            if (battleState.isProcessingMessage) battleState.messageQueue.push({message: `${p.name} fainted!`, callback: cb}); 
            else typeMessage(`${p.name} fainted!`, cb); 
            updateBattleUI(); 
        } 

        function handleOpponentFaint() { 
            if(!battleState.opponentTeam[battleState.opponentActiveIndex]) {
                console.warn("Attempted opponent faint with undefined Pokemon."); return;
            }
            const o = battleState.opponentTeam[battleState.opponentActiveIndex]; 
            const cb = () => { 
                let coinsEarned = 0;
                let winMessages = []; 

                if (battleState.isWildBattle) { 
                    coinsEarned = 3;
                    winMessages.push(`The wild ${o.name.toUpperCase()} fainted! You earned ${coinsEarned} coins!`);
                } else if (battleState.isGymBattle) {
                    const remOpponent = battleState.opponentTeam.filter(pk => pk.currentHP > 0);
                    if (remOpponent.length === 0) { 
                        coinsEarned = 30;
                        const leaderData = gymLeadersData[battleState.currentGymLeaderKey];
                        winMessages.push(`You defeated Gym Leader ${leaderData.name}!`);
                        winMessages.push(`You earned the ${leaderData.badgeName} and ${coinsEarned} coins!`);
                        if (selectedTrainerData && !selectedTrainerData.defeatedGymLeaders.includes(battleState.currentGymLeaderKey)) {
                            selectedTrainerData.defeatedGymLeaders.push(battleState.currentGymLeaderKey);
                        }
                    }
                } else { 
                     const remOpponent = battleState.opponentTeam.filter(pk => pk.currentHP > 0);
                     if (remOpponent.length === 0) {
                        coinsEarned = 15; 
                        winMessages.push(`You defeated the opponent and earned ${coinsEarned} coins!`);
                     }
                }

                if (selectedTrainerData && coinsEarned > 0) { 
                    selectedTrainerData.coins = (selectedTrainerData.coins || 0) + coinsEarned; 
                    updateCoinDisplay(); 
                } 

                const processWinMessages = () => {
                    if (winMessages.length > 0) {
                        typeMessage(winMessages.shift(), processWinMessages);
                    } else {
                        const remOpponent = battleState.opponentTeam.filter(pk => pk.currentHP > 0);
                        if (remOpponent.length === 0) { 
                            setTimeout(() => { 
                                finalizeBattleState(); 
                                battleState.isWildBattle = false; 
                                battleState.isGymBattle = false;
                                battleState.currentGymLeaderKey = null;
                                switchScreen('mainMenu'); 
                            }, 1200);
                        } else { 
                            let nxtIdx = -1; 
                            for (let i=0; i<battleState.opponentTeam.length; i++) if (battleState.opponentTeam[i].currentHP > 0) { nxtIdx = i; break; } 
                            if (nxtIdx !== -1) { 
                                battleState.opponentActiveIndex = nxtIdx; 
                                const newOpp = battleState.opponentTeam[nxtIdx]; 
                                typeMessage(`Opponent sent out ${newOpp.name}!`, () => { 
                                    updateBattleUI(); 
                                    setTimeout(startTurnPhase, 800); 
                                }); 
                            } else { 
                                typeMessage("Error: Opponent has no more Pokémon?", () => { finalizeBattleState(); switchScreen('mainMenu'); }); 
                            }
                        }
                    }
                };
                typeMessage(`Foe's ${o.name} fainted!`, processWinMessages);
            }; 
            cb(); 
            updateBattleUI(); 
        }
        
        function getEvolutionTarget(currentPokedexId) { 
            const currentPokemonData = pokemonPool.find(p => p.pokedexId === currentPokedexId);
            if (currentPokemonData && typeof currentPokemonData.evolvesToPokedexId === 'number') {
                return pokemonPool.find(p => p.pokedexId === currentPokemonData.evolvesToPokedexId);
            }
            return null;
        }

        function evolvePokemon(pokemonToEvolve, evolvedFormData, isPermanentEvolution = false) {
            const originalName = pokemonToEvolve.name;
            const originalPokedexId = pokemonToEvolve.pokedexId;

            if (!isPermanentEvolution && !pokemonToEvolve.originalEvolutionData) {
                pokemonToEvolve.originalEvolutionData = {
                    pokedexId: originalPokedexId, name: pokemonToEvolve.name, types: [...pokemonToEvolve.types],
                    maxHP: pokemonToEvolve.maxHP, baseStats: JSON.parse(JSON.stringify(pokemonToEvolve.baseStats)),
                    moves: pokemonToEvolve.moves.map(m => ({ ...m })), spriteFrontUrl: pokemonToEvolve.spriteFrontUrl,
                    spriteBackUrl: pokemonToEvolve.spriteBackUrl, isShiny: pokemonToEvolve.isShiny,
                    evolvesToPokedexId: pokemonToEvolve.evolvesToPokedexId 
                };
            } else if (isPermanentEvolution) {
                pokemonToEvolve.originalEvolutionData = null; 
            }
            
            pokemonToEvolve.pokedexId = evolvedFormData.pokedexId; 
            pokemonToEvolve.name = evolvedFormData.name;
            pokemonToEvolve.types = [...evolvedFormData.types];
            const oldMaxHP = pokemonToEvolve.maxHP;
            pokemonToEvolve.maxHP = evolvedFormData.hp;
            pokemonToEvolve.currentHP = Math.max(1, Math.floor((pokemonToEvolve.currentHP / oldMaxHP) * pokemonToEvolve.maxHP));
            pokemonToEvolve.baseStats = JSON.parse(JSON.stringify(evolvedFormData.baseStats));
            pokemonToEvolve.moves = evolvedFormData.moves.map(m => ({ ...m, currentPp: m.maxPp })); 
            pokemonToEvolve.evolvesToPokedexId = evolvedFormData.evolvesToPokedexId || null; 
            
            pokemonToEvolve.spriteFrontUrl = evolvedFormData.spriteFront; 
            pokemonToEvolve.spriteBackUrl = evolvedFormData.spriteBack;   
            if (pokemonToEvolve.isShiny) { 
                 const shinyBaseUrl = "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon";
                 pokemonToEvolve.spriteFrontUrl = `${shinyBaseUrl}/shiny/${evolvedFormData.pokedexId}.png`;
                 pokemonToEvolve.spriteBackUrl = `${shinyBaseUrl}/back/shiny/${evolvedFormData.pokedexId}.png`;
            }

            if (isPermanentEvolution) {
                const teamPokemonInstance = selectedTrainerData.team.find(p => p && p.id === pokemonToEvolve.id);
                if (teamPokemonInstance) {
                    teamPokemonInstance.pokedexId = pokemonToEvolve.pokedexId;
                    teamPokemonInstance.name = pokemonToEvolve.name;
                    teamPokemonInstance.types = [...pokemonToEvolve.types];
                    teamPokemonInstance.maxHP = pokemonToEvolve.maxHP;
                    teamPokemonInstance.currentHP = pokemonToEvolve.currentHP; 
                    teamPokemonInstance.baseStats = JSON.parse(JSON.stringify(pokemonToEvolve.baseStats));
                    teamPokemonInstance.moves = pokemonToEvolve.moves.map(m => ({...m}));
                    teamPokemonInstance.spriteFrontUrl = pokemonToEvolve.spriteFrontUrl; 
                    teamPokemonInstance.spriteBackUrl = pokemonToEvolve.spriteBackUrl;   
                    teamPokemonInstance.isShiny = pokemonToEvolve.isShiny;
                    teamPokemonInstance.evolvesToPokedexId = pokemonToEvolve.evolvesToPokedexId;
                    teamPokemonInstance.originalEvolutionData = null; 
                    saveGame(); 
                }
            }
            return originalName;
        }

        function useEvolutionItem(itemName) { 
            const playerPokemon = battleState.playerTeam[battleState.playerActiveIndex];
            const evolutionTargetData = getEvolutionTarget(playerPokemon.pokedexId); 
            const isPermanent = itemName === "Perma Evolution Stone";

            if (evolutionTargetData && selectedTrainerData.inventory[itemName] > 0) {
                selectedTrainerData.inventory[itemName]--;
                if (!isPermanent) saveGame(); 
                
                itemMenuEl.style.display = 'none';
                typeMessage(`${selectedTrainerData.name} used a ${itemName}!`, () => {
                    typeMessage(`${playerPokemon.name} is evolving!`, () => {
                        playerPokemonSpriteEl.parentElement.classList.add('flash-anim');
                        setTimeout(() => {
                            playerPokemonSpriteEl.parentElement.classList.remove('flash-anim');
                            
                            const originalName = evolvePokemon(playerPokemon, evolutionTargetData, isPermanent);
                            updateBattleUI(); 

                            typeMessage(`Congratulations! Your ${originalName} evolved into ${playerPokemon.name}!${isPermanent ? " (Permanently)" : ""}`, () => {
                                opponentActionPhase(); 
                            });
                        }, 1000); 
                    });
                });
            } else {
                typeMessage("It won't have any effect.", () => {
                    playerActionPhase(); 
                });
            }
        }
        
        function throwPokeball(itemName) {
            if (!battleState.isWildBattle) {
                typeMessage("Can only use Poké Balls in wild battles!", playerActionPhase);
                return;
            }
            if (!selectedTrainerData || !selectedTrainerData.inventory || selectedTrainerData.inventory[itemName] <= 0) {
                typeMessage(`You don't have any ${itemName}s!`, playerActionPhase);
                return;
            }

            selectedTrainerData.inventory[itemName]--;
            saveGame();

            const opponentPokemon = battleState.opponentTeam[battleState.opponentActiveIndex];
            typeMessage(`${selectedTrainerData.name} used a ${itemName}!`, () => {
                const pokeballAnim = document.createElement('div');
                pokeballAnim.classList.add('pokeball-throw-animation');
                
                const playerRect = playerPokemonSpriteEl.getBoundingClientRect();
                const opponentRect = opponentPokemonSpriteEl.getBoundingClientRect();
                const arenaRect = screens.battle.querySelector('.battle-arena').getBoundingClientRect();

                pokeballAnim.style.left = `${playerRect.left + playerRect.width / 2 - arenaRect.left - 15}px`;
                pokeballAnim.style.top = `${playerRect.bottom - arenaRect.top - 30 - 15}px`; 

                pokeballAnim.style.setProperty('--target-x', `${opponentRect.left + opponentRect.width / 2 - (playerRect.left + playerRect.width / 2)}px`);
                pokeballAnim.style.setProperty('--target-y', `${opponentRect.top + opponentRect.height / 2 - (playerRect.bottom - 30)}px`);


                if (itemName === "Great Ball") pokeballAnim.style.backgroundImage = 'var(--item-icon-greatball)';
                
                attackAnimationLayer.appendChild(pokeballAnim);

                setTimeout(() => {
                    pokeballAnim.remove();
                    const catchRateBase = itemName === "Great Ball" ? 1.5 : 1;
                    const maxHP = opponentPokemon.maxHP;
                    const currentHP = opponentPokemon.currentHP;
                    let catchChance = (((3 * maxHP - 2 * currentHP) * 45 * catchRateBase) / (3 * maxHP)) / 255;
                    if (opponentPokemon.status && (opponentPokemon.status === "SLP" || opponentPokemon.status === "FRZ")) catchChance *= 2.5;
                    else if (opponentPokemon.status && (opponentPokemon.status === "PAR" || opponentPokemon.status === "PSN" || opponentPokemon.status === "BRN")) catchChance *= 1.5;
                    
                    if (Math.random() < catchChance || opponentPokemon.currentHP <= 1) {
                        typeMessage(`Gotcha! ${opponentPokemon.name.toUpperCase()} was caught!`, () => {
                            opponentPokemonSpriteEl.parentElement.classList.add('pokemon-caught-flash');
                            setTimeout(() => {
                                opponentPokemonSpriteEl.parentElement.classList.remove('pokemon-caught-flash');
                                const caughtPokemonData = pokemonPool.find(p => p.pokedexId === opponentPokemon.pokedexId); 
                                const newPlayerPokemon = createPokemonFromData(caughtPokemonData, false, true); 
                                newPlayerPokemon.currentHP = Math.max(1, opponentPokemon.currentHP); 
                                newPlayerPokemon.status = opponentPokemon.status;
                                newPlayerPokemon.isShiny = opponentPokemon.isShiny; 
                                
                                if (selectedTrainerData.team.length < MAX_TEAM_SIZE) {
                                    selectedTrainerData.team.push(newPlayerPokemon);
                                    alert(`${newPlayerPokemon.name.toUpperCase()} was added to your team!`);
                                } else {
                                    selectedTrainerData.pcBox.push(newPlayerPokemon);
                                    alert(`${newPlayerPokemon.name.toUpperCase()} was sent to the PC!`);
                                }
                                finalizeBattleState(); 
                                battleState.isWildBattle = false; 
                                switchScreen('mainMenu');
                            }, 600);
                        });
                    } else {
                        typeMessage(`Oh no! The Pokémon broke free!`, opponentActionPhase);
                    }
                }, 3500); 
            });
        }


        function showItemMenu() {
            if (!selectedTrainerData || !selectedTrainerData.inventory) {
                typeMessage("No items in inventory.", playerActionPhase);
                return;
            }
            itemMenuEl.innerHTML = ''; 
            const pPok = battleState.playerTeam[battleState.playerActiveIndex];
            let usableItemsFound = false;

            const evoStones = ["Evolution Stone", "Perma Evolution Stone"];
            evoStones.forEach(stoneName => {
                if (selectedTrainerData.inventory[stoneName] > 0) {
                    const evoTarget = getEvolutionTarget(pPok.pokedexId); 
                    if (evoTarget) {
                        const btn = document.createElement('button');
                        btn.dataset.itemName = stoneName;
                        btn.innerHTML = `<span class="item-icon-battle evolutionstone"></span><span class="item-name-battle">${stoneName}</span><span class="item-count-battle">x${selectedTrainerData.inventory[stoneName]}</span>`;
                        itemMenuEl.appendChild(btn);
                        usableItemsFound = true;
                    }
                }
            });


            if (battleState.isWildBattle) {
                const balls = ["Poke Ball", "Great Ball"];
                balls.forEach(ballName => {
                    if (selectedTrainerData.inventory[ballName] > 0) {
                        const btn = document.createElement('button');
                        btn.dataset.itemName = ballName;
                        const battleIconClass = ballName === "Poke Ball" ? "pokeball" : "greatball";
                        btn.innerHTML = `<span class="item-icon-battle ${battleIconClass}"></span><span class="item-name-battle">${ballName}</span><span class="item-count-battle">x${selectedTrainerData.inventory[ballName]}</span>`;
                        itemMenuEl.appendChild(btn);
                        usableItemsFound = true;
                    }
                });
            }

            if (!usableItemsFound) {
                typeMessage("No usable items for this situation.", playerActionPhase);
                return;
            }

            const backBtn = document.createElement('button');
            backBtn.dataset.action = "back-to-actions";
            backBtn.innerHTML = 'BACK';
            itemMenuEl.appendChild(backBtn);

            actionMenuEl.style.display = 'none';
            moveMenuEl.style.display = 'none';
            battleTextboxEl.style.display = 'none';
            itemMenuEl.style.display = 'grid';
        }

        function showGymLeaderSelectScreen() {
            gymLeaderGridEl.innerHTML = '';
            Object.keys(gymLeadersData).forEach(key => {
                const leader = gymLeadersData[key];
                const leaderButton = document.createElement('button');
                leaderButton.classList.add('gym-leader-button');
                leaderButton.textContent = leader.name;
                leaderButton.dataset.leaderKey = key;
                leaderButton.addEventListener('click', () => showGymLeaderDetailScreen(key));
                gymLeaderGridEl.appendChild(leaderButton);
            });
            switchScreen('gymLeaderSelect');
        }

        function showGymLeaderDetailScreen(leaderKey) {
            const leader = gymLeadersData[leaderKey];
            if (!leader) {
                alert("Gym Leader not found!");
                switchScreen('gymLeaderSelect');
                return;
            }
            gymLeaderDetailNameEl.textContent = leader.name;
            gymLeaderCardImageEl.src = leader.cardUrl;
            gymLeaderCardImageEl.alt = leader.name + " Card";
            gymLeaderDialogEl.textContent = leader.dialog || `Prepare to battle ${leader.name}!`;
            
            btnStartGymBattle.onclick = () => {
                battleState.currentGymLeaderKey = leaderKey;
                prepareBattle(startGymBattleActual);
            };
            switchScreen('gymLeaderDetail');
        }
        
        function showMyCardsScreen() {
            if (!selectedTrainerData) {
                alert("No trainer data found.");
                switchScreen('mainMenu');
                return;
            }
            collectedCardsGridEl.innerHTML = '';
            collectedBadgesGridEl.innerHTML = '';

            let hasCards = false;
            let hasBadges = false;

            (selectedTrainerData.defeatedGymLeaders || []).forEach(leaderKey => {
                const leaderData = gymLeadersData[leaderKey];
                if (leaderData) {
                    hasCards = true;
                    const cardItem = document.createElement('div');
                    cardItem.classList.add('collected-card-item');
                    const cardImg = document.createElement('img');
                    cardImg.src = leaderData.cardUrl;
                    cardImg.alt = leaderData.name + " Card";
                    cardItem.appendChild(cardImg);
                    collectedCardsGridEl.appendChild(cardItem);

                    hasBadges = true;
                    const badgeItem = document.createElement('div');
                    badgeItem.classList.add('collected-badge-item');
                    const badgeImg = document.createElement('img');
                    badgeImg.src = leaderData.badgeUrl;
                    badgeImg.alt = leaderData.badgeName;
                    const badgeNameP = document.createElement('p');
                    badgeNameP.textContent = `${leaderData.badgeName} (${leaderData.name})`;
                    badgeItem.appendChild(badgeImg);
                    badgeItem.appendChild(badgeNameP);
                    collectedBadgesGridEl.appendChild(badgeItem);
                }
            });

            noCollectedCardsMsgEl.style.display = hasCards ? 'none' : 'block';
            noCollectedBadgesMsgEl.style.display = hasBadges ? 'none' : 'block';

            switchScreen('myCards');
        }

        function showStarterSelectScreen() {
            startersGridEl.innerHTML = '';
            const starterPokedexIds = [1, 4, 7]; 
            starterPokedexIds.forEach(pokedexId => {
                const pokemonData = pokemonPool.find(p => p.pokedexId === pokedexId);
                if (pokemonData) {
                    const card = document.createElement('div');
                    card.classList.add('starter-card');
                    card.dataset.starterId = pokedexId;
                    
                    const img = document.createElement('img');
                    img.src = pokemonData.spriteFront;
                    img.alt = pokemonData.name;
                    card.appendChild(img);

                    const nameP = document.createElement('p');
                    nameP.textContent = pokemonData.name;
                    card.appendChild(nameP);

                    card.addEventListener('click', () => {
                        tempSelectedStarter = pokemonData;
                        chosenStarterNameDialogSpan.textContent = pokemonData.name;
                        switchScreen('confirmStarterDialog');
                    });
                    startersGridEl.appendChild(card);
                }
            });
            switchScreen('starterSelect');
        }


        function saveGame() { if (selectedTrainerData) { localStorage.setItem(SAVE_KEY, JSON.stringify(selectedTrainerData)); console.log("Game Saved!"); } else { console.warn("No trainer selected to save!"); } } 
        function loadGame() { 
            const sd = localStorage.getItem(SAVE_KEY); 
            if (sd) { 
                try { 
                    selectedTrainerData = JSON.parse(sd); 
                    selectedTrainerData.coins = selectedTrainerData.coins || 0;
                    
                    selectedTrainerData.inventory = selectedTrainerData.inventory || {};
                    const defaultItems = { "Poke Ball": 0, "Great Ball": 0, "Evolution Stone": 0, "Perma Evolution Stone": 0 };
                    for (const item in defaultItems) {
                        if (typeof selectedTrainerData.inventory[item] === 'undefined') {
                            selectedTrainerData.inventory[item] = defaultItems[item];
                        }
                    }
                    (selectedTrainerData.team || []).forEach(p => { 
                        if(p) {
                            p.originalEvolutionData = p.originalEvolutionData || null; 
                            p.moves.forEach(m => {
                                if (typeof m.currentPp === 'undefined') m.currentPp = m.maxPp;
                            });
                        }
                    });
                    (selectedTrainerData.pcBox || []).forEach(p => { 
                        if(p) {
                            p.originalEvolutionData = p.originalEvolutionData || null;
                            p.moves.forEach(m => {
                                if (typeof m.currentPp === 'undefined') m.currentPp = m.maxPp;
                            });
                        }
                    });


                    selectedTrainerData.team = selectedTrainerData.team || []; 
                    selectedTrainerData.pcBox = selectedTrainerData.pcBox || [];
                    selectedTrainerData.defeatedGymLeaders = selectedTrainerData.defeatedGymLeaders || []; 
                    selectedTrainerData.hasChosenStarter = typeof selectedTrainerData.hasChosenStarter !== 'undefined' ? selectedTrainerData.hasChosenStarter : false;


                    if (chosenTrainerImageMainMenu && selectedTrainerData.imageUrl) { 
                        chosenTrainerImageMainMenu.src = selectedTrainerData.imageUrl; 
                        chosenTrainerImageMainMenu.alt = selectedTrainerData.name; 
                    } 
                    updateCoinDisplay();
                    const dm = localStorage.getItem('blazingThunder_darkMode'); 
                    if (dm === 'true') gameBody.classList.add('dark-mode'); 
                    console.log("Game Loaded");
                    return true; 
                } catch (e) { 
                    console.error('Load error:', e); 
                    localStorage.removeItem(SAVE_KEY); 
                    return false; 
                } 
            } 
            return false; 
        }
        function resetGame() { 
            localStorage.removeItem(SAVE_KEY); 
            localStorage.removeItem('blazingThunder_darkMode'); 
            selectedTrainerData = null; 
            tempSelectedStarter = null;
            isNewGameSetup = false;
            gameBody.classList.remove('dark-mode'); 
            if(playerCoinsDisplayMainMenuEl) playerCoinsDisplayMainMenuEl.textContent = "Coins: 0";
            if(marketCoinDisplayEl) marketCoinDisplayEl.textContent = "Coins: 0";
            alert("Game Reset! Select a new trainer."); 
            switchScreen('intro'); 
        }

        document.addEventListener('DOMContentLoaded', () => {
            const cyEl = document.getElementById('currentYear'); if (cyEl) cyEl.textContent = new Date().getFullYear();
            const gsBtn = document.getElementById('gameStartButton');
            function setupEvtLstnrs() {
                const hS = (e) => { e.preventDefault(); if (loadGame() && selectedTrainerData.hasChosenStarter) { switchScreen('mainMenu'); } else { isNewGameSetup = true; switchScreen('characterSelect'); } }; 
                if (gsBtn) { gsBtn.addEventListener('click', hS); gsBtn.addEventListener('touchend', hS, {passive: false}); } else console.error("gsBtn not found!");
                
                trainerCards.forEach(c => { c.addEventListener('click', () => { const tn = c.dataset.trainer; selectedTrainerData = JSON.parse(JSON.stringify(trainersData[tn])); chosenTrainerNameSpan.textContent = selectedTrainerData.name; switchScreen('confirmDialog'); }); });
                
                if(confirmYesButton) confirmYesButton.addEventListener('click', () => { 
                    if (selectedTrainerData) { 
                        selectedTrainerData.coins = 0; 
                        selectedTrainerData.inventory = { "Poke Ball": 5, "Great Ball": 0, "Evolution Stone": 1, "Perma Evolution Stone": 0 };
                        selectedTrainerData.team = []; 
                        selectedTrainerData.pcBox = [];
                        selectedTrainerData.defeatedGymLeaders = []; 
                        selectedTrainerData.hasChosenStarter = false; 

                        if (isNewGameSetup) {
                            showStarterSelectScreen();
                        } else { 
                            saveGame();
                            switchScreen('mainMenu');
                        }
                    } else switchScreen('characterSelect'); 
                });
                if(confirmNoButton) confirmNoButton.addEventListener('click', () => { selectedTrainerData = null; switchScreen('characterSelect'); });

                if(confirmStarterYesButton) confirmStarterYesButton.addEventListener('click', () => {
                    if (selectedTrainerData && tempSelectedStarter) {
                        selectedTrainerData.team.push(createPokemonFromData(tempSelectedStarter, false, true));
                        selectedTrainerData.hasChosenStarter = true;
                        tempSelectedStarter = null;
                        isNewGameSetup = false;

                        if (chosenTrainerImageMainMenu && selectedTrainerData.imageUrl) { 
                            chosenTrainerImageMainMenu.src = selectedTrainerData.imageUrl; 
                            chosenTrainerImageMainMenu.alt = selectedTrainerData.name; 
                        } 
                        updateCoinDisplay(); 
                        saveGame(); 
                        switchScreen('mainMenu'); 
                    } else {
                        switchScreen('starterSelect'); 
                    }
                });
                if(confirmStarterNoButton) confirmStarterNoButton.addEventListener('click', () => { tempSelectedStarter = null; switchScreen('starterSelect'); });

                
                if(btnPlay) btnPlay.addEventListener('click', () => switchScreen('playMenu'));
                if(btnQuickBattlePlay) btnQuickBattlePlay.addEventListener('click', () => prepareBattle(startQuickBattle)); 
                if(btnWildModePlay) btnWildModePlay.addEventListener('click', () => prepareBattle(startWildBattleActual));
                if(btnGymBattlePlay) btnGymBattlePlay.addEventListener('click', showGymLeaderSelectScreen); 
                if(btnEliteBattlesPlay) btnEliteBattlesPlay.addEventListener('click', () => alert('Elite Battles not implemented yet!'));
                if(btnBackToMainFromPlay) btnBackToMainFromPlay.addEventListener('click', () => switchScreen('mainMenu'));

                if(btnOptions) btnOptions.addEventListener('click', () => switchScreen('optionsMenu'));
                if(tabMyCards) tabMyCards.addEventListener('click', showMyCardsScreen); 
                if(tabTeam) tabTeam.addEventListener('click', showTeamScreen);
                if(tabMarket) tabMarket.addEventListener('click', showMarketScreen);
                if(tabInventory) tabInventory.addEventListener('click', showInventoryScreen);
                if(marketItemsGridEl) { marketItemsGridEl.addEventListener('click', (e) => { if (e.target.classList.contains('buy-button')) { const itemName = e.target.dataset.itemName; const price = e.target.dataset.price; buyItem(itemName, price); } }); }
                if(btnBackToMainFromMarket) btnBackToMainFromMarket.addEventListener('click', () => switchScreen('mainMenu'));
                if(btnBackToMainFromInventory) btnBackToMainFromInventory.addEventListener('click', () => switchScreen('mainMenu'));
                if(btnBackToMainFromTeam) btnBackToMainFromTeam.addEventListener('click', () => switchScreen('mainMenu'));
                if(btnSaveGameOpt) btnSaveGameOpt.addEventListener('click', saveGame); 
                if(btnResetGameOpt) btnResetGameOpt.addEventListener('click', () => switchScreen('resetConfirmDialog'));
                if(btnDarkModeOpt) btnDarkModeOpt.addEventListener('click', () => { gameBody.classList.toggle('dark-mode'); localStorage.setItem('blazingThunder_darkMode', gameBody.classList.contains('dark-mode')); });
                if(btnBackToMainOpts) btnBackToMainOpts.addEventListener('click', () => switchScreen('mainMenu')); 
                if(resetConfirmYesButton) resetConfirmYesButton.addEventListener('click', resetGame); if(resetConfirmNoButton) resetConfirmNoButton.addEventListener('click', () => switchScreen('optionsMenu'));
                
                if(btnBackToPlayMenuFromGymSelect) btnBackToPlayMenuFromGymSelect.addEventListener('click', () => switchScreen('playMenu'));
                if(btnBackToGymSelectFromDetail) btnBackToGymSelectFromDetail.addEventListener('click', showGymLeaderSelectScreen);
                if(btnBackToMainFromMyCards) btnBackToMainFromMyCards.addEventListener('click', () => switchScreen('mainMenu'));

                if(actionMenuEl) actionMenuEl.addEventListener('click', (e) => { 
                    if (!battleState.playerTurn || battleState.isProcessingMessage) return; 
                    const buttonTarget = e.target.closest('button');
                    if (buttonTarget && buttonTarget.parentElement === actionMenuEl) { 
                        const act = buttonTarget.dataset.action; 
                        actionMenuEl.style.display='none'; 
                        switch(act){ 
                            case 'fight': showMoveMenu(); break; 
                            case 'item': showItemMenu(); break; 
                            case 'pokemon': showSwitchScreen(false); break; 
                            case 'run': 
                                if (battleState.isWildBattle) {
                                    typeMessage("Got away safely!", () => { 
                                        finalizeBattleState();
                                        battleState = { ...battleState, playerTeam: [], opponentTeam:[], isWildBattle: false, isGymBattle: false, currentGymLeaderKey: null, switchingAfterFaint: false }; 
                                        switchScreen('mainMenu'); 
                                    }); 
                                } else if (battleState.isGymBattle) {
                                     typeMessage("You can't run from a Gym Battle!", playerActionPhase);
                                } else { 
                                    typeMessage("You can't run from a trainer battle!", playerActionPhase);
                                }
                                break;
                        }
                    }
                });

                if(itemMenuEl) itemMenuEl.addEventListener('click', (e) => {
                    if (!battleState.playerTurn || battleState.isProcessingMessage) return;
                    const btn = e.target.closest('button');
                    if (btn && btn.parentElement === itemMenuEl) {
                        const itemName = btn.dataset.itemName;
                        const action = btn.dataset.action;

                        itemMenuEl.style.display = 'none'; 

                        if (action === 'back-to-actions') {
                            playerActionPhase();
                            return;
                        }

                        if (itemName === "Evolution Stone" || itemName === "Perma Evolution Stone") {
                            useEvolutionItem(itemName);
                        } else if (itemName === "Poke Ball" || itemName === "Great Ball") {
                            if (battleState.isWildBattle) {
                                throwPokeball(itemName);
                            } else { 
                                typeMessage("Can only use Poke Balls in wild battles!", playerActionPhase);
                            }
                        }
                    }
                });

                if(moveMenuEl) moveMenuEl.addEventListener('click', (e) => { if (!battleState.playerTurn || battleState.isProcessingMessage) return; const btn = e.target.closest('button'); if (btn && btn.parentElement === moveMenuEl && !btn.disabled) { const mIdx = parseInt(btn.dataset.moveIndex); playerAttack(mIdx); }});
                if(switchCancelButton) switchCancelButton.addEventListener('click', () => { if (currentScreen === 'switchPokemon' && !battleState.switchingAfterFaint) { switchScreen('battle'); playerActionPhase(); }});
            }
            setupEvtLstnrs(); 
            if (loadGame()) {
                if (selectedTrainerData.hasChosenStarter) {
                    switchScreen('mainMenu');
                } else { 
                    isNewGameSetup = true;
                    showStarterSelectScreen();
                }
            } else { 
                isNewGameSetup = true; 
                switchScreen('intro');
            }
            updateCoinDisplay(); 
            if (screens[currentScreen] && screens[currentScreen].style.display === 'none') screens[currentScreen].style.display = 'flex';
        });
    </script>
</body>
</html>